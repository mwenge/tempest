ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14
TABLE OF CONTENTS

   1-  2 **************************
   1-  3 *
   1-  4 *PROGRAMMER: DFT
   1-  5 *MODULE: ALWELG
   1-  6 *FUNCTION: PERFORMS ALIENS WELL GAME FUNCTION
   1-  7 *
   1-  8 **************************
   1- 10 **************************************************
   1- 11 *						*
   1- 12 *MODULE:		ALCOMN				*
   1- 13 *PROGRAMMER:	DAVE THEURER			*
   1- 14 *FUNCTION:	ALIENS CONSTANTS AND VARIABLES	*
   1- 15 *		TO BE .INCLUDED IN:		*
   1- 16 *		    ALGAME,ALDISP,ALHARD	*
   1- 17 *						*
   1- 18	COPYRIGHT 1980 ATARI, INC.  UNAUTHORIZED REPRODUCTION,
   1- 19	ADAPTION, DISTRIBUTION, PERFORMANCE OR DISPLAY OF THIS
   1- 20	COMPUTER PROGRAM OR THE ASSOCIATED AUDIOVISUAL WORK IS
   1- 21	STRICTLY PROHIBITED.
   1- 22 **************************************************
   2-  4 CONSTANTS-COUNTS
   2- 25 CONSTANTS-STATE CODES
   4-  1 CONSTANTS-PICTURES
   4- 22	BOOM
   6-  1	HARDWARE DEFINITIONS
   7-  1 VARIABLES-CONTROL
   8-  1 VARIABLES-WORK
   8- 22 VARIABLES-PLAYERS
   8- 41 VARIABLES-SWITCHES
   9-  1 VARIABLES-DISPLAY
  11- 25	VARIABLES - PLAY
  12-  1	CONSTANTS-COUNTS
  12- 12	CONSTANTS-PLAYFIELD
  12- 17	VARIABLES-OBJECT COUNTERS
  13-  1	VARIABLES-OBJECT LOCATION + STATUS
  13-137	VARIABLES - PAGE 1
  16- 13 INITIALIZE - MAINLINE
  17-  2	INITIALIZE-NEW WAVE PART 2
  18-  1	INITIALIZE-PREPARE FOR SKILL LEVEL REQUEST STATE
  18- 78	INITIALIZE-SET SKILL LEVEL
  19-  2	BONUS SCORE DETERMINATION
  20-  1 INITIALIZE - CURSOR
  20- 14 INITIALIZE - NYMPHS
  20- 21	INIT ENEMY LINES
  20- 56 INITIALIZE - INVADERS
  20- 74 INITIALIZE - CHARGES
  20- 85	INITIALIZE EXPLOSIONS
  21-  1	INITIALIZE-SET SKILL LEVEL FOR WAVE
  21- 75	EASY - MED - HARD OPTIONS
  22-  1	SKILL CONTOUR TABLES
  23-  1	PARAMETER TYPE CODE EXTRACTION VECTORS
  24-  1 PLAY - MAINLINE (TOP OF WELL)
  25-  1	PLAY - MAINLINE (DROP MODE)
  26-  1 PLAY - MOVE CURSOR (PRELIMINARY CHECK)
  26-  7 PLAY - MOVE CURSOR (MAINLINE)
  26- 78	PLAY-AUTO MOVE OF CURSOR
  27-  2	PLAY-MOVE CURSOR DOWN
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14
TABLE OF CONTENTS

  28-  1 PLAY - MOVE NYMPHS
  29-  2	PLAY - CONVERT NYMPH TO INVADER
  30-  1	PLAY - ACTIVATE INVADER
  31-  1	PLAY - DETERMINE NYMPH TYPE
  31-226	PLAY - DETERMINE SPLIT INVADER CHARACTERISTICS
  32-  1 PLAY - MOVE INVADERS (MAINLINE)
  33-  2	PLAY - INVADERS - CAM DISPATCHER
  33- 10	CAM TABLE MACROS
  33- 36	CAM TABLE SUBROUTINE POINTERS
  34-  1	PLAY - INVADERS - CAM SUBROUTINES
  35-  2	PLAY - INVADERS - CAM ROUTINES
  35- 22 PLAY - MOVE INVADERS (MOVE 1 UP)
  36-  1	PLAY - INVADERS (PULSE MOVE)
  37-  1 PLAY - INVADERS (CONVERT TO CHASER)
  37- 55
  38-  1 PLAY - MOVE INVADERS (PROCESS JUMP)
  39-  1 PLAY - MOVE INVADERS (CHASE PLAYER)
  40-  2 PLAY - MOVE INVADERS (START A JUMP)
  41-  1	PLAY-INVADER FUSE UP/DOWN MOTION
  41- 54	INVADER FUSE JUMP DECISION
  41- 75	INVADER FUSE LEFT/RIGHT VECTOR
  42-  1	PLAY - INVADERS -TRAILER
  43-  2	PLAY - KILL INVADER
  44-  1	PLAY - INVADER CAM TABLES
  45-  2 PLAY - MOVE CHARGES
  45- 59	PLAY - CHARGE LINE COLLISION
  46-  1 PLAY - FIRE PLAYER CHARGE
  47-  1 PLAY - FIRE INVADER CHARGE
  48-  1	PLAY-START EXPLOSION
  48-  5	PLAY-EXPLOSION OF FUSE INIT
  49-  1	PLAY-PROCESS EXPLOSIONS
  50-  1 PLAY - COLLISION (MAINLINE)
  51-  1	PLAY - COLLISION - SINGLE CHECK
  53-  1 PLAY - ANALYZE GAME
  54-  1	INITIALIZE CURSOR DROP MODE
  55-  2	PLAY-PROCESS BIG BOOM
  59-  1	INITIALIZE PARTICLES
  59- 18 UTILITY - LINE LINE POLOR DELTA
  60-  2	INITIALIZE-PLANES OF STARS
  61-  1	PLAY-PROCESS PLANES OF STARS
  62-  2 INITIALIZE SUPER ZAP
  62- 11 PROCESS SUPER ZAPPER
  62- 54 SUPER ZAP-WIPE OUT ENEMY
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 1


     1                                  .TITLE ALWELG-ALIENS WELL GAME MAINLINE
     2                                          .SBTTL **************************
     3                                          .SBTTL *
     4                                          .SBTTL *PROGRAMMER: DFT
     5                                          .SBTTL *MODULE: ALWELG
     6                                          .SBTTL *FUNCTION: PERFORMS ALIENS WELL GAME FUNCTION
     7                                          .SBTTL *
     8                                          .SBTTL **************************
     9+                                         .INCLUDE ALCOMN	;<<<<<<<<<<<<<<<<
    10+                                 .SBTTL **************************************************
    11+                                         .SBTTL *                                                *
    12+                                         .SBTTL *MODULE:         ALCOMN                          *
    13+                                         .SBTTL *PROGRAMMER:     DAVE THEURER                    *
    14+                                         .SBTTL *FUNCTION:       ALIENS CONSTANTS AND VARIABLES  *
    15+                                         .SBTTL *                TO BE .INCLUDED IN:             *
    16+                                         .SBTTL *                    ALGAME,ALDISP,ALHARD        *
    17+                                         .SBTTL *                                                *
    18+                                         .SBTTL  COPYRIGHT 1980 ATARI, INC.  UNAUTHORIZED REPRODUCTION,
    19+                                         .SBTTL  ADAPTION, DISTRIBUTION, PERFORMANCE OR DISPLAY OF THIS
    20+                                         .SBTTL  COMPUTER PROGRAM OR THE ASSOCIATED AUDIOVISUAL WORK IS
    21+                                         .SBTTL  STRICTLY PROHIBITED.
    22+                                         .SBTTL **************************************************
    23+                                         .ENABL AMA
    24#                                         .INCLUDE HLL65		;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
    25#        0000                     ...X=0
    26#                                 .MACRO  DEFIF   ...1,...2
    27#                                 .MACRO  ...1
    28#                                         IFXX    ...2
    29#                                         .ENDM
    30#                                         .ENDM
    31#                                 .MACRO  IFXX    ...1
    32#                                         LOC
    33#                                         ...1    .+2
    34#                                         .ENDM
    35#                                 .MACRO  THEN
    36#                                         FND
    37#                                         .ENDM
    38#                                 .MACRO ENDIF
    39#                                         FND
    40#                                         .ENDM
    41#                                 .MACRO  ELSE
    42#                                         CLV
    43#                                         IFVS
    44#                                         SWAP
    45#                                         THEN
    46#                                         .ENDM
    47#                                 .MACRO  BEGIN
    48#                                         LOC
    49#                                         .ENDM
    50#                                 .MACRO  LOC
    51#                                         ...RD=10
    52#                                         .RADIX  10.
    53#                                         ...X=...X+1
    54#                                         .LOC.   \...X
    55#                                         .RADIX  ...RD
    56#                                         .ENDM
    57#                                 .MACRO  .LOC.   ...1
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 1+
**************************************************

    58#                                         S'...1=.
    59#                                         .ENDM
    60#                                 .MACRO  FND
    61#                                         ...RD=10
    62#                                         .RADIX  10.
    63#                                         .FND.   \...X
    64#                                         ...X=...X-1
    65#                                         .RADIX  ...RD
    66#                                         .ENDM
    67#                                 .MACRO  .FND.   ...1
    68#                                         ...T=.-S'...1-2
    69#                                         .IIF LT,...T+128,.ERROR ...T;A
    70#                                         .IIF GT,...T-127,.ERROR ...T;A
    71#                                         ...T=.
    72#                                         .=S'...1+1
    73#                                         .BYTE   ...T-S'...1-2
    74#                                         .=...T
    75#                                         .ENDM
    76#                                 .MACRO  SWAP
    77#                                         ...RD=10
    78#                                         .RADIX  10.
    79#                                         .Z.=...X-1
    80#                                         .SWAP.  \...X,\.Z.
    81#                                         .RADIX  ...RD
    82#                                         .ENDM
    83#                                 .MACRO  .SWAP.  ...1,...2
    84#                                         ...T=S'...2
    85#                                         S'...2=S'...1
    86#                                         S'...1=...T
    87#                                         .ENDM
    88#                                 .MACRO  DEFEND  ...1,...2,...3
    89#                                 .MACRO  ...1
    90#                                         ..END   ...2,...3
    91#                                         .ENDM
    92#                                         .ENDM
    93#                                 .MACRO  ..END   ...1,...2
    94#                                         ...RD=10
    95#                                         .RADIX  10.
    96#                                         .END.   ...1,...2,\...X
    97#                                         ...X=...X-1
    98#                                         .RADIX  ...RD
    99#                                         .ENDM
   100#                                 .MACRO  .END.   ...1,...2,...3
   101#                                         .IF     GE,.-S'...3-127.
   102#                                         ...2    .+5
   103#                                         JMP     S'...3
   104#                                         .IFF
   105#                                         ...1    S'...3
   106#                                         .ENDC
   107#                                         .ENDM
   108#  0000                                   DEFIF   IFCC,BCS
   109#  0000                                   DEFIF   IFCS,BCC
   110#  0000                                   DEFIF   IFEQ,BNE
   111#  0000                                   DEFIF   IFNE,BEQ
   112#  0000                                   DEFIF   IFMI,BPL
   113#  0000                                   DEFIF   IFPL,BMI
   114#  0000                                   DEFIF   IFVC,BVS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 1+
**************************************************

   115#  0000                                   DEFIF   IFVS,BVC
   116#  0000                                   DEFEND  CCEND,BCS,BCC
   117#  0000                                   DEFEND  CSEND,BCC,BCS
   118#  0000                                   DEFEND  EQEND,BNE,BEQ
   119#  0000                                   DEFEND  NEEND,BEQ,BNE
   120#  0000                                   DEFEND  MIEND,BPL,BMI
   121#  0000                                   DEFEND  PLEND,BMI,BPL
   122#  0000                                   DEFEND  VCEND,BVS,BVC
   123#  0000                                   DEFEND  VSEND,BVC,BVS
   124#                                 .MACRO  LDAL    ...1
   125#                                         .BYTE   0A9
   126#                                         .WORD   ...1
   127#                                         .=.-1
   128#                                         .ENDM
   129#                                 .MACRO  LDAH    ...1
   130#                                         .BYTE   0A9
   131#                                         .ENABL  M68
   132#                                         .WORD   ...1
   133#                                         .DSABL  M68
   134#                                         .=.-1
   135#                                         .ENDM
   136#                                 .MACRO HLL65
   137#                                         .IIF NE,...X,.ERROR ...X;U
   138#                                         .ENDM
   139#                                         .LIST MEB
   140#                                         .NLIST BYT
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 2
**************************************************

     1+        0010                             .RADIX 16
     2+
     3+                                         .NLIST CND
     4+                                         .SBTTL CONSTANTS-COUNTS
     5+        0000                     SPACG=0
     6+
     7+                                 ;
     8+                                 ;SCREEN OBJECT QUANTITIES
     9+                                 ;
    10+        0008                     NHISCO  =8                      ;# OF HIGH SCORES KEPT
    11+        0063                     NRANKS  =99.
    24+
    25+                                         .SBTTL CONSTANTS-STATE CODES
    26+                                 ;
    27+                                 ;QSTATE CODES (ROUTAD INDICES)
    28+                                 ;
    29+        0000                     CNEWGA  =0
    30+        0002                     CNEWLI  =2
    31+        0004                     CPLAY   =4
    32+        0006                     CENDLI  =6
    33+        0008                     CENDGA  =8
    34+        000A                     CPAUSE  =0A
    35+        000C                     CNEWAV  =0C
    36+        000E                     CENDWAV =0E
    37+        0010                     CHISCHK =10
    38+        0014                     CDLADR  =14
    39+        0012                     CGETINI =12
    40+        0014                     CNOTFOU =CDLADR
    41+        0016                     CREQRAT =CDLADR+2
    42+        0018                     CNEWV2  =CREQRAT+2
    43+        001A                     CLOGO   =CNEWV2+2               ;LOGO INIT
    44+        001C                     CINIRAT =CLOGO+2
    45+        001E                     CNWLF2  =CINIRAT+2
    46+        0020                     CDROP   =CNWLF2+2               ;DROP MODE
    47+        0022                     CSYSTM  =CDROP+2
    48+        0024                     CBOOM   =CSYSTM+2               ;BOOM STATE
    49+                                 ;
    50+                                 ;DISPLAY STATE CODES
    51+        0000                     CDPLAY  =0                      ;PLAY
    52+        0002                     CDSYST  =2                      ;SYSTEM CONFIGURATION
    53+        0008                     CDREQRA =8                      ;REQUEST RANK
    54+        000E                     CDPLPL  =0E                     ;PLAY PLAYER WARNING
    55+
    56+        000C                     CDGOVR  =0C                     ;GAME OVER PLAYER MSG
    57+        000A                     CDHITB  =0A                     ;HI SCORE TABLE
    58+        0006                     CDGETI  =6                      ;GET INITIALS
    59+        0004                     CDBOOM  =4                      ;BOOM DISPLAY
    60+        0010                     CDPRST  =CDPLPL+2               ;"PRESS START"
    61+        0016                     CD2GAM  =CDLOGP+2       ;"2 GAME MIN"
    62+        0012                     CDBOXP  =CDPRST+2               ;LOGO BOX
    63+        0014                     CDLOGP  =CDBOXP+2               ;LOGO ITSELF
    64+
    65+
    66+
    67+
    68+                                 ;
    69+                                 ;TIMING FOR PAUSE STATE
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 2+
CONSTANTS-STATE CODES

    70+                                 ;
    71+        0014                     SECOND  =20.                    ;FRAMES/SECOND
    72+        0005                     QUASEC  =SECOND/4               ;QUARTER SECOND FACTOR
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 4
CONSTANTS-PICTURES

     1+                                         .SBTTL CONSTANTS-PICTURES
    22+                                         .SBTTL  BOOM
    23+        0010                     NPARTI  =10                     ;# OF PARTICLES
    24+                                                                 ;PARTICLE DECELERATIONS
    25+        0020                     PARLXA  =20                     ;FRACTIONAL
    26+        0020                     PARLYA  =20
    27+        0020                     PARLZA  =20
    28+        0000                     PARTXA  =0                      ;INTEGER (POSITIVE)
    29+        0000                     PARTYA  =0
    30+        0000                     PARTZA  =0
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 5
BOOM

     1+        0003                     LEDOFF  =<MLED1!MLED2>
     2+        000C                     NROMS   =12.
     3+                                         .MACRO LAH ...X
     4+                                         LDA I,0
     5+                                         .=.-1
     6+                                         .ENABL M68
     7+                                         .WORD ...X
     8+                                         .DSABL M68
     9+                                         .=.-1
    10+                                         .ENDM
    11+                                         .MACRO LXL ...X
    12+                                         LDX I,0
    13+                                         .=.-1
    14+                                         .WORD ...X
    15+                                         .=.-1
    16+                                         .ENDM
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 6
HARDWARE DEFINITIONS

     1+                                         .SBTTL  HARDWARE DEFINITIONS
     2+                                                                 ;
     3+        0800                     COLPORT =800                    ;COLOR RAM
     4+                                                                 ;
     5+        0C00                     IN1     =0C00                   ;INPUT BYTE 1
     6+        0001                     MCOINR  =01                     ;RIGHT COIN MECH
     7+        0002                     MCOINC  =02                     ;CENTER COIN MECH
     8+        0004                     MCOINL  =04                     ;LEFT COIN MECH
     9+        0008                     $LMBIT  =8                      ;SLAM
    10+        0010                     MTEST   =10                     ;SELF TEST
    11+        0020                     MDITES  =20                     ;DIAGNOSTIC TEST SWITCH
    12+        0040                     MHALT   =40                     ;VG HALT
    13+        0080                     M3KHTI  =80                     ;3 KHZ TIMER
    14+                                                                 ;
    15+        0D00                     INOP0   =0D00                   ;OPTION SWITCH 0
    16+        0E00                     INOP1   =0E00                   ;OPTION SWITCH 1
    17+                                                                 ;
    18+        2000                     VECRAM  =2000                   ;VECTOR RAM
    19+        3000                     ROMSTART=3000                   ;ROM START (VECTOR ROM)
    20+                                                                 ;
    21+        4000                     OUT0    =4000                   ;OUTPUT BYTE 0
    22+        0001                     MRCCNT  =01                     ;RIGHT COIN COUNTER
    23+        0002                     MMCCNT  =02                     ;CENTER
    24+        0004                     MLCCNT  =04                     ;LEFT
    25+        0008                     MVINVX  =08                     ;VIDEO INVERT X
    26+        0010                     MVINVY  =10                     ;VIDEO INVERT Y
    27+                                                                 ;
    28+        4800                     VGSTART =4800                   ;VG START
    29+        5000                     WTCHDG  =5000                   ;WATCH DOG CLEAR
    30+        5000                     INTACK  =WTCHDG                 ;
    31+        5800                     VGSTOP  =5800                   ;VG RESET
    32+        6000                     HARDWA  =6000                   ;AUX BOARD IO BASE ADDRESS
    33+        9000                     PROG    =09000                  ;PROGRAM ROM
    34+                                 ;
    35+                                 ; AUX BOARD
    36+                                 ;
    37+        6050                     EAIN    =HARDWA+50              ;EAROM READ PORT
    38+        6000                     EADAL   =HARDWA                 ;EAROM WRITE BASE ADDRESS
    39+        6040                     EACTL   =HARDWA+40              ;EAROM CONTROL
    40+                                                                 ;
    41+        60C0                     POKEY   =HARDWA+0C0             ;POKEY 1
    42+        60D0                     POKEY2  =HARDWA+0D0             ;POKEY 2
    43+                                                                 ;
    44+        60E0                     OUTANK  =HARDWA+0E0             ;OUTPUT BYTE 1
    45+        0002                     MLED1   =2                      ;LED 1
    46+        0001                     MLED2   =1                      ;LED 2
    47+        0004                     MFLIP   =4                      ;FLIP (=1 FOR PLAYER 2)
    48+                                                                 ;
    49+                                                                 ;MATH BOX
    50+        6060                     MYLOW   =HARDWA+60              ;READ LOW
    51+        6070                     MYHIGH  =HARDWA+70              ;READ HIGH
    52+        6040                     MSTAT   =HARDWA+40              ;STATUS
    53+        6080                     MBSTAR  =HARDWA+80              ;START (SIGNS ANALYSIS)
    54+        6080                     MAL     =MBSTAR
    55+        6081                     MAH     =MBSTAR+1
    56+        6082                     MBL     =MBSTAR+2
    57+        6083                     MBH     =MBSTAR+3
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 6+
HARDWARE DEFINITIONS

    58+        6084                     MEL     =MBSTAR+4
    59+        6085                     MEH     =MBSTAR+5
    60+        6086                     MFL     =MBSTAR+6
    61+        6087                     MFH     =MBSTAR+7
    62+        6088                     MXL     =MBSTAR+8
    63+        6089                     MXH     =MBSTAR+9
    64+        608C                     MNL     =MBSTAR+0C
    65+        608D                     MZLL    =MBSTAR+0D
    66+        608E                     MZLH    =MBSTAR+0E
    67+        608F                     MZHL    =MBSTAR+0F
    68+        6090                     MZHH    =MBSTAR+10
    69+        6092                     SYM     =MBSTAR+12
    70+        6094                     MSZXD   =MBSTAR+14
    71+        6095                     MXPL    =MBSTAR+15
    72+        6096                     MXPH    =MBSTAR+16
    73+        6098                     MDYPL   =MBSTAR+18
    74+                                 ;
    75+                                 ; POKEY DEFINITIONS
    76+                                 ;
    77+        60C0                     AUDF1   =POKEY
    78+        60C1                     AUDC1   =POKEY+1
    79+        60C8                     AUDCTL  =POKEY+8
    80+        60C8                     ALLPOT  =POKEY+8
    81+        60CA                     RANDOM  =POKEY+0A
    82+        60CB                     POTGO   =POKEY+0B
    83+        60CF                     SKCTL   =POKEY+0F
    84+        60D0                     AUDF2   =POKEY2
    85+        60D1                     AUDC2   =POKEY2+1
    86+        60D8                     AUD2CTL =POKEY2+8
    87+        60D8                     ALLPO2  =POKEY2+8
    88+        60DA                     RANDO2  =POKEY2+0A
    89+        60DB                     POTGO2  =POKEY2+0B
    90+        60DF                     SKCTL2  =POKEY2+0F
    91+                                                                 ;
    92+                                                                 ;INPUT BYTE 0 (POKEY2 FASTPOT)
    93+                                                                 ;(CONTROLLED BY FLIP)
    94+        0020                     MSTRT1  =20                     ;START 1
    95+        0040                     MSTRT2  =40                     ;START 2
    96+        0008                     MSUZA   =8                      ;SUPPERZAPPER
    97+        0010                     MFIRE   =10                     ;FIRE
    98+        0080                     MFAKE   =80                     ;FAKE INPUT
    99+        0007                     MOPT13  =07                     ;SPECIAL OPTIONS
   100+                                                                 ;
   101+                                                                 ;INPUT BYTE 2 (POKEY 1 FASTPOT)
   102+                                                                 ;(CONTROLLED BY FLIP)
   103+        0010                     COCKTA  =10                     ;=1 IF COCKTAIL
   104+        0020                     MOPTI4  =20                     ;SPECIAL OPTION
   105+                                                                 ;D0-D3 POT READ
   106+                                 ;
   107+                                 ; OPTIONS
   108+                                 ;
   109+        0001                     OM2GAM  =1                      ;2 GAME MIN OPTION MASK
   110+                                 ;
   111+                                 ;COLORS
   112+                                 ;
   113+        0006                     BLUE=6
   114+        0007                     BLULET  =7
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 6+
HARDWARE DEFINITIONS

   115+        0005                     GREEN=5
   116+        0003                     RED=3
   117+        0001                     YELLOW=1
   118+        0000                     WHITE=0
   119+        0002                     PURPLE=2
   120+        0004                     TURQOI=4
   121+        0006                     WELCOL=BLUE                     ;WELL
   122+        0001                     CURCOL=YELLOW                   ;CURSOR
   123+        0000                     ICHCOL=WHITE                    ;ENEMY SHOTS
   124+        0001                     PCHCOL=YELLOW                   ;PLAYER SHOTS
   125+        0003                     INVCOL=RED                      ;INVADERS
   126+        0005                     LETCOL=GREEN                    ;LETTERS
   127+        0006                     DEPCOL=WELCOL
   128+        0000                     EXPCOL=WHITE                    ;EXPLOSION
   129+        0003                     FLICOL=RED                      ;FLIPPERS
   130+        0002                     TANCOL=PURPLE                   ;TANKER
   131+        0005                     TRACOL=GREEN                    ;TRALERS
   132+        0000                     ZAPCOL=WHITE                    ;SUPER ZAP
   133+        000C                     FRED    =0C
   134+        000B                     FBLUE   =0B
   135+        0007                     FGREEN  =07
   136+        000D                     HRED    =0D
   137+        0000                     ZWHITE  =FRED&FBLUE&FGREEN
   138+        0004                     ZYELLO  =FRED&FGREEN
   139+        0008                     ZPURPL  =FRED&FBLUE
   140+        000C                     ZRED    =FRED
   141+        0003                     ZTURQOI =FGREEN&FBLUE
   142+        0007                     ZGREEN  =FGREEN
   143+        000B                     ZBLUE   =FBLUE
   144+        000F                     ZBLACK  =0F
   145+        0008                     PSHCTR  =8              ;PLAYER SOT CENTER
   146+        0009                     PDIWHI  =9                      ;PLAYER DEATH EXPLOSION COLORS
   147+        000A                     PDIYEL  =10.
   148+        000B                     PDIRED  =11.
   149+        000C                     NYMCOL  =12.                    ;NYMPHE
   150+        000F                     FLASH   =15.                    ;CHANGES EVERY 4 MO.
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 7
VARIABLES-CONTROL

     1+                                         .SBTTL VARIABLES-CONTROL
     2+        0000                             .ASECT
     3+        0000                             .=0
     4+                                 ;
     5+                                 ;CONTROL & TIMING VARIABLES
     6+                                 ;
     7+  0000                           QSTATE: .BLKB 1                 ;CONTAINS CODE FOR STATE ROUTINE (INDEX INTO ROUTAD)
     8+  0001                           QDSTATE:        .BLKB 1         ;DISPLAY STATE
     9+  0002                           QNXTSTA:.BLKB 1                 ;NEXT STATE CODE TO EXECUTE AFTER PAUSE
    10+  0003                           QFRAME: .BLKB 1                 ;FRAME COUNTER (WRAPS AT FF)
    11+  0004                           QTMPAUS:.BLKB 1                 ;PAUSE TIMER (IN SECOND UNITS)
    12+  0005                           QSTATUS:.BLKB 1                 ;STATUS FLAGS
    13+        0080                     MATRACT =80                     ;	D7: 0=ATTRACT  1=GAME
    14+        0040                     MGTMOD  =40             ;D6:0=NO TIME;START ALLOWED
    15+                                                                 ;  :1GAME TIMER RUNNING
    16+                                                                 ;  :PRESS START NOT ALLOWED
    17+                                 ;
    18+                                 ;OTHER OVERHEAD
    19+                                 ;
    20+  0006                           $$CRDT: .BLKB 1                 ;# OF CREDITS
    21+  0007                           $INTCT: .BLKB 1                 ;INTERRUPT COUNT
    22+  0008                           $TEST:
    23+  0008                           $LAM:
    24+  0008                           $COINA: .BLKB 1                 ;COIN MECHS
    25+  0009                           $CMODE:
    26+  0009                           OPTIN1: .BLKB 1                 ;OPTIONS
    27+  000A                           OPTIN2: .BLKB 1
    28+  000B                           TSLAMR: .BLKB 1                 ;SLAM SOUND TIMER
    29+  000C                           $LMTIM: .BLKB 1                 ;SLAM INDICATION
    30+        0003                     MECHS   =3
    31+        0003                     EMCTRS  =3
    32+  000D                           $CNSTT: .BLKB MECHS
    33+  0010                           $PSTSL: .BLKB MECHS
    34+  0013                           $CCTIM: .BLKB EMCTRS
    35+  0016                           $BCCNT: .BLKB 1
    36+  0017                           $CNCT:  .BLKB 1
    37+  0018                           $BC:    .BLKB 1
    38+  0019                           COLRAM: .BLKB 10                ;COLOR RAM
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 8
VARIABLES-WORK

     1+                                         .SBTTL VARIABLES-WORK
     2+
     3+  0029                           TEMP0:  .BLKB 1
     4+  002A                           TEMP1:
     5+  002A                           TEMPL:  .BLKB 1
     6+  002B                           TEMP2:  .BLKB 1
     7+  002C                           TEMP3:  .BLKB 1
     8+  002D                           TEMP4:  .BLKB 1
     9+  002E                           TEMPX: .BLKB 1
    10+  002F                           TEMPY:  .BLKB 1
    11+  0030                           TEMPZ:  .BLKB 1
    12+  0031                           MTEMP:  .BLKB 4                 ;MACRO USE ONLY
    13+  0035                           SAVEX:  .BLKB 1
    14+  0036                           SAVEY:  .BLKB 1
    15+  0037                           INDEX1: .BLKB 1
    16+  0038                           INDEX2: .BLKB 1
    17+  0039                           INDEX3: .BLKB 1
    18+  003A                           INDEX4: .BLKB 1
    19+  003B                           INDYLO: .BLKB 1         ;USE FOR INDIRECT Y
    20+  003C                           INDYHI: .BLKB 1
    21+
    22+                                         .SBTTL VARIABLES-PLAYERS
    23+                                 ;
    24+                                 ;PLAYER ARRAYS
    25+                                 ;
    26+  003D                           PLAYUP: .BLKB 1                 ;PLAYER UP (0=LEFT, 1=RIGHT)
    27+  003E                           NUMPLA: .BLKB 1                 ;# OF PLAYERS (-1)
    28+  003F                           NEWPLA: .BLKB 1                 ;# OF NEXT PLAYER (FROM END WAVE TO NEW WAVE)
    29+  0040                           LSCORL: .BLKB 1                 ;SCORE ARRAY
    30+  0041                           LSCORM: .BLKB 1                 ;(TRIPLE PRECISION BCD)
    31+  0042                           LSCORH: .BLKB 1
    32+  0043                           RSCORL: .BLKB 1
    33+  0044                           RSCORM: .BLKB 1
    34+  0045                           RSCORH: .BLKB 1
    35+
    36+  0046                           WAVEN1: .BLKB 1                 ;# OF ENEMY WAVE WHICH PLAYER IS BATTLING -1
    37+  0047                           WAVEN2: .BLKB 1
    38+  0048                           LIVES1: .BLKB 1                 ;# OF BASES PLAYER HAS LEFT
    39+  0049                           LIVES2: .BLKB 1
    40+
    41+                                         .SBTTL VARIABLES-SWITCHES
    42+
    43+                                                                 ;SWITCHES
    44+  004A                           INPUT:  .BLKB 1                 ;ROUGH INPUT (0=ON)
    45+                                         .BLKB 1                 ;UNUSED
    46+  004C                           DBSW:   .BLKB 1                 ;LAST ROUGH INPUT (0=ON)
    47+  004D                           SWSTRT:
    48+  004D                           SWSTAT: .BLKB 1                 ;DEBOUNCED INPUT (0=ON)
    49+  004E                           SWFINA: .BLKB 1                 ;LATCHED INPUT (1=ON)(CLEARED BY GAME)
    50+  004F                           SWRELE: .BLKB 1                 ;OLD SWSTAT READING
    51+  0050                           TBHD:   .BLKB 1                 ;TRACK BALL VARIABLES
    52+  0051                           CURSPO: .BLKB 1
    53+  0052                           OTB:    .BLKB 1
    88+
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 9
VARIABLES-DISPLAY

     1+                                         .SBTTL VARIABLES-DISPLAY
     2+
     3+  0053                           FRTIMR: .BLKB 1                 ;VG FRAME DISPLAY TIMER
     4+  0054                           BUFRDY: .BLKB 1                 ;BUFFER STATUS (0-DISPLAY IT, <>0:BUILD IT)
     5+  0055                           OBJIND: .BLKB 1                 ;INDEX INTO OBJECT ARRAYS (OCNT....)
     6+  0056                           PXL:    .BLKB 1                 ;TEMP STORAGE FOR POINT'S COORDINATES
     7+  0057                           PYL:    .BLKB 1                 ;  (WORLD)
     8+  0058                           PZL:    .BLKB 1
     9+
    10+
    11+  0059                           LINSCA: .BLKB 1                 ;LINEAR SCALE (W3DSUP)
    12+  005A                           BINSCA: .BLKB 1                 ;BINARY SCALE (W3DSUP)
    13+  005B                           EYH:    .BLKB 1                 ;EYE POSITION (SIGNED) HI BYTE
    14+  005C                           EYLL:   .BLKB 1                 ;EYE POSITION (FRACTIONAL)
    15+  005D                           EYLDES: .BLKB 1         ;EYE DESTINATION Y
    16+  005E                           EXL:    .BLKB 1                 ;LOCATION OF EYE (WORLD COORD)
    17+  005F                           EYL:    .BLKB 1
    18+  0060                           EZL:    .BLKB 1
    19+
    20+  0061                           SXL:    .BLKB 1                 ;TEMP STORAGE FOR POINT'S COORD
    21+  0062                           SXH:    .BLKB 1                 ;(SCREEN)
    22+  0063                           SZL:    .BLKB 1
    23+  0064                           SZH:    .BLKB 1
    24+  0065                           EYEFAC: .BLKB 1                 ;EYE SCREEN DISTANCE
    25+  0066                           XADJL:  .BLKB 2
    26+  0068                           ZADJL:  .BLKB 2                 ;SCREEN Z VANISH PT
    27+                                                                 ;DRAW SUBROUTINE VARIABLES:
    28+  006A                           CURNTX: .BLKB 2                 ;CURRENT BEAM POSITION
    29+  006C                           CURNTY: .BLKB 2
    30+  006E                           XCOMP:  .BLKB 4                 ;X COMPONENT FOR VECTOR DELTA
    31+        0070                     YCOMP   =XCOMP+2
    32+  0072                           VGSIZE: .BLKB 1                 ;SCALING SIZE
    33+  0073                           VGBRIT: .BLKB 1                 ;VECTOR BRIGHTNESS
    34+  0074                           VGLIST: .BLKB 2                 ;VECTOR LIST POINTER
    35+  0076                           SVGLIST:        .BLKB 2
    36+        0078                     CBUF1   =.              ;FOLLOWING BUFFER MAY BE USED FOR OTHER PURPOSES
    37+  0078                           X0L:    .BLKB 1                 ;USED WITHIN ONELIN IN ALDISP TO
    38+  0079                           X1L:    .BLKB 1                 ;STORE UNIT VECTORS X 0>7 (X AND Z)
    39+  007A                           X2L:    .BLKB 1
    40+  007B                           X3L:    .BLKB 1
    41+  007C                           X4L:    .BLKB 1
    42+  007D                           X5L:    .BLKB 1
    43+  007E                           X6L:    .BLKB 1
    44+  007F                           X7L:    .BLKB 1
    45+  0080                           X0H:    .BLKB 1
    46+  0081                           X1H:    .BLKB 1
    47+  0082                           X2H:    .BLKB 1
    48+  0083                           X3H:    .BLKB 1
    49+  0084                           X4H:    .BLKB 1
    50+  0085                           X5H:    .BLKB 1
    51+  0086                           X6H:    .BLKB 1
    52+  0087                           X7H:    .BLKB 1
    53+
    54+  0088                           Z0L:    .BLKB 1
    55+  0089                           Z1L:    .BLKB 1
    56+  008A                           Z2L:    .BLKB 1
    57+  008B                           Z3L:    .BLKB 1
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 9+
VARIABLES-DISPLAY

    58+  008C                           Z4L:    .BLKB 1
    59+  008D                           Z5L:    .BLKB 1
    60+  008E                           Z6L:    .BLKB 1
    61+  008F                           Z7L:    .BLKB 1
    62+  0090                           Z0H:    .BLKB 1
    63+  0091                           Z1H:    .BLKB 1
    64+  0092                           Z2H:    .BLKB 1
    65+  0093                           Z3H:    .BLKB 1
    66+  0094                           Z4H:    .BLKB 1
    67+  0095                           Z5H:    .BLKB 1
    68+  0096                           Z6H:    .BLKB 1
    69+  0097                           Z7H:    .BLKB 1
   138+                                                                 ;
   139+                                                                 ;
   140+  0098                           INTENS: .BLKB 1                 ;OBJECT INTENSITY (D7-D5)
   141+  0099                           SUBCOU: .BLKB 1                 ;POINT COUNTER
   142+  009A                           UNITXL: .BLKB 1                 ;UNIT VECTORS
   143+  009B                           UNITXH: .BLKB 1
   144+  009C                           UNITZL: .BLKB 1
   145+  009D                           UNITZH: .BLKB 1
   146+  009E                           COLOR:  .BLKB 1                 ;
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 10
VARIABLES-DISPLAY

     1+  009F                           CURWAV: .BLKB 1         ;CURRENT WAVE
     2+  00A0                           YDEUNI: .BLKB 1                 ;Y DELTA FOR UNIT SCALE
     3+  00A1                           TNKOUT: .BLKB 1                 ;START LEDS, ETC. FOR DUTANK
     4+  00A2                           TCMFLG: .BLKB 1                 ;2 GAME MIN FLAG (80=NOT 2 YET)
     5+  00A3                           NEWAIT: .BLKB 1
     6+  00A4                           OFRTIM: .BLKB 1
     7+  00A5                           OCURSL: .BLKB 1         ;OLD CURSOR POSITION (LINE #)
     8+  00A6                           ESHCOU: .BLKB 1         ;ENEMY SOT COUNT
     9+  00A7                           CHACHA: .BLKB 1                 ;CHARGE CHARGE DELTA
    10+  00A8                           CHAINV: .BLKB 1                 ;CHARGE INVADER DELTA
    11+  00A9                           VGY:    .BLKB 1                 ;INDEX INTO VGLIST
    12+  00AA                           OLDLLO: .BLKB 1         ;OLD ENEMY LINE BUFFER START ADDRESS
    13+  00AB                           OLDLHI: .BLKB 1
    14+  00AC                           LITRAL: .BLKB 2                 ;LANGUAGE TABLE
    15+  00AE                           ZPNLOC: .BLKB 1         ;USED BY DIGITS
    16+  00AF                           ZPOFFS: .BLKB 1                 ;USED BY DIGITS
    17+  00B0                           RUNGVG: .BLKB 2         ;RUNG VG PTR.
    18+  00B2                           PUCHDE: .BLKB 1                 ;PULSAR CHASE DELAY (# FRAMES BEFORE FLIP)
    19+  00B3                           WTTFRA: .BLKB 1                 ;# OF FLIP SECTIONS TO TAKE/FRAME FOR TOP FLIPPERS
    20+  00B4                           TOUT0:  .BLKB 1                 ;SCREEN FLIP STATUS FOR IO
    21+  00B5                           QT1:    .BLKB 1                 ;SECURITY
    22+  00B6                           SECUVG: .BLKB 2                 ;SECURITY PTR.
    23+                                 ;BD-BE	:EAROM
    24+                                 ;BF-FF	:SOUNDS
    25+                                 ;
    26+                                 ;COMMON BUFFER REUSAGE
    27+                                 ;
    28+
    29+        0078                                     .=CBUF1
    30+
    31+                                 ;
    32+  0078                           BFACTR: .BLKB 1         ;USED IN SCAPIC - BINARY PART OF SCALE FACTOR
    33+  0079                           SCFL:   .BLKB 2         ;USED IN SCAPIC - SCALE FACTOR
    34+  007B                           LEFSID: .BLKB 1         ;REQUEST RATE DISPLAY LEFT SIDE
    35+  007C                           RITSID: .BLKB 1                 ;RRD-RIGHT SIDE
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 11
VARIABLES-DISPLAY

     1+        0100                             .=100
     2+  0100                           NGAMES: .BLKB 1                 ;# GAMES FOR RANKING
     3+  0101                           NPLAYR: .BLKB 1                 ;# PLAYERS
     4+  0102                           BONUS:  .BLKB 2         ;BONUS CODE FOR STARTING AT ADVANCED WAVE
     5+  0104                           CURSVL: .BLKB 1         ;CURSOR ACCELERATION DOWN WELL
     6+  0105                           CURSVH: .BLKB 1
     7+  0106                           CURMOD: .BLKB 1                 ;CURSOR MODE (-:DROPPING)
     8+  0107                           CURSYL: .BLKB 1         ;CURSOR POSITION (FRACTIONAL)
     9+  0108                           INMCOU: .BLKB 1                 ;# OF INVADERS ON LINES
    10+  0109                           INCCOU: .BLKB 1                 ;# OF INVADERS CHASING CURSOR
    11+  010A                           EXICAM: .BLKB 1                 ;INVADER CAN EXIT FLAG
    12+  010B                           CAMPC:  .BLKB 1                 ;INVADER CAM PC
    13+  010C                           CAMSTA: .BLKB 1         ;CAM STATUS
    14+  010D                           BOOMFL: .BLKB 1                 ;BOOM ACTIVE FLAG (0=NOT ACTIVE)
    15+  010E                           BOOMTI: .BLKB 1                 ;BOOM TIMER (1/5 SECONDS)
    16+  010F                           LEVELY: .BLKB 2
    17+  0111                           WELTYP: .BLKB 1                 ;WELL TYPE (0=CLOSED,-1=OPEN)
    18+  0112                           WELLID: .BLKB 1                 ;WELL CODE
    19+  0113                           ROTFLG: .BLKB 1                 ;MSB OF BUILT SUBR BUFFER (IF 0 THEN NOT READY)
    20+  0114                           ROTDIS: .BLKB 1                 ;BUILD WELL REQUEST (NOT 0)
    21+  0115                           PLAGRO: .BLKB 1                 ;STAR FIELD STATUS
    22+  0116                           EXPCOU: .BLKB 1         ;# OF EXPLOSIONS
    23+  0117                           COCTAL: .BLKB 1                 ;COCKTAIL FLAG
    24+
    25+                                         .SBTTL  VARIABLES - PLAY
    26+                                                                 ;SKILL LEVEL CONTOURING VARIABLES
    27+                                                                 ;
    28+  0118                           WCHARIN:.BLKB 1                 ;INVADER CHARGE INC/FRAME
    29+  0119                           WCHARFR:.BLKB 1                 ;INVADER CHARGE FREQUENCY (FIRE
    30+  011A                           WCHAMX: .BLKB 1                 ;MAX # OF INVADER CHARGES ON GIRD-1
    31+  011B                           QT6:    .BLKB 1
    32+  011C                           WINVMX: .BLKB 1                 ;MAX # OF INVADERS-1
    33+  011D                           WINVJM: .BLKB 1                 ;INVAER JUMP FREQ (JUMP IF
    34+                                                                 ;RANDOM AND WINVJM=0)
    35+  011E                           WNYMMX: .BLKB 1                 ;# OF NYMPHS
    36+  011F                           QT5:    .BLKB 1
    37+  0120                           WCHARL: .BLKB 1                 ;FRACTION CHARGE INC
    38+  0121                           ZADEST: .BLKB 2         ;ZADJL DEST.
    39+  0123                           ELICNT: .BLKB 1         ;ENEMY LINE COUNTER (D7=1:WARNING REQUEST)
    40+  0124                           BOFLASH:        .BLKB 1                 ;BONUS FLASH TIMER
    41+  0125                           SUZTIM: .BLKB 1                 ;SUPERZAP TIMER
    42+  0126                           HIWAVE: .BLKB 1         ;HIGHEST WAVE REACHED IN LAST GAME
    43+  0127                           HIRATE: .BLKB 1                 ;HIGHEST LEVEL-1/2 ALLOWED IN RATE TABLE
    44+  0128                           INTIME: .BLKB 1                 ;TIME SNCE LAST GAME (13 SECOND UNITS)
    45+  0129                           WFLMIN: .BLKB 1         ;MINIMUM # OF TYPE ON WELL
    46+  012A                           WPUMIN: .BLKB 1
    47+  012B                           WTAMIN: .BLKB 1
    48+  012C                           WSPMIN: .BLKB 1
    49+  012D                           WFUMIN: .BLKB 1
    50+  012E                           WFLMAX: .BLKB 1                 ;MAX # OF TYPE ON WELL
    51+  012F                           WPUMAX: .BLKB 1
    52+  0130                           WTAMAX: .BLKB 1
    53+  0131                           WSPMAX: .BLKB 1
    54+  0132                           WFUMAX: .BLKB 1
    55+  0133                           SPARE3: .BLKB 2
    56+  0135                           CHACOU: .BLKB 1         ;# OF CHARGES
    57+  0136                           WTFMAX: .BLKB 1         ;TANKER + FLIPPER MAX
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 11+
VARIABLES - PLAY

    58+                                         .BLKB 2                 ;SPACER
    59+                                                                 ;SPECIAL EXPLOSION (PLAYER DEATH)
    60+  0139                           SPLINE: .BLKB 1                 ;LINEAR SCALE VALUABLE
    61+  013A                           SPBINA: .BLKB 1                 ;BINARY SCALE VARIABLE
    62+  013B                           SPXIND: .BLKB 1                 ;INDEX
    63+  013C                           SPFTIM: .BLKB 1                 ;TIMER
    64+  013D                           OPFLIP: .BLKB 1                 ;OPENINGS FOR EACH TYPE
    65+  013E                           OPPULS: .BLKB 1
    66+  013F                           OPTANK: .BLKB 1
    67+  0140                           OPSPIN: .BLKB 1
    68+  0141                           OPFUSE: .BLKB 1
    69+  0142                           FLIPCO: .BLKB 1
    70+  0143                           PULSCO: .BLKB 1                 ;COUNT OF EACH TYPE
    71+  0144                           TANKCO: .BLKB 1
    72+  0145                           SPINCO: .BLKB 1
    73+  0146                           FUSECO: .BLKB 1
    74+  0147                           PULTIM: .BLKB 1                 ;PULSE TIMER INCREMENT
    75+  0148                           PULSON: .BLKB 1                 ;PULSE STATUS (MINUS=OFF)
    76+  0149                           WTACAR: .BLKB 4         ;TANK CONTENTS (4 POSSIBILITIES)
    77+  014D                           NEARY:  .BLKB 1                 ;VORTEX LOGO
    78+  014E                           FARY:   .BLKB 1
    79+  014F                           NEOFLI: .BLKB 1                 ;NYMPHS OFF LIMIT ZONE FLAGS
    80+  0150                           OLOFLI: .BLKB 1
    81+  0151                           ENSIZE: .BLKB 5         ;COLLISION RANGE FOR EACH INVADER TYPE
    82+  0156                           BLIFIN: .BLKB 1         ;BONUS LIFE INTERVAL
    83+  0157                           PULPOT: .BLKB 1                 ;HEIGHT AT WHICH PULEARS BECOME POTENT
    84+                                                                 ;CHARGE IF RANDOM #>WCHARFR)
    85+  0158                           LVSGAM: .BLKB 1                 ;LIVES/GAME
    86+  0159                           WFUSCH: .BLKB 1         ;FUSE CHASE PLAYER FLAG (D7 FOR TOP;D6 FOR TUBE)
    87+  015A                           NWTELI: .BLKB 1                 ;NEW WAVE ENEMY LINE HEIGHT
    88+  015B                           NWNYMC: .BLKB 1                 ;NEW WAVE NYMPH COUNT
    89+  015C                           WPULCAM:.BLKB 1                 ;PULSAR CAM FOR WAVE
    90+  015D                           WFLICAM:.BLKB 1                 ;FLIPPER CAM FOR USAVE
    91+  015E                           TYPCOD: .BLKB 1
    92+  015F                           WFUFRQ: .BLKB 1                 ;FUSE LANE CHANGE PCNT (OF 256.)
    93+  0160                           WINVIL: .BLKB 5                 ;INVADER SPEED (FRAC) FOR EACH TYPE
    94+  0165                           WINVIN: .BLKB 5                 ;INVADER SPEED (INT)
    95+        0164                     WFUSIL  =WINVIL+ZABFUS
    96+        0169                     WFUSIH  =WINVIN+ZABFUS
    97+  016A                           OPTIN3: .BLKB 1                 ;OPTION SWITCH 3 (BANK OF 4)
    98+  016B                           PSCALE: .BLKB 1                 ;PAUSE SEALER
    99+  016C                           QT2:    .BLKB 1                 ;SECURITY
   100+  016D                           WPULFI: .BLKB 1                 ;PULSAR FIRE FLAG
   101+  016E                           SECUVY: .BLKB 1                 ;SECURITY COUNTER
   102+                                 ;
   103+                                 ;1C6->1CF:EAROM
   104+                                 ;
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 12
CONSTANTS-COUNTS

     1+                                         .SBTTL  CONSTANTS-COUNTS
     2+
     3+        0008                     NPLANE= 8
     4+        0007                     NINVAD= 7
     5+        0010                     NLINES= 16.
     6+        0040                     NNYMPH= 64.
     7+        0008                     NPCHARG=8
     8+        0004                     NICHARG=4
     9+        000C                     NCHARG=NPCHARG+NICHARG
    10+        0008                     NEXPLO=8
    11+
    12+                                         .SBTTL  CONSTANTS-PLAYFIELD
    13+
    14+        00F0                     ILINDDY=0F0
    15+        0010                     ILINLIY=010
    16+
    17+                                         .SBTTL  VARIABLES-OBJECT COUNTERS
    18+        016F                             .ASECT
    19+        0200                             .=200
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 13
VARIABLES-OBJECT LOCATION + STATUS

     1+                                         .SBTTL  VARIABLES-OBJECT LOCATION + STATUS
     2+                                 ;
     3+                                 ;CURSOR
     4+                                 ;
     5+  0200                           CURSL1: .BLKB 1                 ;ONE END LINE #
     6+  0201                           CURSL2: .BLKB 1                 ;OTHER END LINE # (CCW TO CURSL1)
     7+                                                                 ; 80 MEANS PLAYER IS DEAD
     8+  0202                           CURSY:  .BLKB 1         ;CURSOR DEPTH
     9+                                 ;
    10+                                 ;NYMPHS
    11+                                 ;
    12+  0203                           NYMPL:  .BLKB NNYMPH
    13+  0243                           NYMPY:  .BLKB NNYMPH
    14+                                 ;
    15+                                 ;INVADERS
    16+                                 ;
    17+                                                                 ;
    18+  0283                           INVAC1: .BLKB NINVAD            ;INVADER STATUS BYTE 1
    19+        0007                     INVABI  =7
    20+        0000                     ZABFLI  =0                      ;APPEARANCE:0=FLIPPER
    21+        0001                     ZABPUL  =1                      ;	    1=PULSAR
    22+        0002                     ZABTAN  =2                      ;	    2=TANKER
    23+        0003                     ZABTRA  =3                      ;	    3=TRALER
    24+        0004                     ZABFUS  =4                      ;	    4=FUSE
    25+                                                                 ;	    5-7=UNUSED
    26+        0018                     INVSEQ  =18
    27+        0080                     INVMOT  =80
    28+        0000                     ZMOTMO  =0              ;MOTION:0=NOT FLIPPING/LEAPING
    29+        0080                     ZMOTJM=INVMOT                   ;	1=FLIPPER/LEAPING
    30+        0040                     INVROT  =40
    31+        0000                     ZROTCW  =0                      ;ROTATIONAL DIRECTION:0=CW
    32+        0040                     ZROCCW  =INVROT                 ;
    33+                                                                 ;
    34+  028A                           INVAC2: .BLKB NINVAD            ;INVADER STATUS BYTE 2
    35+        0003                     INVCAR  =3
    36+        0000                     ZCARNO  =0                      ;CARRIER (0=NOTHING)
    37+        0001                     ZCARFL  =1                      ;	  1=FLIPPERS
    38+        0002                     ZCARPU  =2                      ;	  2=PULSARS
    39+        0003                     ZCARFU  =3                      ;	  3=FUSES
    40+
    41+        0040                     INVFIR  =40                     ;FIREPOWER (0=NO FIRE, 1=FIRE)
    42+        0000                     ZFIRNO  =0
    43+        0040                     ZFIRYE  =INVFIR
    44+        0080                     INVDIR  =80                     ;DIRECTION (0=UP, 1=DOWN)
    45+        0000                     ZDIRUP  =0
    46+        0080                     ZDIRDO  =INVDIR
    47+  0291                           INVCAM: .BLKB NINVAD
    48+  0298                           INVLOO: .BLKB NINVAD
    49+  029F                           INVAYL: .BLKB NINVAD            ;Y POSITION (FRACTIONAL)
    50+  02A6                           INVACT: .BLKB NINVAD            ;TIME SINCE LAST CHARGE LAUNCH
    51+                                 ;FOR LEAPERS:	INVAL1,2=CURRENT X & Z POSITION OF LEAPER CENTER
    52+                                 ;		INVACT=D3-D0=DEST. LINE #
    53+                                 ;		D4=1 MEANS GO TO CENTER FIRST
    54+                                 ;
    55+                                 ;CHARGES
    56+                                 ;
    57+  02AD                           CHARL1: .BLKB NCHARG            ;ONE END LINE #
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 13+
VARIABLES-OBJECT LOCATION + STATUS

    58+  02B9                           INVAL1: .BLKB NINVAD            ;LINE # FOR 1 LEG (INVADERS)
    59+  02C0                           CHARL2: .BLKB NCHARG            ;OTHER END LINE # (CCW TO CHARL1)
    60+  02CC                           INVAL2: .BLKB NINVAD            ;LINE # FOR CCW LEG (JUMPS SEG.IF-)
    61+  02D3                           CHARY:  .BLKB NCHARG            ;Y POSITION (0=INACTIVE)
    62+  02DF                           INVAY:  .BLKB NINVAD            ;Y POSITION FOR LEGS (INVADERS)
    63+  02E6                           CHARYL: .BLKB NCHARG            ;Y POSITION FRACTION
    64+  02F2                           CHARCO: .BLKB NPCHARG           ;CHARGE COLLISION COUNTER
    65+        0009                     PCVELO  =9                      ;PLAYER SHOT VELOCITY (I)
    66+        FEA0                     PULVEL  =0FEA0                  ;PULSAR VELOCITY (IF)
    67+                                 ;
    68+                                 ;EXPLOSIONS
    69+                                 ;
    70+  02FA                           EXPLOL: .BLKB NEXPLO            ;EXPLOSION LINE # (CW LEG)
    71+  0302                           EXPLOT: .BLKB NEXPLO            ;EXPLOSION TYPE
    72+  030A                           EXPLOY: .BLKB NEXPLO            ;EXPLOSION DEPTH (WORLD Y)
    73+  0312                           EXPLOS: .BLKB NEXPLO            ;EXPLOSION SEQUENCES
    74+                                 ;
    75+                                 ;LINES (SCREEN COORDINATES)
    76+                                 ;
    77+  031A                           LINSXH: .BLKB NLINES            ;NEAR PT.
    78+  032A                           LINSXL: .BLKB NLINES
    79+  033A                           LINSZH: .BLKB NLINES
    80+  034A                           LINSZL: .BLKB NLINES
    81+  035A                           LIFSXH: .BLKB NLINES            ;FAR PT.
    82+  036A                           LIFSXL: .BLKB NLINES
    83+  037A                           LIFSZH: .BLKB NLINES
    84+  038A                           LIFSZL: .BLKB NLINES
    85+  039A                           LINSTA: .BLKB NLINES            ;ENEMY LINE STATUS (D7=1:NEW NEAR PT.;D6=1=SHATTERED)
    86+                                 ;
    87+                                 ;DATA SAVED FROM PLAYER TO PLAYER
    88+                                 ;
    89+  03AA                           ACTIP:                          ;ACTIVE PLAYER DATA
    90+  03AA                           SUZCNT: .BLKB 1         ;SUPERZAPPER USE COUNTER
    91+  03AB                           NYMCOU: .BLKB 1                 ;# OF NYMPHS
    92+  03AC                           LINEY:  .BLKB NLINES            ;ENEMY LINE HEIGHTS
    93+  03BC                           SAVEP:                          ;STANDBY PLAYER DATA
    94+                                         .BLKB SAVEP-ACTIP
    95+  03CE                           SAVEND:                         ;DUMMY
    96+  03CE                           LINEX:  .BLKB NLINES
    97+  03DE                           LINEZ:  .BLKB NLINES
    98+  03EE                           LINANG: .BLKB NLINES            ;INDEX=ANGLE FROM GRID LINE TO NEXT CCW LINE
    99+  03FE                           PLANEY: .BLKB NPLANE    ;STAR FIELD PLANES
   100+  0406                           BOOKKS:                 ;BOOKKEEPING
   101+  0406                           SECOUL: .BLKB 1                 ;GAME UP TIMER
   102+  0407                           SECOUM: .BLKB 1
   103+  0408                           SECOUH: .BLKB 1
   104+  0409                           SECOPL: .BLKB 1                 ;GAME PLAY TIMER
   105+  040A                           SECOPM: .BLKB 1
   106+  040B                           SECOPH: .BLKB 1
   107+  040C                           NGAMIL: .BLKB 1                 ;# OF GAMES
   108+  040D                           NGAMIH: .BLKB 1
   109+  040E                           NGAME0: .BLKB 1
   110+  040F                           NGAM2L: .BLKB 1                 ;# OF 2 PLAYER GAMES
   111+  0410                           NGAM2H: .BLKB 1
   112+  0411                           NGAM20: .BLKB 1
   113+  0412                           BOOKKE:
   114+  0412                           NGAVGL: .BLKB 1                 ;ORIG GAME TIME
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 13+
VARIABLES-OBJECT LOCATION + STATUS

   115+  0413                           NGAVGH: .BLKB 1
   116+  0414                           NGAVGZ: .BLKB 1
   117+  0415                           BUFACT: .BLKB 10                ;ACTIVE/AVAILABLE BUFFER
   118+  0425                           SPOKST: .BLKB NLINES            ;SPOKE STATUS (PULEARS)
   119+  0435                           LINEXM: .BLKB NLINES            ;HALF WAY BETWEEN LINES COORDINATES
   120+  0445                           LINEZM: .BLKB NLINES
   121+  0455                           QT3:    .BLKB 1                 ;SECURITY
   122+        0203                             .=NYMPL                 ;***WARNING:OVERLAY***
   123+                                                                 ;PARTICLES
   124+                                                                 ;
   125+  0203                           PARLIX: .BLKB NPARTI*2          ;FRACTIONAL POSITION
   126+  0223                           PARLIY: .BLKB NPARTI*2
   127+  0243                           PARLIZ: .BLKB NPARTI*2
   128+  0263                           PARTIX: .BLKB NPARTI*2          ;INTEGER POSITION (80=CENTER)
   129+  0283                           PARTIY: .BLKB NPARTI*2
   130+  02A3                           PARTIZ: .BLKB NPARTI*2
   131+  02C3                           PARLXV: .BLKB NPARTI*2          ;FRACTIONAL VELOCITY
   132+  02E3                           PARLYV: .BLKB NPARTI*2
   133+  0303                           PARLZV: .BLKB NPARTI*2
   134+  0323                           PARTXV: .BLKB NPARTI*2          ;INTEGER VELOCITY (SIGNED)
   135+  0343                           PARTYV: .BLKB NPARTI*2
   136+  0363                           PARTZV: .BLKB NPARTI*2
   137+                                         .SBTTL  VARIABLES - PAGE 1
   138+        0383                             .ASECT
   139+        0600                             .=600
   140+  0600                           RANKS:  .BLKB 2                 ;RANK FOR ACH PLAYER(0=NO RANK)
   141+  0602                           TBLIND: .BLKB 1                 ;INDEX INTO INITIAL OF NEW INITIAL
   142+  0603                           FLGNHI: .BLKB 1                 ;FLAG FOR HIS SCORE FOUND
   143+  0604                           ININDX: .BLKB 1                 ;NEW INITIALS LEFT-1 COUNTER
   144+  0605                           TIMHIS: .BLKB 1                 ;TIMER UNTIL INITIAL ENTRY IS ABORTED
   145+  0606                           INITAL: .BLKB 3*<NHISCO>
   146+  061E                           HRANKL: .BLKB <3*58.>+<2*41.>
   147+        061F                     HRANKM  =HRANKL+1
   148+        0620                     HRANKH  =HRANKM+1
   149+        0706                     HSCORL  =HRANKL+<2*41.>+<3*50.>
   150+        0707                     HSCORM  =HSCORL+1
   151+        0708                     HSCORH  =HSCORM+1
   152+
   153+  071E                           GAMOP1: .BLKB 1                 ;GAME PLAY OPTIONS (SWITCH 1)
   154+  071F                           GAMOP3: .BLKB 1                 ;(SWITCH 3)
   155+  0720                           QT4:    .BLKB 1                 ;SECURITY
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 16
VARIABLES - PAGE 1

     1                                          .GLOBL INEWAV,INEWLI,MOVCUR,INIDSP,NEWAV2,UPSCOR,GETCUR,INIRA0;
     2                                          .GLOBL SWAPEN,PLAY
     3                                          .GLOBL SLAUNC,EXSNON,ESLSON,SBOING,PRSTAR,SOUTS3,PRBOOM,INBOOM
     4                                          .GLOBL INIRAT,PRORAT,LEVEL,CCEXPL,CIEXPL,CPEXPL,IPEXPL;
     5                                          .GLOBL SELICO,PLDROP,BONSCO,SOUTS2,SOUTS3,INICOL,S3SWAR
     6                                          .GLOBL PPSPXI,CPSPXI,FPSPXI,PULSTR,D70MSK,PULSTO
     7                                          .GLOBL QCHKS2,QCHKS3,QCHKS4,QCHKS5
     8         0721                             .ASECT
     9         9000                             .=9000
    10   9000    02    BB    5A    30           .BYTE 02,0BB,5A,30      ;MORSE CODE ATARI
    11   9004    50    EE    3D    A8           .BYTE 50,0EE,3D,0A8
    12   9008    00G                    CHKSM2::        .BYTE QCHKS2
    13                                          .SBTTL INITIALIZE - MAINLINE
    14   9009                           INEWAV:                         ;NEW WAVE
    15   9009    20  92C5                       JSR CONTOUR
    16   900C    20  9234                       JSR INIENE              ;INITIALIZE NYMPHS, ENEMY LINES
    17   900F    20  902B                       JSR INIOBJ              ;INITIALIZE OBJECTS
    18   9012    20  A831                       JSR INISUZ              ;NEW SUPERZAPPER
    19   9015    A9    FA                       LDA I,0FA
    20   9017    85    5B                       STA EYH
    21   9019    A9    00                       LDA I,0                 ;CURSOR STARTS AT TOP, NOT DESCENDING
    22   901B    8D  0106                       STA CURMOD
    23   901E    85    5F                       STA EYL
    24   9020    A9    00                       LDA I,CDPLAY
    25   9022    85    01                       STA QDSTATE
    26   9024    60                             RTS
    27   9025                           INEWLI:                         ;NEW LIFE
    28   9025    20  921B                       JSR INICUR              ;INITIALIZE CURSOR
    29   9028    20  92C5                       JSR CONTOUR             ;SET SKILL LEVEL ACC TO WAVE
    30   902B    20  928F               INIOBJ: JSR INICHA              ;DEACTIVATE CHARGES
    31   902E    20  926F                       JSR INIINV              ;DEACTIVATE INVADERS
    32   9031    20  9246                       JSR ININYM              ;INITIALIZE NYMPHS
    33   9034    20  929F                       JSR INIEXP              ;DEACTIVATE EXPLOSIONS
    34   9037    20  92AD                       JSR CLRPOT              ;CLEAR POT
    35   903A    20  0000G                      JSR INIDSP              ;INITIALIZE DISPLAY
    36   903D    A9    FF                       LDA I,-1
    37   903F    8D  0124                       STA BOFLASH             ;BONUS FLASHER CLEARED
    38   9042    8D  0148                       STA PULSON
    39   9045    A9    00                       LDA I,0                 ;CLEAR ENEMY SPIKE COUNTER
    40   9047    8D  0123                       STA ELICNT
    41   904A    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 17
INITIALIZE - MAINLINE

     1
     2                                          .SBTTL  INITIALIZE-NEW WAVE PART 2
     3
     4   904B                           NEWAV2:
     5   904B    A9    10                       LDA I,ILINLIY
     6   904D    8D  0202                       STA CURSY
     7   9050    A9    00                       LDA I,0
     8   9052    85    29                       STA TEMP0
     9   9054    85    2B                       STA TEMP2
    10   9056    AD  0121                       LDA ZADEST
    11   9059    85    2A                       STA TEMP1
    12   905B    10    00                       IFMI
    13   905D    C6    2B                       DEC TEMP2
    14   905C    02                             ENDIF
    15   905F    A2    01                       LDX I,1
    16                                          BEGIN                   ;CALCULATE Z INCREMENT
    17   9061    A5    2A                       LDA TEMP1
    18   9063    0A                             ASL
    19   9064    66    2A                       ROR TEMP1
    20   9066    66    29                       ROR TEMP0
    21   9068    CA                             DEX
    22   9069    10    F6                       MIEND
    23   906B    A5    29                       LDA TEMP0               ;UPDATE Z CENTER
    24   906D    18                             CLC
    25   906E    6D  0122                       ADC ZADEST+1
    26   9071    8D  0122                       STA ZADEST+1
    27   9074    A5    2A                       LDA TEMP1
    28   9076    65    68                       ADC ZADJL
    29   9078    85    68                       STA ZADJL
    30   907A    A5    2B                       LDA TEMP2
    31   907C    65    69                       ADC ZADJL+1
    32   907E    85    69                       STA ZADJL+1
    33   9080    A5    5F                       LDA EYL                 ;MOVE EYE CLOSER TO WELL
    34   9082    18                             CLC
    35   9083    69    18                       ADC I,18
    36   9085    85    5F                       STA EYL
    37   9087    A5    5B                       LDA EYH
    38   9089    69    00                       ADC I,0
    39   908B    85    5B                       STA EYH
    40   908D    C9    FC                       CMP I,0FC
    41   908F    90    00                       IFCS
    42   9091    A9    01                       LDA I,1                 ;TURN OFF STAR FIELD
    43   9093    8D  0115                       STA PLAGRO
    44   9090    05                             ENDIF
    45   9096    A5    5F                       LDA EYL                 ;CALCULATE EYE-DESTINATION DELTA
    46   9098    38                             SEC
    47   9099    E5    5D                       SBC EYLDES
    48   909B    A5    5B                       LDA EYH
    49   909D    F0    00                       IFNE
    50   909F    E9    FF                       SBC I,0FF
    51   909E    02                             ENDIF
    52   90A1    D0    00                       IFEQ                    ;PAST DESTINATION?
    53   90A3    A5    5D                       LDA EYLDES              ;YES STOP AT DEST
    54   90A5    85    5F                       STA EYL
    55   90A7    A9    FF                       LDA I,0FF
    56   90A9    85    5B                       STA EYH
    57   90AB    A9    04                       LDA I,CPLAY             ;GO PLAY GAME
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 17+
INITIALIZE-NEW WAVE PART 2

    58   90AD    24    05                       BIT QSTATUS
    59   90AF    30    00                       IFPL                    ;ATTRACT?
    60   90B1    A9    08                       LDA I,CENDGA            ;YES. END IT
    61   90B0    02                             ENDIF
    62   90B3    85    00                       STA QSTATE
    63   90B5    A6    3D                       LDX PLAYUP
    64   90B7    A9    00                       LDA I,0
    65   90B9    9D  0102                       STA X,BONUS             ;CLEAR BONUS
    66   90A2    19                             ENDIF
    67   90BC    A9    FF                       LDA I,0FF               ;REQUEST WELL PIC UPDATE
    68   90BE    8D  0114                       STA ROTDIS
    69   90C1    4C  9749                       JMP MOVCUR              ;UPDATE CURSOR POSITION
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 18
INITIALIZE-PREPARE FOR SKILL LEVEL REQUEST STATE

     1                                          .SBTTL  INITIALIZE-PREPARE FOR SKILL LEVEL REQUEST STATE
     2   90C4                           INIRA0:
     3   90C4    AD  0126                       LDA HIWAVE              ;YES. SET START LEVEL=ODD HIGHEST LEVEL
     4                                                                  ;ACC=HIGHEST LEVEL (-1) COMPLETED IN LAST GAME
     5   90C7    A2    1C                       LDX I,LEVELE-LEVEL
     6                                          BEGIN                   ;LOOP FROM HIGHEST CHOICE TO LOWEST
     7   90C9    CA                             DEX
     8   90CA    DD  91FE                       CMP X,LEVEL
     9   90CD    90    FA                       CSEND                   ;EXIT WHEN WAVE IN TABLE <=HIGHEST LEVEL LAST GAME
    10   90CF    A0    04                       LDY I,4
    11   90D1    AD  016A                       LDA OPTIN3
    12   90D4    29    04                       AND I,4
    13   90D6    F0    00                       IFNE                    ;MAX MIN TIED TO HI SCORE OPTION?
    14   90D8    AD  071D                       LDA HSCORH+21.          ;YES. GET MSB OF HIGH SCORE
    15   90DB    C9    30                       CMP I,30
    16   90DD    90    00                       IFCS                    ;>300000?
    17   90DF    C8                             INY                     ;YES.
    18   90DE    01                             ENDIF
    19   90E0    C9    50                       CMP I,50
    20   90E2    90    00                       IFCS                    ;>500000?
    21   90E4    C8                             INY                     ;YES.
    22   90E3    01                             ENDIF
    23   90E5    C9    70                       CMP I,70
    24   90E7    90    00                       IFCS                    ;>700000?
    25   90E9    C8                             INY                     ;YES.
    26   90E8    01                             ENDIF
    27   90D7    12                             ENDIF
    28   90EA    A5    09                       LDA OPTIN1
    29   90EC    29    43                       AND I,43
    30   90EE    C9    40                       CMP I,40
    31   90F0    D0    00                       IFEQ                    ;SALES MODE?
    32   90F2    A0    1B                       LDY I,1B                ;YES. ANYTHING GOES
    33   90F1    02                             ENDIF
    34   90F4    84    29                       STY TEMP0               ;NEW MAX MIN
    35   90F6    E4    29                       CPX TEMP0
    36   90F8    B0    00                       IFCC                    ;PLAYER HI LEVEL < MAX MIN?
    37   90FA    A6    29                       LDX TEMP0               ;YES. USE MAX MIN FOR RIGHT LIMIT
    38   90F9    02                             ENDIF
    39   90FC    8E  0127                       STX HIRATE              ;MAX INDEX INTO LEVEL TABLE
    40   90FF    A5    05                       LDA QSTATUS
    41   9101    10    00                       IFMI                    ;ATTRACT?
    42   9103    A9    00                       LDA I,0                 ;NO
    43   9105    8D  0126                       STA HIWAVE
    44   9102    05                             ENDIF
    45   9108                           INIRAT:
    46   9108    A6    3F                       LDX NEWPLA
    47   910A    86    3D                       STX PLAYUP              ;YES
    48   910C    F0    00                       IFNE                    ;SPECIAL CASE FOR 2ND PLAYER
    49   910E    20  92B2                       JSR SWAPEN              ;SWAP 1ST PLAYER'S ENEMIES OUT
    50   910D    03                             ENDIF
    51   9111    A9    04                       LDA I,4                 ;SET UP DEFAULT LEVELS (LEFT & RIGHT SIDES)
    52   9113    85    7C                       STA RITSID
    53   9115    A9    FF                       LDA I,0FF               ;STOP RUMBLE
    54   9117    85    5B                       STA EYH
    55   9119    A9    00                       LDA I,0                 ;INITIALIZE CURSOR
    56   911B    8D  0200                       STA CURSL1
    57   911E    85    51                       STA CURSPO
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 18+
INITIALIZE-PREPARE FOR SKILL LEVEL REQUEST STATE

    58   9120    85    7B                       STA LEFSID
    59   9122    8D  0605                       STA TIMHIS              ;NO ATTRACT DELAY
    60   9125    A6    05                       LDX QSTATUS
    61   9127    10    00                       IFMI                    ;ATTRACT?
    62   9129    A9    14                       LDA I,SECOND            ;NO
    63   912B    8D  0605                       STA TIMHIS
    64   912E    A9    FF                       LDA I,0FF
    65   9130    8D  0111                       STA WELTYP              ;PREVENT WRAP
    66   9133    A9    16                       LDA I,CREQRAT           ;GO TO REQUEST
    67   9135    85    00                       STA QSTATE              ;RATE STATE
    68   9137    A9    08                       LDA I,CDREQRA
    69   9139    85    01                       STA QDSTATE             ;REQUEST RATE DISPLAY STATE
    70   913B    A9    00                       LDA I,0
    71   913D    85    9F                       STA CURWAV              ;TO GET 1ST COLORS
    72   913F    20  0000G                      JSR INICOL
    73   9142    A9    10                       LDA I,10                ;START TIMER
    74   9128    1B                             ENDIF
    75   9144    85    04                       STA QTMPAUS
    76   9146    20  92AD                       JSR CLRPOT              ;CLEAR POT
    77                                                                  ;FALL INTO PRORAT STATE
    78                                          .SBTTL  INITIALIZE-SET SKILL LEVEL
    79
    80   9149                           PRORAT:                         ;UPDATE TIMER
    81   9149    CE  0605                       DEC TIMHIS
    82   914C    10    00                       IFMI                    ;ANOTHER SECOND DONE?
    83   914E    F8                             SED                     ;YES
    84   914F    A5    04                       LDA QTMPAUS             ;DECREMENT # SECONDS
    85   9151    38                             SEC
    86   9152    E9    01                       SBC I,1
    87   9154    85    04                       STA QTMPAUS
    88   9156    D8                             CLD
    89   9157    10    00                       IFMI                    ;SECONDS LEFT AT 0?
    90   9159    A9    10                       LDA I,MFIRE             ;YES. AUTO CHOOSE
    91   915B    85    4E                       STA SWFINA
    92   9158    04                             ENDIF
    93   915D    C9    03                       CMP I,3
    94   915F    D0    00                       IFEQ
    95   9161    20  0000G                      JSR S3SWAR              ;3 SECONDS WARNING
    96   9160    03                             ENDIF
    97   9164    A9    14                       LDA I,SECOND            ;RESTART FRACTIONAL SECONDS TIMER
    98   9166    8D  0605                       STA TIMHIS
    99   914D    1B                             ENDIF
   100   9169    20  0000G                      JSR GETCUR              ;UPDATE CURSOR POSITION
   101   916C    A9    18                       LDA I,MSUZA!MFIRE
   102   916E    A4    04                       LDY QTMPAUS
   103   9170    C0    08                       CPY I,8
   104   9172    B0    00                       IFCC
   105   9174    A9    78                       LDA I,MSUZA!MFIRE!MSTRT1!MSTRT2
   106   9173    02                             ENDIF
   107   9176    25    4E                       AND SWFINA
   108   9178    F0    00                       IFNE                    ;PLAYER SELECTING THIS LEVEL
   109   917A    A9    00                       LDA I,0
   110   917C    85    4E                       STA SWFINA
   111   917E    AD  0200                       LDA CURSL1              ;YES. USE LEVEL FOR THIS PLAYER
   112   9181    A8                             TAY
   113   9182    A6    3D                       LDX PLAYUP              ;
   114   9184    9D  0102                       STA X,BONUS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 18+
INITIALIZE-SET SKILL LEVEL

   115   9187    B9  91FE                       LDA Y,LEVEL
   116   918A    24    05                       BIT QSTATUS
   117   918C    30    00                       IFPL                    ;ATTRACT?
   118   918E    A0    01                       LDY I,1
   119   9190    84    48                       STY LIVES1
   120   9192    AD  60CA                       LDA RANDOM              ;YES. CHOOSE FROM 1ST 8 LEVELS
   121   9195    29    07                       AND I,7
   122   918D    09                             ENDIF
   123   9197    95    46                       STA X,WAVEN1
   124   9199    85    9F                       STA CURWAV
   125   919B    20  0000G                      JSR INICOL
   126   919E    20  92C5                       JSR CONTOUR
   127   91A1    20  9234                       JSR INIENE              ;INITIALIZE ENEMY
   128   91A4    20  A831                       JSR INISUZ              ;NEW SUPERZAPPER
   129   91A7    A9    02                       LDA I,CNEWLIF           ;GO ON TO GAME PLAY
   130   91A9    85    00                       STA QSTATE
   131   91AB    20  92AD                       JSR CLRPOT              ;CLEAR POT
   132   9179    34                             ENDIF
   133   91AE    A5    4E                       LDA SWFINA
   134   91B0    29    07                       AND I,^C<MFAKE!MFIRE!MSUZA!MSTRT1!MSTRT2>
   135   91B2    85    4E                       STA SWFINA              ;CLEAR "SWITCHES NOT PROCESSED" FLAG
   136   91B4    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 19
INITIALIZE-SET SKILL LEVEL

     1
     2                                          .SBTTL  BONUS SCORE DETERMINATION
     3                                  ;INPUT:	ACC=BONUS LEVEL INDEX
     4                                  ;OUTPUT:TEMP0,1,&2:BONUS POINTS
     5                                  ;	ACC,X DESTROYED
     6
     7   91B5    0A                     BONSCO: ASL
     8   91B6    AA                             TAX
     9   91B7    A9    00                       LDA I,0                 ;LSB ALWAYS 0
    10   91B9    85    29                       STA TEMP0
    11   91BB    BD  91C6                       LDA X,BONPTM
    12   91BE    85    2A                       STA TEMP1
    13   91C0    BD  91C7                       LDA X,BONPTH
    14   91C3    85    2B                       STA TEMP2
    15   91C5    60                             RTS
    16   91C6  0000  0060  0160  0320   BONPTM: .WORD 0,60,160,320,540,740,940,1140,1340
         91CE  0540  0740  0940  1140
         91D6  1340
    17   91D8  1520  1700  1880  2080           .WORD 1520,1700,1880,2080,2260,2480,2660,3000,3400
         91E0  2260  2480  2660  3000
         91E8  3400
    18   91EA  3820  4150  4390  4720           .WORD 3820,4150,4390,4720,5310,5810
         91F2  5310  5810
    19   91F6  6240  6560  7660  8980           .WORD 6240,6560,7660,8980
    20         91C7                     BONPTH  =BONPTM+1
    21   91FE                           LEVEL:  ;TABLE OF LEVEL #S(-1) FOR RATING DISPLAY
    22   91FE    00    02    04    06           .BYTE 0,2,4,6,8,0A,0C,0E,10,13,21.,17,25.,1B,30.,32.,23,27,2B,46.,48.,51.,55.,59.,62.,64.
         9202    08    0A    0C    0E
         9206    10    13    15    17
         920A    19    1B    1E    20
         920E    23    27    2B    2E
         9212    30    33    37    3B
         9216    3E    40
    23   9218    48    50                       .BYTE 72.,80.
    24   921A                           LEVELE:
    25   921A    FF                             .BYTE 0FF                       ;END OF TABLE FLAG
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 20
INITIALIZE - CURSOR

     1                                          .SBTTL INITIALIZE - CURSOR
     2   921B                           INICUR:
     3   921B    A9    0E                       LDA I,0E                ;INITIALIZE CURSOR POSITION
     4   921D    8D  0200                       STA CURSL1
     5   9220    A9    F0                       LDA I,0F0
     6   9222    85    51                       STA CURSPO
     7   9224    A9    00                       LDA I,0
     8   9226    8D  0106                       STA CURMOD
     9   9229    A9    0F                       LDA I,0F
    10   922B    8D  0201                       STA CURSL2
    11   922E    A9    10                       LDA I,ILINLIY
    12   9230    8D  0202                       STA CURSY
    13   9233    60                             RTS
    14                                          .SBTTL INITIALIZE - NYMPHS
    15                                  ;
    16                                  ;INITIALIZE NYMPHS
    17                                  ;
    18   9234    AD  015B               INIENE: LDA NWNYMC                      ;INITIALIZE FOR NEW WAVE (NYMPH COUNT + ENEMY LINE HEIGHT)
    19   9237    8D  03AB                       STA NYMCOU
    20   923A    AD  015A                       LDA NWTELI              ;INITIALIZE ENEMY LINES HIGHT
    21                                          .SBTTL  INIT ENEMY LINES
    22                                                                  ;ACC=INITIAL HEIGHT
    23   923D    A2    0F                       LDX I,NLINES-1
    24                                          BEGIN
    25   923F    9D  03AC                       STA X,LINEY
    26   9242    CA                             DEX
    27   9243    10    FA                       MIEND
    28   9245    60                             RTS
    29
    30   9246                           ININYM:
    31   9246    A9    00                       LDA I,0
    32   9248    A2    3F                       LDX I,NNYMPH-1
    33                                          BEGIN
    34   924A    9D  0243                       STA X,NYMPY
    35   924D    CA                             DEX
    36   924E    10    FA                       MIEND
    37   9250    AE  03AB                       LDX NYMCOU
    38   9253    CA                             DEX
    39                                          BEGIN                   ;ON 8 Y LEVELS
    40   9254    AD  60CA                       LDA RANDOM
    41   9257    29    0F                       AND I,0F
    42   9259    9D  0203                       STA X,NYMPL
    43   925C    8A                             TXA
    44   925D    0A                             ASL
    45   925E    0A                             ASL
    46   925F    0A                             ASL
    47   9260    0A                             ASL
    48   9261    1D  0203                       ORA X,NYMPL
    49   9264    D0    00                       IFEQ
    50   9266    A9    0F                       LDA I,0F
    51   9265    02                             ENDIF
    52   9268    9D  0243                       STA X,NYMPY
    53   926B    CA                             DEX
    54   926C    10    E6                       MIEND
    55   926E    60                             RTS
    56                                          .SBTTL INITIALIZE - INVADERS
    57                                  ;
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 20+
INITIALIZE - INVADERS

    58                                  ;INITIALIZE INVADERS
    59                                  ;
    60   926F    A2    06               INIINV: LDX I,NINVAD-1
    61   9271    A9    00                       LDA I,0
    62                                          BEGIN                   ;LOOP FOR EACH INVADER
    63   9273    9D  02DF                       STA X,INVAY             ;DEACTIVATE
    64   9276    CA                             DEX
    65   9277    10    FA                       MIEND
    66   9279    8D  0108                       STA INMCOU
    67   927C    8D  0109                       STA INCCOU
    68   927F    8D  0145                       STA SPINCO
    69   9282    8D  0142                       STA FLIPCO
    70   9285    8D  0144                       STA TANKCO
    71   9288    8D  0143                       STA PULSCO
    72   928B    8D  0146                       STA FUSECO
    73   928E    60                             RTS
    74                                          .SBTTL INITIALIZE - CHARGES
    75   928F                           INICHA:
    76   928F    A9    00                       LDA I,0
    77   9291    A2    0B                       LDX I,NCHARG-1
    78                                          BEGIN                   ;LOOP FOR EACH CHARGE
    79   9293    9D  02D3                       STA X,CHARY             ;DEACTIVATE CHARGE
    80   9296    CA                             DEX
    81   9297    10    FA                       MIEND
    82   9299    8D  0135                       STA CHACOU
    83   929C    85    A6                       STA ESHCOU
    84   929E    60                             RTS
    85                                          .SBTTL  INITIALIZE EXPLOSIONS
    86   929F                           INIEXP:
    87   929F    A2    07                       LDX I,NEXPLO-1
    88   92A1    A9    00                       LDA I,0
    89                                          BEGIN
    90   92A3    9D  030A                       STA X,EXPLOY
    91   92A6    CA                             DEX
    92   92A7    10    FA                       MIEND
    93   92A9    8D  0116                       STA EXPCOU
    94   92AC    60                             RTS
    95                                                                  ;CLEARS POTS
    96                                                                  ;
    97   92AD    A9    00               CLRPOT: LDA I,0
    98   92AF    85    50                       STA TBHD
    99   92B1    60                             RTS
   100   92B2                           SWAPEN:
   101   92B2    A2    11                       LDX I,SAVEND-SAVEP-1
   102                                          BEGIN                   ;LOOP FOR EACH BYTE OF PLAYER'S SPECIAL PARAMETERS
   103   92B4    BD  03AA                       LDA X,ACTIP             ;SWAP ACTIVE TO SAVE AREAS
   104   92B7    BC  03BC                       LDY X,SAVEP
   105   92BA    9D  03BC                       STA X,SAVEP
   106   92BD    98                             TYA
   107   92BE    9D  03AA                       STA X,ACTIP
   108   92C1    CA                             DEX
   109   92C2    10    F0                       MIEND
   110   92C4    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 21
INITIALIZE-SET SKILL LEVEL FOR WAVE

     1                                          .SBTTL  INITIALIZE-SET SKILL LEVEL FOR WAVE
     2   92C5                           CONTOUR:
     3                                  ;
     4                                  ;PARAMETER TABLES DATA STRUCTURE
     5                                  ;
     6                                  ;	BYTE 1:START WAVE
     7                                  ;	BYTE 2:END WAVE
     8                                  ;	BYTE 0:TYPE OF ENCODING
     9                                  ;	BYTE 3:PARAMETERS
    10                                  ;
    11                                  ;TYPES:
    12         0002                     T1=2;	1 BYTE IN PARAMETER FIELD GOES FOR ALL WAVES IN RANGE
    13         0004                     TZ=4;	1 BYTE IN PARAMETER FIELD FOR EACH WAVE IN RANGE
    14         0000                     TE=0;	EOT (RETURN WITH 0)
    15         0006                     TZANDF=6; AND CURRENT WAVE WITH F, THE DO TZ
    16         0008                     TA=8; AND BYTE 4 TO BYTE 3 FOR EACH LEVEL
    17         000A                     TB=0A; ADD BYTE 3 TO WINVIN
    18         000C                     TR=0C;ALTERNATE BETWEEN BYTES 3 & 4
    19   92C5    A5    9F                       LDA CURWAV
    20   92C7    C9    62                       CMP I,98.
    21   92C9    90    00                       IFCS
    22   92CB    AD  60DA                       LDA RANDO2
    23   92CE    29    1F                       AND I,1F
    24   92D0    09    40                       ORA I,40
    25   92CA    07                             ENDIF
    26   92D2    85    2B                       STA TEMP2
    27   92D4    E6    2B                       INC TEMP2
    28   92D6    A2    6F                       LDX I,WTABEND-WTABLE-1
    29   92D8    86    37                       STX INDEX1
    30                                          BEGIN                           ;LOOP FOR EACH TABLE ENTRY
    31   92DA    A6    37                       LDX INDEX1
    32   92DC    BD  9607                       LDA X,WTABLE
    33   92DF    85    3C                       STA INDYHI
    34   92E1    BD  9606                       LDA X,WTABLE-1
    35   92E4    85    3B                       STA INDYLO                      ;SET UP POINTER TO BYTE TO BE SET UP
    36   92E6    BD  9605                       LDA X,WTABLE-2
    37   92E9    85    2D                       STA TEMP4
    38   92EB    BD  9604                       LDA X,WTABLE-3
    39   92EE    85    2C                       STA TEMP3                       ;SET UP POINTER TO ARRAY OP PARAMETERS
    40   92F0    A9    01                       LDA I,1
    41   92F2    85    38                       STA INDEX2                      ;SET UP START RANGE COUNTER
    42   92F4    A0    00                       LDY I,0                         ;SET UP TABLE POINTER
    43                                          BEGIN                           ;LOOP UNTIL CURRENT WAVE IS FOUND
    44   92F6    B1    2C                       LDA NY,TEMP3
    45   92F8    8D  015E                       STA TYPCOD                      ;GET TYPE OF RECORD
    46   92FB    F0    1C                       BEQ TEXIT                       ;EXIT ON EOT TYPE CODE WITH 0
    47   92FD    A5    2B                       LDA TEMP2
    48   92FF    C8                             INY
    49   9300    D1    2C                       CMP NY,TEMP3
    50   9302    C8                             INY
    51   9303    90    00                       IFCS                            ;IS CURRENT WAVE>=START WAVE OF RANGE?
    52   9305    D1    2C                       CMP NY,TEMP3                    ;YES.
    53   9307    D0    00                       IFEQ                            ;<=END WAVE OF RANGE?
    54   9309    18                             CLC
    55   9308    01                             ENDIF
    56   930A    B0    00                       IFCC
    57   930C    C8                             INY
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 21+
INITIALIZE-SET SKILL LEVEL FOR WAVE

    58   930D    20  9677                       JSR DOTYPE                      ;YES. GET PARAMETER FROM RECORD
    59   9310    4C  9319                       JMP TEXIT                       ;EXIT LOOP
    60   930B    07                             ENDIF
    61   9304    0E                             ENDIF
    62   9313    20  9683                       JSR DONEXT                      ;DO. UP POINTER TO NEXT RECORD
    63   9316    18                             CLC
    64   9317    90    DD                       CSEND                           ;ALWAYS LOOP
    65   9319                           TEXIT:
    66   9319    A0    00                       LDY I,0                         ;GOT PARAMETER
    67   931B    91    3B                       STA NY,INDYLO                   ;SAVE IT
    68   931D    A5    37                       LDA INDEX1
    69   931F    38                             SEC
    70   9320    E9    04                       SBC I,4
    71   9322    85    37                       STA INDEX1                      ;UPDATE MASTER TABLE POINTER
    72   9324    C9    FF                       CMP I,0FF
    73   9326    D0    B2                       EQEND
    74                                  ;
    75                                          .SBTTL  EASY - MED - HARD OPTIONS
    76                                  ;
    77         0001                     ZEASY   =1
    78         0002                     ZHARD   =2
    79   9328    AD  016A                       LDA OPTIN3
    80   932B    29    03                       AND I,3
    81   932D    C9    01                       CMP I,ZEASY
    82   932F    D0    00                       IFEQ                    ;EASY?
    83   9331    CE  011A                       DEC WCHAMX              ;YES. LESS ENEMY SHOTS
    84   9334    AD  0160                       LDA WINVIL
    85   9337    49    FF                       EOR I,0FF
    86   9339    4A                             LSR
    87   933A    4A                             LSR
    88   933B    4A                             LSR
    89   933C    6D  0160                       ADC WINVIL
    90   933F    8D  0160                       STA WINVIL              ;DECREASE SPEEDS BY 1/8
    91   9342    A5    9F                       LDA CURWAV
    92   9344    C9    11                       CMP I,17.
    93   9346    B0    00                       IFCC
    94   9348    C6    B3                       DEC WTTFRA              ;DECREASE FLIP RATE AT TOP
    95   9347    02                             ENDIF
    96   934A    B8    50    00                 ELSE
         9330    1C
    97   934D    C9    02                       CMP I,ZHARD
    98   934F    D0    00                       IFEQ                    ;HARD?
    99   9351    EE  011A                       INC WCHAMX              ;YES. MORE ENEMY SHOTS UP TO 4
   100   9354    AD  011A                       LDA WCHAMX
   101   9357    C9    03                       CMP I,3
   102   9359    90    00                       IFCS
   103   935B    A9    03                       LDA I,3
   104   935D    8D  011A                       STA WCHAMX
   105   935A    05                             ENDIF
   106   9360    AD  0160                       LDA WINVIL              ;INCREASE SPEED BY 1/8
   107   9363    4A                             LSR
   108   9364    4A                             LSR
   109   9365    4A                             LSR
   110   9366    09    E0                       ORA I,0E0
   111   9368    6D  0160                       ADC WINVIL
   112   936B    8D  0160                       STA WINVIL
   113   936E    AD  015B                       LDA NWNYMC              ;INCREASE ATTACK BY 1/8
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 21+
EASY - MED - HARD OPTIONS

   114   9371    4A                             LSR
   115   9372    4A                             LSR
   116   9373    4A                             LSR
   117   9374    6D  015B                       ADC NWNYMC
   118   9377    8D  015B                       STA NWNYMC
   119   937A    AD  016D                       LDA WPULFI
   120   937D    09    40                       ORA I,ZFIRYE
   121   937F    8D  016D                       STA WPULFI              ;PULSARS FIRE
   122   9350    31                             ENDIF
   123   934C    35                             ENDIF
   124   9382    AD  0163                       LDA WINVIL+ZABTRA       ;SPINNER
   125   9385    20  93E0                       JSR TIMES8
   126   9388    8D  0163                       STA WINVIL+ZABTRA       ;SPEED (FRAC)
   127   938B    8C  0168                       STY WINVIN+ZABTRA       ;SPEED (INT)
   128   938E    8E  0154                       STX ENSIZE+ZABTRA       ;COLLISION RANGE
   129   9391    AD  0120                       LDA WCHARL
   130   9394    20  93E0                       JSR TIMES8              ;ENEMY SHOT
   131   9397    8D  0120                       STA WCHARL
   132   939A    8C  0118                       STY WCHARIN
   133   939D    86    A7                       STX CHACHA              ;CHARGE CHARGE COLLISION RANGE
   134   939F    AD  0160                       LDA WINVIL
   135   93A2    20  93E0                       JSR TIMES8
   136   93A5    8D  0160                       STA WINVIL
   137   93A8    8D  0162                       STA WINVIL+ZABTAN
   138   93AB    8C  0167                       STY WINVIN+ZABTAN
   139   93AE    8C  0165                       STY WINVIN
   140   93B1    8E  0151                       STX ENSIZE+ZABFLI       ;CHARGE INVADER COLLISION RANGE
   141   93B4    8E  0153                       STX ENSIZE+ZABTAN
   142   93B7    8E  0152                       STX ENSIZE+ZABPUL
   143   93BA    AD  0160                       LDA WINVIL
   144   93BD    0A                             ASL
   145   93BE    8D  0164                       STA WFUSIL
   146   93C1    AD  0165                       LDA WINVIN
   147   93C4    2A                             ROL
   148   93C5    8D  0169                       STA WFUSIH              ;FUSE INC=2X INVADER SPEED
   149   93C8    A9    06                       LDA I,<PCVELO+3>/2
   150   93CA    8D  0155                       STA ENSIZE+ZABFUS
   151   93CD    A9    A0                       LDA I,0A0
   152   93CF    8D  0161                       STA WINVIL+ZABPUL
   153   93D2    A9    FE                       LDA I,0FE
   154   93D4    8D  0166                       STA WINVIN+ZABPUL
   155   93D7    A9    01                       LDA I,ZCARFL
   156   93D9    8D  014A                       STA WTACAR+1
   157   93DC    8D  0149                       STA WTACAR+0
   158   93DF    60                             RTS
   159                                  ;INPUT:	ACC=SPEED (SIGNED)
   160                                  ;OUTPUT:	ACC=LOW BYTE OF SPEED
   161                                  ;		Y=HI BYTE OF SPEED (SIGN EXT)
   162                                  ;		X=COLLISION RANGE WITH PC
   163                                  ;		TEMP0 TRASHED
   164   93E0                           TIMES8:
   165   93E0    A0    FF                       LDY I,0FF               ;ALL SPEEDS ARE MINUS SO START SIGN
   166   93E2    84    29                       STY TEMP0               ;EXTEND AT ALL-
   167   93E4    0A                             ASL
   168   93E5    26    29                       ROL TEMP0
   169   93E7    0A                             ASL
   170   93E8    26    29                       ROL TEMP0
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 21+
EASY - MED - HARD OPTIONS

   171   93EA    0A                             ASL
   172   93EB    26    29                       ROL TEMP0               ;X 8
   173   93ED    A4    29                       LDY TEMP0
   174   93EF    48                             PHA                     ;SAVE RESULT
   175   93F0    98                             TYA                     ;COLLISION RANGE=AVERAGE OF
   176   93F1    49    FF                       EOR I,0FF               ;ABS VAL OF SPEEDS.
   177   93F3    18                             CLC
   178   93F4    69    0D                       ADC I,PCVELO+1+1+2
   179   93F6    4A                             LSR
   180   93F7    AA                             TAX
   181   93F8    68                             PLA
   182   93F9    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 22
SKILL CONTOUR TABLES

     1                                          .SBTTL  SKILL CONTOUR TABLES
     2                                                                  ;FRAMES UNTIL INVADER CAN FIRE (28 PER SECOND)
     3   93FA                           TCHARFR:
     4   93FA    08    01    14    50           .BYTE TA,1,20.,80.,-3
         93FE    FD
     5   93FF    02    15    40    14           .BYTE T1,21.,64.,20.
     6   9403    02    41    63    0A           .BYTE T1,65.,99.,10.
     7   9407    04    01    09    01   TCHAMX: .BYTE TZ,1,9,1,1,1,2,3,2,2,3,3  ;ADD 1
         940B    01    01    02    03
         940F    02    02    03    03
     8   9413    02    0A    40    02           .BYTE T1,10.,64.,2
     9   9417    02    41    63    03           .BYTE T1,65.,99.,3
    10                                                                  ;
    11                                                                  ;ENEMY SHOT INCREMENT
    12   941B                           TINVIN:
    13   941B    08    01    08    D4           .BYTE TA,1,8,-44.,-5
         941F    FB
    14   9420    04    09    10    AF           .BYTE TZ,9,16.,-81.,-84.,-84.,-84.,-88.,-92.,-96.,-96.
         9424    AC    AC    AC    A8
         9428    A4    A0    A0
    15   942B    08    11    19    AF           .BYTE TA,17.,25.,-81.,-3
         942F    FD
    16   9430    08    1A    20    9D           .BYTE TA,26.,32.,-99.,-3
         9434    FD
    17   9435    08    21    27    94           .BYTE TA,33.,39.,-108.,-3
         9439    FD
    18   943A    08    28    30    92           .BYTE TA,40.,48.,-110.,-1
         943E    FF
    19   943F    08    31    40    88           .BYTE TA,49.,64.,-120.,-1
         9443    FF
    20   9444    0C    41    63    60           .BYTE TR,65.,99.,-160.,-191.
         9448    41
    21   9449                           TCHARIN:
    22   9449    0A    01    63    C0           .BYTE TB,1,99.,-64.
    23   944D    0A    01    14    00   TSPIIN: .BYTE TB,1,20.,0
    24   9451    0A    15    20    D0           .BYTE TB,21.,32.,-48.
    25   9455    0A    21    30    D8           .BYTE TB,33.,48.,-40.
    26   9459    0A    31    63    D0           .BYTE TB,49.,99.,-48.
    27   945D                           WPULPOT:                        ;PULSAR POTENCY HEIGHT
    28   945D    02    01    20    A0           .BYTE T1,1,32.,0A0
    29   9461    02    21    40    A0           .BYTE T1,33.,64.,0A0
    30   9465    02    41    63    C0           .BYTE T1,65.,99.,0C0
    31   9469                           WPULTIM:                        ;PULSAR TIMER INCREMENT
    32   9469    02    01    30    04           .BYTE T1,1,48.,4
    33   946D    02    31    40    06           .BYTE T1,49.,64.,6
    34   9471    02    41    63    08           .BYTE T1,65.,99.,8
    35   9475                           WWTAC2:
    36   9475    02    01    20    01           .BYTE T1,1,32.,ZCARFL
    37   9479    02    21    28    03           .BYTE T1,33.,40.,ZCARFU
    38   947D    02    29    63    02           .BYTE T1,41.,99.,ZCARPU
    39   9481                           WWTAC3:
    40   9481    02    01    30    01           .BYTE T1,1,48.,ZCARFL
    41   9485    02    31    63    03           .BYTE T1,49.,99.,ZCARFU
    42   9489    04    01    04    00   WSPIMI: .BYTE TZ,1,4,0,0,0,1
         948D    00    00    01
    43   9490    02    05    10    02           .BYTE T1,5,16.,2
    44   9494    02    11    13    00           .BYTE T1,17.,19.,0
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 22+
SKILL CONTOUR TABLES

    45   9498    02    14    20    01           .BYTE T1,20.,32.,1
    46   949C    02    23    27    01           .BYTE T1,35.,39.,1
    47   94A0    02    2C    63    01           .BYTE T1,44.,99.,1
    48   94A4    00                             .BYTE TE
    49   94A5    04    01    06    00   WSPIMX: .BYTE TZ,1,6,0,0,0,2,3,4
         94A9    00    00    02    03
         94AD    04
    50   94AE    02    07    0A    04           .BYTE T1,7,10.,4
    51   94B2    02    0B    10    03           .BYTE T1,11.,16.,3
    52   94B6    02    14    19    02           .BYTE T1,20.,25.,2
    53   94BA    04    1A    20    01           .BYTE TZ,26.,32.,1,2,2,2,1,1,2
         94BE    02    02    02    01
         94C2    01    02
    54   94C4    02    35    27    01           .BYTE T1,35,39.,1
    55   94C8    02    2B    63    01           .BYTE T1,43.,99.,1
    56   94CC    00                             .BYTE TE
    57   94CD    02    01    04    01   WFLIMI: .BYTE T1,1,4,1
    58   94D1    02    05    63    00           .BYTE T1,5,99.,0
    59   94D5    00                             .BYTE TE
    60   94D6    02    01    04    04   WFLIMX: .BYTE T1,1,4,4
    61   94DA    02    05    10    05           .BYTE T1,5,16.,5
    62   94DE    02    11    13    03           .BYTE T1,17.,19.,3
    63   94E2    02    14    19    04           .BYTE T1,20.,25.,4
    64   94E6    02    1A    63    05           .BYTE T1,26.,99.,5
    65   94EA    00                             .BYTE TE
    66   94EB    04    01    04    00   WTANMI: .BYTE TZ,1,4,0,0,1,0
         94EF    00    01    00
    67   94F2    02    05    10    01           .BYTE T1,5,16.,1
    68   94F6    02    11    20    01           .BYTE T1,17.,32.,1
    69   94FA    02    21    27    01           .BYTE T1,33.,39.,1
    70   94FE    02    28    63    01           .BYTE T1,40.,99.,1
    71   9502    00                             .BYTE TE
    72   9503    04    01    05    00   WTANMX: .BYTE TZ,1,5,0,0,1,0,1
         9507    00    01    00    01
    73   950B    02    06    10    02           .BYTE T1,6,16.,2
    74   950F    02    11    1A    01           .BYTE T1,17.,26.,1
    75   9513    02    1B    20    01           .BYTE T1,27.,32.,1
    76   9517    02    21    2C    02           .BYTE T1,33.,44.,2
    77   951B    02    2D    63    03           .BYTE T1,45.,99.,3
    78   951F    00                             .BYTE TE
    79   9520                           WPULMI:
    80   9520    02    11    20    02           .BYTE T1,17.,32.,2
    81   9524    02    21    63    01           .BYTE T1,33.,99.,1
    82   9528    00                             .BYTE TE
    83   9529                           WPULMX:
    84   9529    04    11    20    05           .BYTE TZ,17.,32.,5,3,2,2,2,2,2,2,2,2,2,2,2,3,4,2
         952D    03    02    02    02
         9531    02    02    02    02
         9535    02    02    02    02
         9539    03    04    02
    85   953C    02    21    63    03           .BYTE T1,33.,99.,3
    86   9540    00                             .BYTE TE
    87   9541                           WFUSMI:
    88   9541    02    0B    10    01           .BYTE T1,11.,16.,1
    89   9545    02    16    19    01           .BYTE T1,22.,25.,1
    90   9549    02    1B    63    01           .BYTE T1,27.,99.,1
    91   954D    00                             .BYTE TE
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 22+
SKILL CONTOUR TABLES

    92   954E                           WFUSMX:
    93   954E    02    0B    10    01           .BYTE T1,11.,16.,1
    94   9552    02    16    19    01           .BYTE T1,22.,25.,1
    95   9556    02    1B    20    01           .BYTE T1,27.,32.,1
    96   955A    02    21    27    04           .BYTE T1,33.,39.,4
    97   955E    02    28    63    03           .BYTE T1,40.,99.,3
    98   9562    00                             .BYTE TE
    99         0028                     PN=40.
   100         0014                     PC=20.
   101   9563                           TPUCHDE:
   102   9563    04    11    12    28           .BYTE TZ,17.,18.,PN,PC
         9567    14
   103   9568    0C    13    20    14           .BYTE TR,19.,32.,PC,PN
         956C    28
   104   956D    08    21    27    14           .BYTE TA,33.,39.,20.,-1
         9571    FF
   105   9572    0C    28    63    14           .BYTE TR,40.,99.,20.,10.
         9576    0A
   106   9577    00                             .BYTE TE
   107   9578                           TWFUSC:
   108   9578    0C    11    20    00           .BYTE TR,17.,32.,0,40
         957C    40
   109   957D    0C    21    30    40           .BYTE TR,33.,48.,40,0C0
         9581    C0
   110   9582    02    31    63    C0           .BYTE T1,49.,99.,0C0
   111   9586    00                             .BYTE TE
   112   9587    02    01    10    DC   TFUFRQ: .BYTE T1,1,16.,220.
   113   958B    02    11    27    C0           .BYTE T1,17.,39.,192.
   114   958F    08    28    40    C0           .BYTE TA,40.,64.,192.,1
         9593    01
   115   9594    02    41    63    E6           .BYTE T1,65.,99.,230.
   116   9598    02    01    63    06   TINVMX: .BYTE T1,1,99.,6
   117   959C    06    01    63    00   TELIHI: .BYTE TZANDF,1,99.,0,0,0,0E0,0D8,0D4,0D0,0C8,0C0,0B8,0B0,0A8,0A0,0A0,0A0,0A8,0A0,9C,9A,98
         95A0    00    00    E0    D8
         95A4    D4    D0    C8    C0
         95A8    B8    B0    A8    A0
         95AC    A0    A0    A8    A0
         95B0    9C    9A    98
   118   95B3    04    01    10    0A   TNYMMX: .BYTE TZ,1,16.,10.,12.,15.,17.,20.,22.,20.,24.,27.,29.,27.,24.,26.,28.,30.,27.
         95B7    0C    0F    11    14
         95BB    16    14    18    1B
         95BF    1D    1B    18    1A
         95C3    1C    1E    1B
   119   95C6    08    11    1A    14           .BYTE TA,17.,26.,20.,1
         95CA    01
   120   95CB    02    1B    27    1B           .BYTE T1,27.,39.,27.
   121   95CF    08    28    30    1D           .BYTE TA,40.,48.,29.,1
         95D3    01
   122   95D4    08    31    40    1F           .BYTE TA,49.,64.,31.,1
         95D8    01
   123   95D9    08    41    50    23           .BYTE TA,65.,80.,35.,1
         95DD    01
   124   95DE    08    51    63    2B           .BYTE TA,81.,99.,43.,1
         95E2    01
   125   95E3    02    01    14    02   TWTTFRA:        .BYTE T1,1,20.,2
   126   95E7    02    15    20    02           .BYTE T1,21.,32.,2
   127   95EB    02    21    63    03           .BYTE T1,33.,99.,3
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 22+
SKILL CONTOUR TABLES

   128   95EF    02    3C    63    40   TWPULF: .BYTE T1,60.,99.,ZFIRYE
   129   95F3    00                             .BYTE TE
   130                                  ;SEQUENCE:CIRCLE,SQUARE,CROSS,PEANUT,KEY,TRIANGLE,CLOVER,V,STAIRS,U,FLAT,
   131                                  ;	HEART,STAR,WAVES,TOPO,8
   132   95F4    06    01    63         CAMWAV: .BYTE TZANDF,1,99.
   133   95F7    07                             .BYTE NOJUMP-CAM
   134   95F8    0B                             .BYTE MOVJMP-CAM
   135   95F9    19                             .BYTE SPIRAL-CAM
   136   95FA    24                             .BYTE SPIRCH-CAM
   137   95FB    53                             .BYTE COWJM2-CAM
   138   95FC    0B                             .BYTE MOVJMP-CAM
   139   95FD    24                             .BYTE SPIRCH-CAM
   140   95FE    19                             .BYTE SPIRAL-CAM
   141   95FF    53                             .BYTE COWJM2-CAM
   142   9600    87                             .BYTE AVOIDR-CAM
   143   9601    24                             .BYTE SPIRCH-CAM
   144   9602    19                             .BYTE SPIRAL-CAM
   145   9603    53                             .BYTE COWJM2-CAM
   146   9604    07                             .BYTE NOJUMP-CAM
   147   9605    87                             .BYTE AVOIDR-CAM
   148   9606    24                             .BYTE SPIRCH-CAM
   149   9607                           WTABLE:
   150   9607  95EF  016D                       .WORD TWPULF,WPULFI
   151   960B  95E3  00B3                       .WORD TWTTFRA,WTTFRA
   152   960F  93FA  0119                       .WORD TCHARFR,WCHARFR           ;INVADER'S FIRE TIMER (FRAMES)
   153   9613  9407  011A                       .WORD TCHAMX,WCHAMX             ;MAX # ENEMY SHOTS -1
   154   9617  94CD  0129                       .WORD WFLIMI,WFLMIN             ;MIN # FLIPPERS
   155   961B  94D6  012E                       .WORD WFLIMX,WFLMAX             ;MAX
   156   961F  9520  012A                       .WORD WPULMI,WPUMIN
   157   9623  9529  012F                       .WORD WPULMX,WPUMAX
   158   9627  94EB  012B                       .WORD WTANMI,WTAMIN
   159   962B  9503  0130                       .WORD WTANMX,WTAMAX
   160   962F  9489  012C                       .WORD WSPIMI,WSPMIN
   161   9633  94A5  0131                       .WORD WSPIMX,WSPMAX
   162   9637  9541  012D                       .WORD WFUSMI,WFUMIN
   163   963B  954E  0132                       .WORD WFUSMX,WFUMAX
   164   963F  945D  0157                       .WORD WPULPOT,PULPOT
   165   9643  9469  0147                       .WORD WPULTIM,PULTIM
   166   9647  9475  014B                       .WORD WWTAC2,WTACAR+2
   167   964B  9481  014C                       .WORD WWTAC3,WTACAR+3
   168   964F  9598  011C                       .WORD TINVMX,WINVMX
   169   9653  95B3  015B                       .WORD TNYMMX,NWNYMC
   170   9657  959C  015A                       .WORD TELIHI,NWTELI
   171   965B  9563  00B2                       .WORD TPUCHDE,PUCHDE    ;PULSAR CHASE DELAY
   172   965F  95F4  015D                       .WORD CAMWAV,WFLICAM            ;FLIPPER CAM
   173   9663  944D  0163                       .WORD TSPIIN,WINVIL+ZABTRA
   174   9667  9449  0120                       .WORD TCHARIN,WCHARL
   175   966B  941B  0160                       .WORD TINVIN,WINVIL
   176   966F  9578  0159                       .WORD TWFUSC,WFUSCH
   177   9673  9587  015F                       .WORD TFUFRQ,WFUFRQ
   178   9677                           WTABEND:
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 23
PARAMETER TYPE CODE EXTRACTION VECTORS

     1                                          .SBTTL  PARAMETER TYPE CODE EXTRACTION VECTORS
     2                                  ;INPUT:Y=POINTER TO 1ST PARAMETER IN RECORD
     3                                  ;	TYPCOD=RECORD TYPE
     4   9677                           DOTYPE:
     5   9677    AE  015E                       LDX TYPCOD
     6   967A    BD  9690                       LDA X,SPARAD+1
     7   967D    48                             PHA
     8   967E    BD  968F                       LDA X,SPARAD
     9   9681    48                             PHA
    10   9682    60                             RTS
    11                                  ;INPUT:Y=PTS. TO END RANGE FIELD
    12   9683                           DONEXT:
    13   9683    AE  015E                       LDX TYPCOD
    14   9686    BD  969E                       LDA X,NPARAD+1
    15   9689    48                             PHA
    16   968A    BD  969D                       LDA X,NPARAD
    17   968D    48                             PHA
    18   968E    60                             RTS
    19   968F  0000                     SPARAD: .WORD 0                         ;EOT
    20   9691  96C3                             .WORD SAMALL-1                  ;ONE BYTE FOR ALL
    21   9693  96B6                             .WORD ITMIZE-1                  ;ITEMIZED BYTE/LEVEL
    22   9695  96AA                             .WORD DOTZAN-1
    23   9697  96E1                             .WORD DOTA-1
    24   9699  96DA                             .WORD DOTB-1
    25   969B  96FF                             .WORD DOTR-1
    26   969D  0000                     NPARAD: .WORD 0
    27   969F  96C7                             .WORD ONEBYT-1
    28   96A1  96CA                             .WORD NITMIZ-1
    29   96A3  96CA                             .WORD NITMIZ-1
    30   96A5  96C6                             .WORD TWOBYT-1
    31   96A7  96C7                             .WORD ONEBYT-1
    32   96A9  96C6                             .WORD TWOBYT-1
    33   96AB    A5    2B               DOTZAN: LDA TEMP2
    34   96AD    38                             SEC
    35   96AE    E9    01                       SBC I,1
    36   96B0    29    0F                       AND I,0F
    37   96B2    18                             CLC
    38   96B3    69    01                       ADC I,1
    39   96B5    10    02                       BPL ITMIZ2
    40   96B7    A5    2B               ITMIZE: LDA TEMP2
    41   96B9    84    29               ITMIZ2: STY TEMP0                       ;ITEMIZED BYTE FOR EACH WAVE
    42   96BB    88                             DEY
    43   96BC    88                             DEY
    44   96BD    38                             SEC
    45   96BE    F1    2C                       SBC NY,TEMP3
    46   96C0    18                             CLC
    47   96C1    65    29                       ADC TEMP0
    48   96C3    A8                             TAY
    49   96C4                           SAMALL:                                 ;SAME BYTE FOR EACH WAVE IN RANGE
    50   96C4    B1    2C                       LDA NY,TEMP3
    51   96C6    60                             RTS
    52   96C7    C8                     TWOBYT: INY
    53   96C8    C8                     ONEBYT: INY
    54   96C9    C8                             INY
    55   96CA    60                             RTS
    56   96CB    B1    2C               NITMIZ: LDA NY,TEMP3
    57   96CD    88                             DEY
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 23+
PARAMETER TYPE CODE EXTRACTION VECTORS

    58   96CE    38                             SEC
    59   96CF    F1    2C                       SBC NY,TEMP3
    60   96D1    85    29                       STA TEMP0
    61   96D3    98                             TYA
    62   96D4    38                             SEC
    63   96D5    65    29                       ADC TEMP0
    64   96D7    A8                             TAY
    65   96D8    C8                             INY
    66   96D9    C8                             INY
    67   96DA    60                             RTS
    68                                  ;
    69                                  ;
    70                                  ;
    71   96DB    B1    2C               DOTB:   LDA NY,TEMP3
    72   96DD    18                             CLC
    73   96DE    6D  0160                       ADC WINVIL
    74   96E1    60                             RTS
    75                                  ;
    76   96E2                           DOTA:
    77   96E2    20  96F4                       JSR RANGER
    78   96E5    AA                             TAX
    79   96E6    B1    2C                       LDA NY,TEMP3
    80   96E8    C8                             INY
    81   96E9    E0    00                       CPX I,0
    82   96EB    F0    00                       IFNE
    83                                          BEGIN
    84   96ED    18                             CLC
    85   96EE    71    2C                       ADC NY,TEMP3
    86   96F0    CA                             DEX
    87   96F1    D0    FA                       EQEND
    88   96EC    06                             ENDIF
    89   96F3    60                             RTS
    90   96F4    A5    2B               RANGER: LDA TEMP2               ;CALCULATE # OF LEVELS BETWEEN
    91   96F6    84    29                       STY TEMP0                       ;START AND END INCLUSIVE (ACC).
    92   96F8    88                             DEY                             ;PRESERVE Y
    93   96F9    88                             DEY
    94   96FA    38                             SEC
    95   96FB    F1    2C                       SBC NY,TEMP3
    96   96FD    C8                             INY
    97   96FE    C8                             INY
    98   96FF    60                             RTS
    99                                  ;
   100   9700                           DOTR:                                   ;ALTERNATE BETWEEN 2 VALUES
   101   9700    20  96F4                       JSR RANGER
   102   9703    29    01                       AND I,1
   103   9705    F0    00                       IFNE
   104   9707    C8                             INY
   105   9706    01                             ENDIF
   106   9708    B1    2C                       LDA NY,TEMP3
   107   970A    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 24
PLAY - MAINLINE (TOP OF WELL)

     1                                          .SBTTL PLAY - MAINLINE (TOP OF WELL)
     2   970B                           PLAY:
     3   970B    20  9749                       JSR MOVCUR              ;MOVE CURSOR AROUND
     4   970E    20  A23F                       JSR FIREPC              ;FIRE PLAYER CHARGE
     5   9711    20  A83A                       JSR PROSUZ              ;PROCESS SUPER ZAP
     6   9714    20  98A2                       JSR MOVNYM              ;MOVE NYMPHS
     7   9717    20  9B1E                       JSR MOVINV              ;MOVE INVADERS
     8   971A    20  A18F                       JSR MOVCHA              ;MOVE CHARGES
     9   971D    20  A2A6                       JSR FIREIC              ;FIRE INVADER CHARGE
    10   9720    20  A454                       JSR COLLIS              ;COLLISION DETECT
    11   9723    20  A416                       JSR PROEXP              ;EXPLOSIONS
    12   9726    4C  A504                       JMP ANALYZ              ;ANALYZE PLAYER STATUS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 25
PLAY - MAINLINE (DROP MODE)

     1                                          .SBTTL  PLAY - MAINLINE (DROP MODE)
     2
     3                                                                  ;PLAYER IS SHOOTING THRU TUBE TO GET TO NEXT
     4                                                                  ;
     5   9729                           PLDROP:
     6   9729    AD  0123                       LDA ELICNT              ;CLEAR WARNING REQUEST
     7   972C    29    7F                       AND I,7F
     8   972E    8D  0123                       STA ELICNT
     9   9731    20  9749                       JSR MOVCUR              ;MOVE CURSOR AROUND
    10   9734    20  97F8                       JSR MOVCUD              ;MOVE CURSOR DOWN
    11   9737    20  A416                       JSR PROEXP              ;EXPLOSIONS
    12   973A    20  A23F                       JSR FIREPC              ;FIRE PLAYER CHARGES
    13   973D    20  A18F                       JSR MOVCHA              ;MOVE CHARGES
    14   9740    AD  0201                       LDA CURSL2
    15   9743    10    00                       IFMI                    ;CURSOR DEAD?
    16   9745    20  A504                       JSR ANALYZ              ;YES. ANALYZE CURSOR STATUS
    17   9744    03                             ENDIF
    18   9748    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 26
PLAY - MOVE CURSOR (PRELIMINARY CHECK)

     1                                          .SBTTL PLAY - MOVE CURSOR (PRELIMINARY CHECK)
     2   9749                           MOVCUR:
     3   9749    AD  0201                       LDA CURSL2
     4   974C    10    00                       IFMI                    ;--;CURSOR DEAD?
     5   974E    60                             RTS                     ;YES. DON'T MOVE IT
     6   974D    01                             ENDIF
     7                                          .SBTTL PLAY - MOVE CURSOR (MAINLINE)
     8   974F    A2    00                       LDX I,0
     9   9751    A5    05                       LDA QSTATUS
    10   9753    30    00                       IFPL                    ;ATTRACT?
    11   9755    20  97C5                       JSR AUTOCU              ;YES, AUTO MOVEMENT
    12   9758    B8    50    00                 ELSE
         9754    06
    13   975B    A5    50                       LDA TBHD                ;NO. MANUAL
    14   975D    10    00                       IFMI                    ;MAXIMIZE KNOB READING
    15   975F    C9    E1                       CMP I,-1F
    16   9761    B0    00                       IFCC
    17   9763    A9    E1                       LDA I,-1F
    18   9762    02                             ENDIF
    19   9765    B8    50    00                 ELSE
         975E    09
    20   9768    C9    1F                       CMP I,1F
    21   976A    90    00                       IFCS
    22   976C    A9    1F                       LDA I,1F
    23   976B    02                             ENDIF
    24   9767    06                             ENDIF
    25   976E    86    50                       STX TBHD
    26   975A    15                             ENDIF
    27   9770    85    2B                       STA TEMP2
    28   9772    49    FF                       EOR I,0FF               ;INVERT READING
    29   9774    38                             SEC
    30   9775    65    51                       ADC CURSPO              ;UPDATE CURSOR MASTER POSITION
    31   9777    85    2C                       STA TEMP3               ;NEW CURSPO
    32   9779    AE  0111                       LDX WELTYP
    33   977C    F0    00                       IFNE                    ;PLANAR SURFACE?
    34   977E    C9    F0                       CMP I,0F0               ;YES.
    35   9780    90    00                       IFCS                    ;SPLIT CURSOR (WRAP)?
    36   9782    A9    EF                       LDA I,0EF               ;YES. MOVE AWAY FROM EDGE
    37   9784    85    2C                       STA TEMP3
    38   9781    04                             ENDIF
    39   9786    45    2B                       EOR TEMP2
    40   9788    10    00                       IFMI
    41   978A    A5    2C                       LDA TEMP3
    42   978C    45    51                       EOR CURSPO
    43   978E    10    00                       IFMI                    ;WRAPPED AROUND?
    44   9790    A5    51                       LDA CURSPO              ;YES.
    45   9792    30    00                       IFPL                    ;OLD POSITION LOW OR HI?
    46   9794    A9    00                       LDA I,00                ;LOW END
    47
    48   9796    B8    50    00                 ELSE
         9793    05
    49   9799    A9    EF                       LDA I,0EF               ;HIGH END
    50
    51   9798    02                             ENDIF
    52   979B    85    2C                       STA TEMP3               ;NEW CURSPO
    53   978F    0D                             ENDIF
    54   9789    13                             ENDIF
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 26+
PLAY - MOVE CURSOR (MAINLINE)

    55   977D    1F                             ENDIF
    56   979D    A5    2C                       LDA TEMP3               ;NEW CURSPO
    57   979F    4A                             LSR
    58   97A0    4A                             LSR
    59   97A1    4A                             LSR
    60   97A2    4A                             LSR
    61   97A3    85    2A                       STA TEMP1               ;NEW CURSL1
    62   97A5    18                             CLC
    63   97A6    69    01                       ADC I,1                 ;CCW ADJACENT LINE # FOR CURSOR IS 1 AWAY
    64   97A8    29    0F                       AND I,0F
    65   97AA    85    2B                       STA TEMP2               ;NEW CURSL2
    66   97AC    A5    2A                       LDA TEMP1
    67   97AE    CD  0200                       CMP CURSL1
    68   97B1    F0    00                       IFNE                    ;NEW POSITION?
    69   97B3    20  0000G                      JSR SBOING              ;YES. MAKE SOUND
    70   97B2    03                             ENDIF
    71   97B6    A5    2A                       LDA TEMP1               ;UPDATE CURSOR POSITION
    72   97B8    8D  0200                       STA CURSL1
    73   97BB    A5    2B                       LDA TEMP2
    74   97BD    8D  0201                       STA CURSL2
    75   97C0    A5    2C                       LDA TEMP3
    76   97C2    85    51                       STA CURSPO
    77   97C4    60                             RTS
    78                                          .SBTTL  PLAY-AUTO MOVE OF CURSOR
    79   97C5    A9    FF               AUTOCU: LDA I,-1
    80   97C7    85    29                       STA TEMP0
    81   97C9    85    2A                       STA TEMP1
    82   97CB    AE  011C                       LDX WINVMX
    83                                          BEGIN                   ;LOOP FOR ALL INVADERS
    84   97CE    BD  02DF                       LDA X,INVAY
    85   97D1    F0    00                       IFNE                    ;ALIVE?
    86   97D3    C5    29                       CMP TEMP0               ;YES.
    87   97D5    B0    00                       IFCC                    ;HIGHEST?
    88   97D7    85    29                       STA TEMP0               ;YES.
    89   97D9    86    2A                       STX TEMP1
    90   97D6    04                             ENDIF
    91   97D2    08                             ENDIF
    92   97DB    CA                             DEX
    93   97DC    10    F0                       MIEND
    94   97DE    A6    2A                       LDX TEMP1
    95   97E0    30    00                       IFPL
    96   97E2    BD  02B9                       LDA X,INVAL1
    97   97E5    AC  0200                       LDY CURSL1
    98   97E8    20  A7A6                       JSR POLDEL              ;HOW FAR & BEST DIRECTION?
    99   97EB    A8                             TAY
   100   97EC    F0    00                       IFNE                    ;ALREADY THERE?
   101   97EE    30    00                       IFPL                    ;YES. WHICH WAY?
   102   97F0    A9    F7                       LDA I,-9
   103   97F2    B8    50    00                 ELSE
         97EF    05
   104   97F5    A9    09                       LDA I,9
   105   97F4    02                             ENDIF
   106   97ED    09                             ENDIF
   107   97E1    15                             ENDIF
   108   97F7    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 27
PLAY-AUTO MOVE OF CURSOR

     1
     2                                          .SBTTL  PLAY-MOVE CURSOR DOWN
     3   97F8    AD  0201               MOVCUD: LDA CURSL2
     4   97FB    10    00                       IFMI
     5   97FD    60                             RTS
     6   97FC    01                             ENDIF
     7   97FE    AD  0106                       LDA CURMOD
     8   9801    30    00                       IFPL                    ;CURSOR DROPPING?
     9   9803    60                             RTS                     ;NO
    10   9802    01                             ENDIF
    11                                                                  ;YES.
    12   9804    AD  0202                       LDA CURSY
    13   9807    C9    10                       CMP I,ILINLI
    14   9809    D0    00                       IFEQ                    ;STILL AT TOP?
    15   980B    20  0000G                      JSR SOUTS2              ;YES. START RUMBLE
    16   980A    03                             ENDIF
    17   980E    AD  0107                       LDA CURSYL              ;UPDATE CURSOR DEPTH
    18   9811    18                             CLC
    19   9812    6D  0104                       ADC CURSVL
    20   9815    8D  0107                       STA CURSYL
    21   9818    AD  0202                       LDA CURSY
    22   981B    6D  0105                       ADC CURSVH
    23   981E    8D  0202                       STA CURSY
    24   9821    B0    00                       IFCC
    25   9823    C9    F0                       CMP I,ILINDDY
    26   9822    02                             ENDIF
    27   9825    90    00                       IFCS                    ;IS CURSOR PAST BOTTOM?
    28   9827    A9    0E                       LDA I,CENDWA            ;YES. INITIALIZE SPACE MODE
    29   9829    85    00                       STA QSTATE
    30   982B    20  0000G                      JSR SOUTS3              ;START SPACE SOUND
    31   982E    A9    FF                       LDA I,0FF
    32   9830    8D  0202                       STA CURSY
    33   9826    0C                             ENDIF
    34   9833    AD  0202                       LDA CURSY
    35   9836    C9    50                       CMP I,50
    36   9838    90    00                       IFCS
    37   983A    AD  0115                       LDA PLAGRO
    38   983D    D0    00                       IFEQ
    39   983F    20  A7BD                       JSR INSTAR
    40   983E    03                             ENDIF
    41   9839    08                             ENDIF
    42   9842    A5    5C                       LDA EYLL                ;UPDATE EYE POSITION
    43   9844    18                             CLC
    44   9845    6D  0104                       ADC CURSVL
    45   9848    85    5C                       STA EYLL
    46   984A    A5    5F                       LDA EYL
    47   984C    6D  0105                       ADC CURSVH
    48   984F    90    00                       IFCS
    49   9851    E6    5B                       INC EYH
    50   9850    02                             ENDIF
    51   9853    C5    5F                       CMP EYL
    52   9855    F0    00                       IFNE                    ;EYE POSITION CHANGE?
    53   9857    EE  0114                       INC ROTDIS              ;YES. REQUEST NEW WELL DISPLAY
    54   9856    03                             ENDIF
    55   985A    85    5F                       STA EYL
    56                                                                  ;CONSTANT ACCELERATION FOR VELOCITY
    57   985C    A5    9F                       LDA CURWAV              ;WAVE ACCELERATION +
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 27+
PLAY-MOVE CURSOR DOWN

    58   985E    0A                             ASL
    59   985F    0A                             ASL
    60   9860    C9    30                       CMP I,30
    61   9862    90    00                       IFCS                    ;MAX OUT
    62   9864    A9    30                       LDA I,30
    63   9863    02                             ENDIF
    64   9866    18                             CLC
    65   9867    69    20                       ADC I,20                ;BASE ACCELERATION
    66   9869    18                             CLC
    67   986A    6D  0104                       ADC CURSVL
    68   986D    8D  0104                       STA CURSVL
    69   9870    AD  0105                       LDA CURSVH
    70   9873    69    00                       ADC I,0
    71   9875    8D  0105                       STA CURSVH
    72                                                                  ;
    73                                                                  ;CHECK FOR COLLISION WITH ENEMY LINES
    74                                                                  ;
    75   9878    AD  0202                       LDA CURSY
    76   987B    C9    F0                       CMP I,ILINDDY
    77   987D    B0    00                       IFCC
    78   987F    A2    0F                       LDX I,NLINES-1          ;CURSOR STILL ON LINES
    79                                          BEGIN                   ;LOOP FOR EACH LINE
    80   9881    BD  03AC                       LDA X,LINEY
    81   9884    F0    00                       IFNE                    ;ACTIVE LINE?
    82   9886    EC  0200                       CPX CURSL1              ;YES.
    83   9889    D0    00                       IFEQ                    ;SAME LINE AS CURSOR?
    84   988B    CD  0202                       CMP CURSY               ;YES.
    85   988E    B0    00                       IFCC                    ;CURSOR AT ENEMY LINE POSITION?
    86   9890    20  0000G                      JSR PULSTO              ;TURN OFF THRUST SOUND
    87   9893    20  A347                       JSR INPPSQ              ;YES. START BANG. KILL CURSOR
    88   9896    A9    00                       LDA I,0                 ;TURN OFF STARFIELD, EXIT LOOP
    89   9898    8D  0115                       STA PLAGRO
    90   989B    20  928F                       JSR INICHA              ;CLEAR OUT ALL CHARGES
    91   988F    0E                             ENDIF
    92   988A    13                             ENDIF
    93   9885    18                             ENDIF
    94   989E    CA                             DEX
    95   989F    10    E0                       MIEND
    96   987E    22                             ENDIF
    97   98A1    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 28
PLAY - MOVE NYMPHS

     1                                          .SBTTL PLAY - MOVE NYMPHS
     2   98A2                           MOVNYM:
     3   98A2    A0    00                       LDY I,0
     4   98A4    8C  014F                       STY NEOFLI              ;CLEAR NEW OFF LIMITS FLAGS
     5   98A7    AD  0108                       LDA INMCOU
     6   98AA    18                             CLC
     7   98AB    6D  0109                       ADC INCCOU
     8   98AE    CD  011C                       CMP WINVMX
     9   98B1    90    00                       IFCS                    ;INVADER SLOTS BOOKED ALREADY?
    10   98B3    F0    00                       IFNE
    11   98B5    A0    FF                       LDY I,-1                ;YES.
    12   98B4    02                             ENDIF
    13   98B2    04                             ENDIF
    14   98B7    AD  0125                       LDA SUZTIM              ;AVOID KAMIKAZE
    15   98BA    F0    00                       IFNE
    16   98BC    A0    FF                       LDY I,-1
    17   98BB    02                             ENDIF
    18   98BE    84    2F                       STY TEMPY               ;ALLOW/DISALLOW UP NYMPH MOVEMENT
    19   98C0    A2    3F                       LDX I,NNYMPH-1
    20                                          BEGIN                   ;LOOP FOR EACH NYMPH
    21   98C2    BD  0243                       LDA X,NYMPY
    22   98C5    F0    00                       IFNE                    ;ACTIVE?
    23   98C7    24    2F                       BIT TEMPY               ;YES.
    24   98C9    30    00                       IFPL                    ;UP MOVEMENT OK?
    25   98CB    38                             SEC                     ;YES.
    26   98CC    E9    01                       SBC I,1
    27   98CE    9D  0243                       STA X,NYMPY
    28   98D1    D0    00                       IFEQ                    ;UPDATE NYMPH POSITION. CONVERT?
    29   98D3    20  9923                       JSR CONYMP              ;YES. MAKE IT AN INVADER
    30   98D6    B8    50    00                 ELSE
         98D2    06
    31   98D9    C9    3F                       CMP I,3F                ;NO.
    32   98DB    D0    00                       IFEQ                    ;JUST ENTERING ALONE ZONE?
    33   98DD    BC  0203                       LDY X,NYMPL             ;YES.
    34   98E0    AD  014F                       LDA NEOFLI
    35   98E3    0D  014F                       ORA NEOFLI
    36   98E6    39  0000G                      AND Y,D70MSK
    37   98E9    F0    00                       IFNE                    ;ALREADY OCCUPIED?
    38   98EB    FE  0243                       INC X,NYMPY             ;YES. BACK OFF
    39   98EA    03                             ENDIF
    40   98DC    11                             ENDIF
    41   98D8    15                             ENDIF
    42   98CA    23                             ENDIF
    43   98EE    BD  0243                       LDA X,NYMPY
    44   98F1    C9    40                       CMP I,40
    45   98F3    90    00                       IFCS                    ;DON'T ROTATE PAST A CERTAIN PT.
    46   98F5    A5    03                       LDA QFRAME              ;OK TO ROTATE
    47   98F7    29    01                       AND I,1
    48   98F9    D0    00                       IFEQ                    ;TIME TO ROTATE?
    49   98FB    BD  0203                       LDA X,NYMPL             ;YES. ROTATE NYMPH
    50   98FE    18                             CLC
    51   98FF    69    01                       ADC I,1
    52   9901    29    0F                       AND I,0F
    53   9903    9D  0203                       STA X,NYMPL
    54   98FA    0B                             ENDIF
    55   9906    B8    50    00                 ELSE
         98F4    14
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 28+
PLAY - MOVE NYMPHS

    56   9909    C9    20                       CMP I,20                ;NO ROTATE.
    57   990B    90    00                       IFCS                    ;IN ALONE ZONE?
    58   990D    BC  0203                       LDY X,NYMPL             ;YES.
    59   9910    B9  0000G                      LDA Y,D70MSK            ;MARK LINE OFF LIMITS
    60   9913    0D  014F                       ORA NEOFLI
    61   9916    8D  014F                       STA NEOFLI
    62   990C    0C                             ENDIF
    63   9908    10                             ENDIF
    64   98C6    52                             ENDIF
    65   9919    CA                             DEX
    66   991A    10    A6                       MIEND
    67   991C    AD  014F                       LDA NEOFLI
    68   991F    8D  0150                       STA OLOFLI              ;NEW TO OLD OFF LIMITS
    69   9922    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 29
PLAY - MOVE NYMPHS

     1
     2                                          .SBTTL  PLAY - CONVERT NYMPH TO INVADER
     3
     4   9923                           CONYMP:
     5   9923    A9    F0                       LDA I,ILINDDY           ;START AT BOTTOM
     6   9925    85    29                       STA TEMP0
     7   9927    BD  0203                       LDA X,NYMPL             ;START LINE
     8   992A    85    2A                       STA TEMP1
     9   992C    86    35                       STX SAVEX
    10   992E    20  99A5                       JSR NYMCHA              ;NYMPH CHARACTERISTICS
    11   9931    A6    35                       LDX SAVEX
    12   9933    A5    29                       LDA TEMP0
    13   9935    F0    00                       IFNE
    14   9937    20  994D                       JSR ACTINV              ;ACTIVATE AN INVADER
    15   993A    F0    00                       IFNE                    ;SLOT FOUND?
    16   993C    CE  03AB                       DEC NYMCOU              ;YES. DECREMENT NYMPH COUNT
    17   993F    A9    00                       LDA I,0
    18   9941    9D  0243                       STA X,NYMPY             ;DEACTIVATE INVADER
    19   9944    60                             RTS
    20   993B    09                             ENDIF
    21   9936    0E                             ENDIF
    22   9945    A9    FF                       LDA I,0FF               ;NO. STOP UP MOVEMENT FLAG
    23   9947    85    2F                       STA TEMPY
    24   9949    FE  0243                       INC X,NYMPY             ;MOVE NYMPH BACK TO OLD POSITION
    25   994C    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 30
PLAY - ACTIVATE INVADER

     1                                          .SBTTL  PLAY - ACTIVATE INVADER
     2                                  ;INPUT:TEMP0:Y POSITION AT WHICH TO START INVADER
     3                                  ;      TEMP2,3:CHARACTERISTICS OF NEW INVADER
     4                                  ;      TEMP1:CW LINE #
     5                                  ;      TEMP4:CAM VALUE
     6                                  ;
     7                                  ;OUTPUT:IF A SLOT IS FOUND:INMCOU INCREMENTED
     8                                  ;			   INVAC1,2(N) UPDATED WITH CHARACTERISTICS
     9                                  ;			   INVAL1     =CW LINE #
    10                                  ;			   INVAL2     =CCW LINE #
    11                                  ;			   INVAY      =Y POSITION
    12                                  ;			   INVCAM     =CAM PC
    13                                  ;			   INVACT     =0
    14                                  ;			   STATUS FLAGS=0
    15                                  ;	IF NO SLOT IS FOUND:STATUS FLAGS=0
    16                                  ;	X,Y PRESERVED
    17                                  ;		SAVEY DESTROYED
    18   994D                           ACTINV:
    19   994D    84    36                       STY SAVEY
    20   994F    AC  011C                       LDY WINVMX
    21                                          BEGIN                   ;LOOP THRU INVADERS UNTIL SLOT IS FOUND
    22   9952    B9  02DF                       LDA Y,INVAY
    23   9955    D0    00                       IFEQ                    ;SLOT?
    24   9957    A5    29                       LDA TEMP0               ;YES.
    25   9959    99  02DF                       STA Y,INVAY             ;Y
    26   995C    A5    2A                       LDA TEMP1
    27   995E    C9    0F                       CMP I,0F
    28   9960    D0    00                       IFEQ                    ;POTENTIAL PLANAR SPLIT?
    29   9962    2C  0111                       BIT WELTYP              ;YES
    30   9965    10    00                       IFMI                    ;PLANAR?
    31   9967    AD  60CA                       LDA RANDOM                      ;YES. NO SPLITS
    32   996A    29    0E                       AND I,0E
    33   9966    05                             ENDIF
    34   9961    0A                             ENDIF
    35   996C    99  02B9                       STA Y,INVAL1            ;CW LINE
    36   996F    18                             CLC
    37   9970    69    01                       ADC I,1
    38   9972    29    0F                       AND I,0F
    39   9974    99  02CC                       STA Y,INVAL2            ;CCW LINE
    40   9977    A9    00                       LDA I,0
    41   9979    99  02A6                       STA Y,INVACT            ;TIMER
    42   997C    A5    2C                       LDA TEMP3
    43   997E    99  028A                       STA Y,INVAC2
    44   9981    A5    2D                       LDA TEMP4
    45   9983    99  0291                       STA Y,INVCAM
    46   9986    EE  0108                       INC INMCOU              ;INVADER COUNT
    47   9989    A5    2B                       LDA TEMP2
    48   998B    99  0283                       STA Y,INVAC1            ;CHARACTERISTICS
    49   998E    A4    36                       LDY SAVEY
    50   9990    29    07                       AND I,INVABI
    51   9992    86    36                       STX SAVEY
    52   9994    AA                             TAX
    53   9995    FE  0142                       INC X,FLIPCO            ;UPDATE INVADER TYPE COUNTER
    54   9998    A6    36                       LDX SAVEY               ;RESTORE X
    55   999A    A9    10                       LDA I,10                ;SOT FOUND FLAG
    56   999C    60                             RTS
    57   9956    46                             ENDIF
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 30+
PLAY - ACTIVATE INVADER

    58   999D    88                             DEY
    59   999E    10    B2                       MIEND
    60   99A0    A4    36                       LDY SAVEY
    61   99A2    A9    00                       LDA I,0                 ;SLOT NOT FOUND FLAG
    62   99A4    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 31
PLAY - DETERMINE NYMPH TYPE

     1                                          .SBTTL  PLAY - DETERMINE NYMPH TYPE
     2   99A5                           NYMCHA:
     3   99A5    A9    00                       LDA I,0
     4   99A7    A2    04                       LDX I,4
     5                                          BEGIN
     6   99A9    9D  013D                       STA X,OPFLIP            ;0 ALL OPENING COUNTERS
     7   99AC    CA                             DEX
     8   99AD    10    FA                       MIEND
     9   99AF    A2    04                       LDX I,4
    10                                          BEGIN                   ;LOOP FOR EACH TYPE-CHECK MAX
    11   99B1    BD  012E                       LDA X,WFLMAX
    12   99B4    38                             SEC
    13   99B5    FD  0142                       SBC X,FLIPCO
    14   99B8    90    00                       IFCS                    ;MAX OF TYPE ALREADY?
    15   99BA    9D  013D                       STA X,OPFLIP            ;NO SAVE # OPENINGS
    16   99B9    03                             ENDIF
    17   99BD    CA                             DEX
    18   99BE    10    F1                       MIEND
    19                                                                  ;
    20                                                                  ;TAKE AWAY Z OPENINGS OF TYPE FOR EACH TANKER
    21                                                                  ;
    22   99C0    AC  011C                       LDY WINVMX
    23                                          BEGIN                   ;LOOP FOR EACH INVADER
    24   99C3    B9  02DF                       LDA Y,INVAY
    25   99C6    F0    00                       IFNE                    ;ALIVE?
    26   99C8    B9  028A                       LDA Y,INVAC2            ;YES.
    27   99CB    29    03                       AND I,INVCAR            ;CARRIER?
    28   99CD    F0    00                       IFNE
    29   99CF    AA                             TAX                     ;YES.
    30   99D0    E0    03                       CPX I,ZCARFU
    31   99D2    D0    00                       IFEQ
    32   99D4    A2    05                       LDX I,ZABFUS+1
    33   99D3    02                             ENDIF
    34   99D6    DE  013C                       DEC X,OPFLIP-1          ;2 LESS OPENINGS OF THAT TYPE
    35   99D9    DE  013C                       DEC X,OPFLIP-1
    36   99CE    0D                             ENDIF
    37   99C7    14                             ENDIF
    38   99DC    88                             DEY
    39   99DD    10    E4                       MIEND
    40   99DF    A2    04                       LDX I,4
    41   99E1    AD  011C                       LDA WINVMX
    42   99E4    18                             CLC
    43   99E5    69    01                       ADC I,1
    44                                          BEGIN                   ;LOOP FOR EACH TYPE-CALC TOTAL # OPENINGS
    45   99E7    38                             SEC
    46   99E8    FD  0142                       SBC X,FLIPCO
    47   99EB    CA                             DEX
    48   99EC    10    F9                       MIEND
    49   99EE    A2    04                       LDX I,4
    50                                          BEGIN                   ;LOOP FOR EACH TYPE
    51   99F0    DD  013D                       CMP X,OPFLIP
    52   99F3    B0    00                       IFCC                    ;IF TOTAL # OPENINGS <TYPE OPENINGS
    53   99F5    9D  013D                       STA X,OPFLIP            ;THEN DECREASE TYPE OPENINGS
    54   99F4    03                             ENDIF
    55   99F8    CA                             DEX
    56   99F9    10    F5                       MIEND
    57   99FB    A2    04                       LDX I,4
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 31+
PLAY - DETERMINE NYMPH TYPE

    58   99FD    A0    00                       LDY I,0
    59                                          BEGIN                   ;LOOP FOR EACH TYPE
    60   99FF    BD  013D                       LDA X,OPFLIP
    61   9A02    F0    00                       IFNE
    62   9A04    C8                             INY                     ;COUNT # TYPES WITH OPENINGS
    63   9A03    01                             ENDIF
    64   9A05    CA                             DEX
    65   9A06    10    F7                       MIEND
    66   9A08    98                             TYA
    67   9A09    F0    00                       IFNE                    ;OPENING?
    68   9A0B    88                             DEY                     ;YES.
    69   9A0C    D0    00                       IFEQ                    ;ONLY 1 TYPE?
    70   9A0E    A2    04                       LDX I,4                 ;YES.
    71                                          BEGIN                   ;LOOP UNTIL THAT ONE IS FOUND
    72   9A10    BD  013D                       LDA X,OPFLIP
    73   9A13    F0    00                       IFNE
    74   9A15    BD  0129                       LDA X,WFLMIN            ;YES
    75   9A18    F0    00                       IFNE                    ;LAUNCH OK?
    76   9A1A    20  9A87                       JSR NEWTYP              ;NO. TRY FOR TYPE
    77   9A1D    F0    00                       IFNE                    ;GOT IT?
    78   9A1F    60                             RTS                     ;YES. EXIT
    79   9A1E    01                             ENDIF                   ;NO. KEEP TRYING
    80   9A19    06                             ENDIF
    81   9A14    0B                             ENDIF
    82   9A20    CA                             DEX
    83   9A21    10    ED                       MIEND
    84   9A23    B8    50    00                 ELSE
         9A0D    18
    85   9A26    84    61                       STY SXL                 ;NO.
    86   9A28    A2    04                       LDX I,4
    87                                          BEGIN                   ;LOOP FOR EACH TYPE-CHECK MINS
    88   9A2A    BD  013D                       LDA X,OPFLIP
    89   9A2D    F0    00                       IFNE                    ;TYPE OPENINGS?
    90   9A2F    BD  0142                       LDA X,FLIPCO            ;YES.
    91   9A32    DD  0129                       CMP X,WFLMIN
    92   9A35    B0    00                       IFCC                    ;TYPE MIN SATISFIED?
    93   9A37    20  9A87                       JSR NEWTYP              ;NO. TRY FOR TYPE
    94   9A3A    F0    00                       IFNE                    ;GOT IT?
    95   9A3C    60                             RTS                     ;YES. EXIT
    96   9A3B    01                             ENDIF                   ;NO. KEEP TRYING
    97   9A36    06                             ENDIF
    98   9A2E    0E                             ENDIF
    99   9A3D    CA                             DEX
   100   9A3E    10    EA                       MIEND
   101                                                                  ;MINS ARE OK.
   102   9A40    AD  0140                       LDA OPSPIN              ;TRY FOR SMART LAUNCH
   103   9A43    F0    00                       IFNE
   104   9A45    AD  013F                       LDA OPTANK
   105   9A48    F0    00                       IFNE                    ;SLOTS FOR TANKERS & SPINNER OPEN?
   106   9A4A    A4    2A                       LDY TEMP1               ;YES.
   107   9A4C    B9  03AC                       LDA Y,LINEY
   108   9A4F    D0    00                       IFEQ                    ;LINE DEAD?
   109   9A51    A9    FF                       LDA I,0FF               ;YES. REAL SHORT THEN
   110   9A50    02                             ENDIF
   111   9A53    A2    03                       LDX I,OPSPIN-OPFLIP     ;SHORT LINE:LAUNCH SPINNER
   112   9A55    C9    CC                       CMP I,0CC
   113   9A57    B0    00                       IFCC                    ;LONG ENEMY LINE?
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 31+
PLAY - DETERMINE NYMPH TYPE

   114   9A59    A2    02                       LDX I,OPTANK-OPFLIP     ;YES LAUNCH TANKER
   115   9A58    02                             ENDIF
   116   9A5B    20  9A87                       JSR NEWTYP              ;NO. TRY FOR TYPE
   117   9A5E    F0    00                       IFNE                    ;GOT IT?
   118   9A60    60                             RTS                     ;YES. EXIT
   119   9A5F    01                             ENDIF                   ;NO. KEEP TRYING
   120   9A49    17                             ENDIF
   121   9A44    1C                             ENDIF
   122   9A61    AD  60DA                       LDA RANDO2              ;RANDOM TYPE (ELIM TYPE 0 THO)
   123   9A64    29    03                       AND I,3
   124   9A66    AA                             TAX
   125   9A67    E8                             INX
   126   9A68    A0    04                       LDY I,4                 ;START AT RANDOM SPOT AND
   127                                          BEGIN                   ;LOOP UNTIL NEEDY TYPE FOUND
   128   9A6A    BD  0129                       LDA X,WFLMIN
   129   9A6D    F0    00                       IFNE                    ;OK FROM BOTTOM (NOT 0)?
   130   9A6F    BD  013D                       LDA X,OPFLIP            ;NO.
   131   9A72    F0    00                       IFNE                    ;NEEDY TYPE?
   132   9A74    20  9A87                       JSR NEWTYP              ;YES. TRY LAUNCH
   133   9A77    F0    00                       IFNE                    ;GOT IT?
   134   9A79    60                             RTS                     ;YES. EXIT
   135   9A78    01                             ENDIF
   136   9A73    06                             ENDIF
   137   9A6E    0B                             ENDIF
   138   9A7A    CA                             DEX
   139   9A7B    10    00                       IFMI
   140   9A7D    A2    04                       LDX I,4                 ;WRAP
   141   9A7C    02                             ENDIF
   142   9A7F    88                             DEY
   143   9A80    10    E8                       MIEND
   144   9A25    5C                             ENDIF
   145   9A0A    77                             ENDIF
   146   9A82    A9    00                       LDA I,0                 ;SIGNAL FAILURE
   147   9A84    85    29                       STA TEMP0
   148   9A86    60                             RTS
   149   9A87                           NEWTYP:
   150   9A87    8A                             TXA
   151   9A88    0A                     NEWTY2: ASL
   152   9A89    A8                             TAY
   153   9A8A    B9  9A94                       LDA Y,NYMTAD+1
   154   9A8D    48                             PHA
   155   9A8E    B9  9A93                       LDA Y,NYMTAD
   156   9A91    48                             PHA
   157   9A92    60                             RTS
   158
   159   9A93  9A9C                     NYMTAD: .WORD NEWFLI-1
   160   9A95  9AA8                             .WORD NEWPUL-1
   161   9A97  9ABA                             .WORD NEWTAN-1
   162   9A99  9AB6                             .WORD NEWSPI-1
   163   9A9B  9AB2                             .WORD NEWFUS-1
   164   9A9D                           NEWFLI:
   165   9A9D    AD  9B02                       LDA TNEWI2+ZABFLI
   166   9AA0    85    2C                       STA TEMP3               ;INVAC2
   167   9AA2    AD  015D                       LDA WFLICAM
   168   9AA5    A0    00                       LDY I,ZABFLI            ;FLIPPER (INVAC1)
   169   9AA7    F0    4D                       BEQ NEWGN3              ;ALWAYS
   170   9AA9                           NEWPUL:                 ;PULSAR
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 31+
PLAY - DETERMINE NYMPH TYPE

   171   9AA9    AD  9B03                       LDA TNEWI2+ZABPUL
   172   9AAC    0D  016D                       ORA WPULFI              ;PULSAR FIRE?
   173   9AAF    A0    01                       LDY I,ZABPUL            ;PULSAR (INVAC1)
   174   9AB1    D0    3E                       BNE NEWGN2              ;ALWAYS
   175   9AB3                           NEWFUS:                         ;FUSE
   176   9AB3    A0    04                       LDY I,ZABFUS
   177   9AB5    D0    37                       BNE NEWGEN
   178   9AB7                           NEWSPI:                         ;SPINNER
   179   9AB7    A0    03                       LDY I,ZABTRA
   180   9AB9    D0    33                       BNE NEWGEN
   181   9ABB                           NEWTAN:                         ;TANKER
   182   9ABB    AD  60CA                       LDA RANDOM
   183   9ABE    29    03                       AND I,3
   184   9AC0    A8                             TAY
   185   9AC1    A9    04                       LDA I,4                 ;
   186   9AC3    85    2B                       STA TEMP2               ;
   187   9AC5    86    39                       STX INDEX3              ;SAVE X
   188                                          BEGIN                   ;LOOP 4 TIMES (FAIL) OR UNTIL OPENING
   189   9AC7    C6    2B                       DEC TEMP2
   190   9AC9    10    00                       IFMI                    ;FAILURE FOR ALL?
   191   9ACB    A6    39                       LDX INDEX3              ;YES. RESTORE X
   192   9ACD    A9    00                       LDA I,0                 ;SIGNAL FAILURE
   193   9ACF    60                             RTS
   194   9ACA    05                             ENDIF
   195   9AD0    88                             DEY
   196   9AD1    10    00                       IFMI                    ;CYCLE BETWEEN 0+3
   197   9AD3    A0    03                       LDY I,3
   198   9AD2    02                             ENDIF
   199   9AD5    BE  0149                       LDX Y,WTACAR            ;GET TYPE OF TANKER
   200   9AD8    E0    03                       CPX I,ZCARFU
   201   9ADA    D0    00                       IFEQ
   202   9ADC    A2    05                       LDX I,ZABFUS+1
   203   9ADB    02                             ENDIF
   204   9ADE    BD  013C                       LDA X,OPFLIP-1
   205   9AE1    F0    E4                       NEEND                   ;EXIT IF OPENINGS FOR TYPE
   206   9AE3    A6    39                       LDX INDEX3              ;RESTORE X
   207   9AE5    B9  0149                       LDA Y,WTACAR            ;GET TANKER CONTENTS
   208   9AE8    09    40                       ORA I,ZFIRYE
   209   9AEA    A0    02                       LDY I,ZABTAN
   210   9AEC    D0    03                       BNE NEWGN2
   211   9AEE                           NEWGEN:
   212   9AEE    B9  9B02                       LDA Y,TNEWI2
   213   9AF1    85    2C               NEWGN2: STA TEMP3
   214   9AF3    B9  9AFD                       LDA Y,TNEWCAM
   215   9AF6    84    2B               NEWGN3: STY TEMP2               ;GENERAL
   216   9AF8    85    2D                       STA TEMP4
   217   9AFA    A5    29                       LDA TEMP0               ;SUCCESS SIGNAL
   218   9AFC    60                             RTS
   219   9AFD    07    72    07         TNEWCAM:        .BYTE NOJUMP-CAM,PULSCH-CAM,NOJUMP-CAM
   220   9B00    00    61                       .BYTE TRALUP-CAM,FUSEUP-CAM
   221   9B02    40                     TNEWI2: .BYTE ZCARNO!ZFIRYE!ZDIRUP
   222   9B03    00                             .BYTE ZCARNO!ZFIRNO!ZDIRUP
   223   9B04    41                             .BYTE ZCARFL!ZFIRYE!ZDIRUP
   224   9B05    40                             .BYTE ZCARNO!ZFIRYE!ZDIRUP
   225   9B06    00                             .BYTE ZCARNO!ZFIRNO!ZDIRUP
   226                                          .SBTTL  PLAY - DETERMINE SPLIT INVADER CHARACTERISTICS
   227                                  ;INPUT:	Y=INVADER INDEX
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 31+
PLAY - DETERMINE SPLIT INVADER CHARACTERISTICS

   228                                  ;TEMP2=INVABI TYPE CODE		;TEMP0=SPLIT DEPTH
   229
   230   9B07    84    36               SPLCHA: STY SAVEY
   231   9B09    A5    29                       LDA TEMP0
   232   9B0B    C9    20                       CMP I,20
   233   9B0D    A5    2B                       LDA TEMP2
   234   9B0F    B0    00                       IFCC                    ;SPLITTING TOO CLOSE TO PLAYER?
   235   9B11    A8                             TAY                     ;YES. NO FLIPPING
   236   9B12    20  9AEE                       JSR NEWGEN
   237   9B15    B8    50    00                 ELSE
         9B10    07
   238   9B18    20  9A88                       JSR NEWTY2              ;NO. ASSIGN NORMAL PARAMETERS
   239   9B17    03                             ENDIF
   240   9B1B    A4    36                       LDY SAVEY
   241   9B1D    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 32
PLAY - MOVE INVADERS (MAINLINE)

     1                                          .SBTTL PLAY - MOVE INVADERS (MAINLINE)
     2   9B1E    AD  0201               MOVINV: LDA CURSL2
     3   9B21    30    00                       IFPL                    ;PLAYER DEAD OR DROPPING?
     4                                                                  ;YES. EXIT
     5
     6   9B23    AE  011C                       LDX WINVMX
     7   9B26    86    37                       STX INDEX1
     8                                          BEGIN                   ;LOOP FOR EACH INVADER
     9   9B28    A6    37                       LDX INDEX1
    10   9B2A    BD  02DF                       LDA X,INVAY
    11   9B2D    F0    00                       IFNE                    ;ACTIVE?
    12   9B2F    A9    01                       LDA I,1                 ;SET NO EXIT FLAG
    13   9B31    8D  010A                       STA EXICAM
    14   9B34    BD  0291                       LDA X,INVCAM            ;SET UP INVADER'S CAM PC
    15   9B37    8D  010B                       STA CAMPC
    16                                          BEGIN                   ;LOOP UNTIL EXIT REQUESTED
    17   9B3A    AD  010B                       LDA CAMPC
    18   9B3D    A8                             TAY                     ;GET INTO INTO CAM TABLE
    19   9B3E    B9  A0F7                       LDA Y,CAM               ;GET CAM CODE
    20   9B41    20  9B98                       JSR JSRCAM              ;EXECUTE CAM REQUESTED
    21   9B44    EE  010B                       INC CAMPC               ;AUTO INCREMENT CAM PC
    22   9B47    AD  010A                       LDA EXICAM              ;EXIT REQUESTED?
    23   9B4A    D0    EE                       EQEND
    24   9B4C    AD  010B                       LDA CAMPC               ;UPDATE INVADER'S CAM PC
    25   9B4F    9D  0291                       STA X,INVCAM
    26   9B2E    23                             ENDIF
    27   9B52    C6    37                       DEC INDEX1
    28   9B54    10    D2                       MIEND
    29   9B22    33                             ENDIF
    30                                                                  ;UPDATE PULSE STATUS
    31   9B56    AD  0148                       LDA PULSON
    32   9B59    18                             CLC
    33   9B5A    6D  0147                       ADC PULTIM
    34   9B5D    A8                             TAY
    35   9B5E    4D  0148                       EOR PULSON
    36   9B61    8C  0148                       STY PULSON
    37   9B64    10    00                       IFMI                    ;PULSAR STATUS CHANGE?
    38   9B66    98                             TYA                     ;YES.
    39   9B67    10    00                       IFMI                    ;GO OFF?
    40   9B69    20  0000G                      JSR PULSTO              ;YES. TURN OFF
    41   9B6C    B8    50    00                 ELSE
         9B68    06
    42   9B6F    AD  0143                       LDA FLIPCO+ZABPUL       ;NO. TURN ON IF ACTIVE PULSARS
    43   9B72    F0    00                       IFNE
    44   9B74    AD  0201                       LDA CURSL2
    45   9B77    30    00                       IFPL
    46   9B79    20  0000G                      JSR PULSTR              ;ACTIVE SO TURN ON
    47   9B78    03                             ENDIF
    48   9B73    08                             ENDIF
    49   9B6E    0D                             ENDIF
    50   9B65    16                             ENDIF
    51   9B7C    AD  0148                       LDA PULSON
    52   9B7F    30    00                       IFPL                    ;BONUCE BETWEEN-27. AND +15.
    53   9B81    C9    0F                       CMP I,15.
    54   9B83    B0    07                       BCS NEGPUL
    55   9B85    B8    50    00                 ELSE
         9B80    07
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 32+
PLAY - MOVE INVADERS (MAINLINE)

    56   9B88    C9    C1                       CMP I,-63.
    57   9B8A    B0    00                       IFCC
    58   9B8C    AD  0147               NEGPUL: LDA PULTIM              ;NEGATE INCREMENT
    59   9B8F    49    FF                       EOR I,0FF
    60   9B91    18                             CLC
    61   9B92    69    01                       ADC I,1
    62   9B94    8D  0147                       STA PULTIM
    63   9B8B    0B                             ENDIF
    64   9B87    0F                             ENDIF
    65   9B97    60                             RTS
    66
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 33
PLAY - MOVE INVADERS (MAINLINE)

     1
     2                                          .SBTTL  PLAY - INVADERS - CAM DISPATCHER
     3
     4   9B98    A8                     JSRCAM: TAY                     ;JSR INDIRECT TO CAM ROUTINE
     5   9B99    B9  9BA3                       LDA Y,TABJSR+1
     6   9B9C    48                             PHA
     7   9B9D    B9  9BA2                       LDA Y,TABJSR
     8   9BA0    48                             PHA
     9   9BA1    60                             RTS
    10                                          .SBTTL  CAM TABLE MACROS
    11                                          .MACRO CAMAC ...X,...Y,...W
    12                                          .WORD ...X-1
    13                                          .MACRO ...Y
    14                                          .BYTE ...W
    15                                          .ENDM
    16                                          .ENDM
    17
    18                                          .MACRO CAMA2I ...X,...Y,...W
    19                                          .WORD ...X-1
    20                                          .MACRO ...Y,...Z
    21                                          .BYTE ...W
    22                                          .BYTE ...Z
    23                                          .ENDM
    24                                          .ENDM
    25
    26                                          .MACRO CAMA2F ...X,...Y,...W
    27                                          .WORD ...X-1
    28                                          .MACRO ...Y,...Z
    29                                          .BYTE ...W
    30                                          .BYTE ...Z-CAM-1
    31                                          .ENDM
    32                                          .ENDM
    33                                          .MACRO TEST1 X
    34                                          .BYTE X
    35                                          .ENDM
    36                                          .SBTTL  CAM TABLE SUBROUTINE POINTERS
    37
    38   9BA2                           TABJSR:
    39   9BA2  9BC9                             CAMAC JEXIT,VEXIT,0
    40   9BA4  9BCF                             CAMA2I JSLOOP,VSLOOP,2
    41   9BA6  9BED                             CAMAC JSKIP0,VSKIP0,4
    42   9BA8  9C16                             CAMA2F JSETPC,VSETPC,6
    43   9BAA  9C0B                             CAMA2F JELOOP,VELOOP,8
    44   9BAC  9BCE                             CAMAC JNOOP,VNOOP,0A
    45   9BAE  9C57                             CAMAC JSMOVE,VSMOVE,0C
    46   9BB0  9FC3                             CAMAC JSTRAI,VSTRAI,0E
    47   9BB2  9BDC                             CAMA2I JSLOPB,VSLOPB,10
    48   9BB4  9E5B                             CAMAC JJUMPS,VJUMPS,12
    49   9BB6  9D81                             CAMAC JJUMPM,VJUMPM,14
    50   9BB8  9C4E                             CAMAC JCHROT,VCHROT,16
    51   9BBA  9E2E                             CAMAC JKITST,VKITST,18
    52   9BBC  9BF9                             CAMA2F JBR0PC,VBR0PC,1A
    53   9BBE  9C20                             CAMAC JELTST,VELTST,1C
    54   9BC0  9EF0                     CAMAC   JFUSEUP,VSFUSE,1E
    55   9BC2  9E47                     CAMAC   JFUSKI,VFUSKI,20
    56   9BC4  9CB5                     CAMAC   JPULMO,VSPUMO,22
    57   9BC6  9D66                     CAMAC   JCHPLA,VCHPLA,24
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 33+
CAM TABLE SUBROUTINE POINTERS

    58   9BC8  9C3A                     CAMAC   JCHKPU,VCHKPU,26
    59   9BCA                           TABJSE:
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 34
PLAY - INVADERS - CAM SUBROUTINES

     1                                          .SBTTL  PLAY - INVADERS - CAM SUBROUTINES
     2                                                                  ;
     3                                                                  ;EXIT CAM
     4                                                                  ;
     5   9BCA                           JEXIT:
     6   9BCA    A9    00                       LDA I,0                 ;EXIT CAM FLAG
     7   9BCC    8D  010A                       STA EXICAM
     8   9BCF    60                     JNOOP:  RTS
     9                                                                  ;
    10                                                                  ;SET CAM LOOP COUNTER
    11                                                                  ;
    12   9BD0    EE  010B               JSLOOP: INC CAMPC
    13   9BD3    AC  010B                       LDY CAMPC
    14   9BD6    B9  A0F7                       LDA Y,CAM
    15   9BD9    9D  0298                       STA X,INVLOO            ;NEW LOOP VALUE
    16   9BDC    60                             RTS
    17   9BDD                           JSLOPB:                 ;SAME AS JSLOOP EXCEPT OPERAND=BP ADDRESS OF PARAMETER
    18   9BDD    EE  010B                       INC CAMPC
    19   9BE0    AC  010B                       LDY CAMPC
    20   9BE3    B9  A0F7                       LDA Y,CAM
    21   9BE6    A8                             TAY                     ;BP LOC OF VALUE
    22   9BE7    B9  0000                       LDA Y,0                 ;NEW LOOP VALUE
    23   9BEA    9D  0298                       STA X,INVLOO
    24   9BED    60                             RTS
    25                                                                  ;
    26                                                                  ;SKIP NEXT CAM LINE IF CAMSTA=0
    27                                                                  ;(DOUBLE BYTE)
    28   9BEE    AD  010C               JSKIP0: LDA CAMSTA
    29   9BF1    D0    00                       IFEQ
    30   9BF3    EE  010B                       INC CAMPC
    31   9BF6    EE  010B                       INC CAMPC
    32   9BF2    06                             ENDIF
    33   9BF9    60                             RTS
    34                                          ;
    35                                          ;BRANCH IF CAMSTA=0
    36                                          ;
    37   9BFA    EE  010B               JBR0PC: INC CAMPC
    38   9BFD    AD  010C                       LDA CAMSTA
    39   9C00    D0    00                       IFEQ                    ;BRANCH?
    40   9C02    AC  010B                       LDY CAMPC               ;YES. SET NEW PC
    41   9C05    B9  A0F7                       LDA Y,CAM
    42   9C08    8D  010B                       STA CAMPC
    43   9C01    09                             ENDIF
    44   9C0B    60                             RTS
    45                                                                  ;
    46                                                                  ;DEC LOOP VALUE
    47                                                                  ;IF 0 THEN EXIT
    48                                                                  ;     ELSE RELOOP
    49   9C0C                           JELOOP:
    50   9C0C    DE  0298                       DEC X,INVLOO
    51   9C0F    D0    00                       IFEQ
    52   9C11    EE  010B                       INC CAMPC               ;EXIT LOOP
    53   9C14    B8    50    00                 ELSE
         9C10    06
    54   9C17    AC  010B               JSETPC: LDY CAMPC               ;NEW CAM PC
    55   9C1A    B9  A0F8                       LDA Y,CAM+1             ;RELOOP
    56   9C1D    8D  010B                       STA CAMPC
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 34+
PLAY - INVADERS - CAM SUBROUTINES

    57   9C16    09                             ENDIF
    58   9C20    60                             RTS
    59   9C21                           JELTST:
    60   9C21    BC  02B9                       LDY X,INVAL1            ;
    61   9C24    B9  03AC                       LDA Y,LINEY
    62   9C27    D0    00                       IFEQ
    63   9C29    A9    FF                       LDA I,0FF               ;WORST CASE LINE (DEAD)
    64   9C28    02                             ENDIF
    65   9C2B    DD  02DF                       CMP X,INVAY
    66   9C2E    B0    00                       IFCC                    ;ENEMY ON AN ENEMY LINE?
    67   9C30    A9    00                       LDA I,0                 ;YES.
    68   9C32    B8    50    00                 ELSE
         9C2F    05
    69   9C35    A9    01                       LDA I,1                 ;NO.
    70   9C34    02                             ENDIF
    71   9C37    8D  010C                       STA CAMSTA
    72   9C3A    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 35
PLAY - INVADERS - CAM SUBROUTINES

     1
     2                                          .SBTTL  PLAY - INVADERS - CAM ROUTINES
     3   9C3B                           JCHKPU:                 ;CHECK FOR PULSING NOW OR IN NEXT 4 FRAMES
     4   9C3B    AD  0147                       LDA PULTIM
     5   9C3E    0A                             ASL
     6   9C3F    0A                             ASL
     7   9C40    18                             CLC
     8   9C41    6D  0148                       ADC PULSON
     9   9C44    2D  0148                       AND PULSON
    10   9C47    29    80                       AND I,80
    11   9C49    49    80                       EOR I,80
    12   9C4B    8D  010C                       STA CAMSTA              ;EXIT: 0=NO PULSE ;80=PULSE
    13   9C4E    60                             RTS
    14                                                                  ;CHANGE DIRECTION OF JUMP
    15                                                                  ;
    16   9C4F                           JCHROT:
    17   9C4F    BD  0283                       LDA X,INVAC1
    18   9C52    49    40                       EOR I,INVROT
    19   9C54    9D  0283                       STA X,INVAC1
    20   9C57    60                             RTS
    21                                                                  ;
    22                                          .SBTTL PLAY - MOVE INVADERS (MOVE 1 UP)
    23                                  ;INPUT: X=INVADER INDEX
    24
    25   9C58                           JSMOVE:
    26   9C58    BD  0283                       LDA X,INVAC1
    27   9C5B    29    07                       AND I,INVABI
    28   9C5D    A8                             TAY                     ;INVADER TYPE
    29   9C5E    BD  028A                       LDA X,INVAC2
    30   9C61    30    00                       IFPL                    ;GOING UP?
    31   9C63    BD  029F               JSMOVU: LDA X,INVAYL            ;YES.
    32   9C66    18                             CLC
    33   9C67    79  0160                       ADC Y,WINVIL
    34   9C6A    9D  029F                       STA X,INVAYL            ;MOVE UP
    35   9C6D    BD  02DF                       LDA X,INVAY
    36   9C70    79  0165                       ADC Y,WINVIN
    37   9C73    9D  02DF                       STA X,INVAY
    38   9C76    CD  0202                       CMP CURSY
    39   9C79    F0    02                       BEQ ATOP
    40   9C7B    B0    00                       IFCC                    ;AT TOP?
    41   9C7D    20  9D06               ATOP:   JSR CHASER              ;YES. CONVERT TO CHASER
    42   9C80    B8    50    00                 ELSE
         9C7C    06
    43   9C83    C9    20                       CMP I,20                ;NO
    44   9C85    B0    00                       IFCC                    ;TOO CLOSE TO TOP FOR CARRIER?
    45   9C87    BD  028A                       LDA X,INVAC2            ;YES.
    46   9C8A    29    03                       AND I,INVCAR            ;CARRIER?
    47   9C8C    F0    00                       IFNE
    48   9C8E    8A                             TXA                     ;YES.
    49   9C8F    48                             PHA                     ;SAVE X
    50   9C90    A8                             TAY                     ;
    51   9C91    20  A06F                       JSR KILINV              ;SPLIT CARRIER
    52   9C94    68                             PLA
    53   9C95    AA                             TAX                     ;RESTORE X
    54   9C8D    08                             ENDIF
    55   9C86    0F                             ENDIF
    56   9C82    13                             ENDIF
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 35+
PLAY - MOVE INVADERS (MOVE 1 UP)

    57   9C96    B8    50    00                 ELSE
         9C62    36
    58   9C99    BD  029F               JSMOVD: LDA X,INVAYL            ;DOWN
    59   9C9C    38                             SEC
    60   9C9D    F9  0160                       SBC Y,WINVIL
    61   9CA0    9D  029F                       STA X,INVAYL
    62   9CA3    BD  02DF                       LDA X,INVAY
    63   9CA6    F9  0165                       SBC Y,WINVIN
    64   9CA9    9D  02DF                       STA X,INVAY
    65   9CAC    C9    F0                       CMP I,ILINDDY
    66   9CAE    90    00                       IFCS                    ;AT BOTTOM?
    67   9CB0    A9    F2                       LDA I,0F2
    68   9CB2    9D  02DF                       STA X,INVAY             ;YES.
    69   9CAF    05                             ENDIF
    70   9C98    1C                             ENDIF
    71   9CB5    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 36
PLAY - INVADERS (PULSE MOVE)

     1                                          .SBTTL  PLAY - INVADERS (PULSE MOVE)
     2   9CB6    A0    01               JPULMO: LDY I,ZABPUL
     3   9CB8    BD  028A                       LDA X,INVAC2
     4   9CBB    30    00                       IFPL                    ;GOING UP?
     5   9CBD    BD  02DF                       LDA X,INVAY             ;YES.
     6   9CC0    CD  0157                       CMP PULPOT
     7   9CC3    90    00                       IFCS                    ;IN POWER ZONE?
     8   9CC5    A0    00                       LDY I,ZABFLI            ;NO. GO FASTER
     9   9CC4    02                             ENDIF
    10   9CC7    20  9C63                       JSR JSMOVU              ;MOVE UP
    11   9CCA    B8    50    00                 ELSE
         9CBC    10
    12   9CCD    20  9C99                       JSR JSMOVD              ;MOVE DOWN (RETURN WITH ACC=Y POS)
    13   9CD0    AC  03AB                       LDY NYMCOU
    14   9CD3    D0    00                       IFEQ                    ;NYMPHS GONE?
    15   9CD5    A9    FF                       LDA I,0FF               ;SEND PULSAR UP
    16   9CD4    02                             ENDIF
    17   9CD7    CD  0157                       CMP PULPOT
    18   9CDA    90    00                       IFCS                    ;TIME TO REVERSE?
    19   9CDC    BD  028A                       LDA X,INVAC2            ;YES
    20   9CDF    49    80                       EOR I,INVDIR
    21   9CE1    9D  028A                       STA X,INVAC2
    22   9CDB    08                             ENDIF
    23   9CCC    17                             ENDIF
    24   9CE4    AD  0148                       LDA PULSON              ;YES. SEE IF CURSOR GOT ZAPPED
    25   9CE7    30    00                       IFPL                    ;PULSAR ON?
    26   9CE9    BD  02DF                       LDA X,INVAY             ;YES.
    27   9CEC    CD  0157                       CMP PULPOT
    28   9CEF    B0    00                       IFCC                    ;PULSAR IN RANGE?
    29   9CF1    AD  0200                       LDA CURSL1              ;YES
    30   9CF4    DD  02B9                       CMP X,INVAL1
    31   9CF7    D0    00                       IFEQ
    32   9CF9    AD  0201                       LDA CURSL2
    33   9CFC    DD  02CC                       CMP X,INVAL2
    34   9CFF    D0    00                       IFEQ                    ;ON CURSOR LINES?
    35   9D01    20  A347                       JSR INPPSQ              ;YES. KILL CURSOR
    36   9D00    03                             ENDIF
    37   9CF8    0B                             ENDIF
    38   9CF0    13                             ENDIF
    39   9CE8    1B                             ENDIF
    40   9D04    60                             RTS
    41   9D05    00G                    CHKSM3::        .BYTE QCHKS3
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 37
PLAY - INVADERS (CONVERT TO CHASER)

     1                                          .SBTTL PLAY - INVADERS (CONVERT TO CHASER)
     2                                  ;INPUT:	X=INVADER=INDEX
     3
     4   9D06                           CHASER:
     5   9D06    AD  0202                       LDA CURSY               ;PLACE EXACTLY AT TOP
     6   9D09    9D  02DF                       STA X,INVAY
     7   9D0C    BD  0283                       LDA X,INVAC1
     8   9D0F    29    07                       AND I,INVABI
     9   9D11    C9    01                       CMP I,ZABPUL
    10   9D13    D0    00                       IFEQ                    ;PULSAR?
    11   9D15    AD  03AB                       LDA NYMCOU              ;YES.
    12   9D18    F0    00                       IFNE                    ;ANY MORE NYMPHS?
    13   9D1A    BD  028A                       LDA X,INVAC2            ;YES. SEND IT DOWN
    14   9D1D    49    80                       EOR I,INVDIR
    15   9D1F    9D  028A                       STA X,INVAC2
    16   9D22    60                             RTS                     ;EXIT
    17   9D19    09                             ENDIF
    18   9D14    0E                             ENDIF
    19   9D23    BD  0283                       LDA X,INVAC1
    20   9D26    10    00                       IFMI                    ;STILL FLIPPING 2
    21   9D28    FE  02DF                       INC X,INVAY             ;YES. FINISH FLIP
    22   9D2B    60                             RTS                     ;BEFORE AT TOP STATUS
    23   9D27    04                             ENDIF
    24   9D2C    CE  0108                       DEC INMCOU              ;-1 TO # WALL INVADERS
    25   9D2F    AD  0109                       LDA INCCOU
    26   9D32    C9    01                       CMP I,1
    27   9D34    F0    00                       IFNE                    ;OTHER THAN 1 CHASER?
    28   9D36    20  9D67                       JSR JCHPLA              ;YES. SEND CHASER SHORTEST WAY
    29   9D39    B8    50    00                 ELSE
         9D35    06
    30                                                                  ;NO. 1 OTHER CHASER, SO SEND
    31   9D3C    A0    06                       LDY I,NINVAD-1          ;THIS GUY IN OPPOSITE DIRECTION
    32                                          BEGIN                   ;LOOP UNTIL OTHER CHASER IS FOUND
    33   9D3E    B9  02DF                       LDA Y,INVAY
    34   9D41    F0    00                       IFNE
    35   9D43    84    38                       STY INDEX2
    36   9D45    E4    38                       CPX INDEX2
    37   9D47    F0    00                       IFNE                    ;MAKE SURE IT'S NOT NEW CHASER
    38   9D49    B9  02DF                       LDA Y,INVAY
    39   9D4C    CD  0202                       CMP CURSY
    40   9D4F    F0    03                       BEQ GOTCHA              ;EXIT LOOP IF FOUND
    41   9D48    08                             ENDIF
    42   9D42    0E                             ENDIF
    43   9D51    88                             DEY
    44   9D52    10    EA                       MIEND
    45   9D54    B9  0283               GOTCHA: LDA Y,INVAC1
    46   9D57    29    40                       AND I,INVROT            ;GET OTHER CHASER'S DIRECTION
    47   9D59    49    40                       EOR I,INVROT            ;USE ITS OPPOSITS
    48                                                                  ;SET CHASE DIRECTION
    49   9D5B    9D  0283                       STA X,INVAC1
    50   9D3B    22                             ENDIF
    51   9D5E    A9    41                       LDA I,TOPPER-CAM-1
    52   9D60    8D  010B                       STA CAMPC               ;SET CHASER CAM
    53   9D63    EE  0109                       INC INCCOU              ;+1 TO CHASER COUNT
    54   9D66    60                             RTS
    55                                          .SBTTL
    56   9D67                           JCHPLA:
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 37+


    57   9D67    BD  02B9                       LDA X,INVAL1            ;SEND CHASER SHORTEST WAY
    58   9D6A    A8                             TAY
    59   9D6B    AD  0200                       LDA CURSL1
    60   9D6E    20  A7A6                       JSR POLDEL              ;DETERMINE POLAR DELTA TO CURSOR
    61   9D71    0A                             ASL
    62   9D72    BD  0283                       LDA X,INVAC1
    63   9D75    B0    00                       IFCC                    ;SET CHASE DIRECTION= SHORTEST WAY
    64   9D77    09    40                       ORA I,INVROT            ;CCW
    65   9D79    B8    50    00                 ELSE
         9D76    05
    66   9D7C    29    BF                       AND I,^CINVROT          ;CW
    67   9D7B    02                             ENDIF
    68   9D7E    9D  0283                       STA X,INVAC1
    69   9D81    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 38
PLAY - MOVE INVADERS (PROCESS JUMP)

     1                                          .SBTTL PLAY - MOVE INVADERS (PROCESS JUMP)
     2   9D82                           JJUMPM:
     3                                                                  ;
     4                                                                  ;UPDATE JUMP ANGLE
     5                                                                  ;
     6   9D82    BC  02CC                       LDY X,INVAL2
     7   9D85    BD  0283                       LDA X,INVAC1
     8   9D88    29    40                       AND I,INVROT
     9   9D8A    D0    00                       IFEQ                    ;MOVING
    10   9D8C    C8                             INY                     ;CW (JUMP ROTATION CCW)
    11   9D8D    B8    50    00                 ELSE
         9D8B    04
    12   9D90    88                             DEY                     ;CCW (JUMP ROTATION CW)
    13   9D8F    01                             ENDIF
    14   9D91    98                             TYA                     ;NEW JUMP ANGLE
    15   9D92    29    0F                       AND I,0F                ;MOD 16
    16   9D94    09    80                       ORA I,80                ;JUMP CODE
    17   9D96    9D  02CC                       STA X,INVAL2            ;UPDATED JUMP ANGLE
    18   9D99    BD  0283                       LDA X,INVAC1            ;
    19   9D9C    29    07                       AND I,INVABI
    20   9D9E    C9    04                       CMP I,ZABFUS            ;FUSE AT A JUNCTION (IFEQ)?
    21   9DA0    D0    00                       IFEQ
    22   9DA2    BD  02CC                       LDA X,INVAL2            ;MAYBE.
    23   9DA5    29    07                       AND I,7
    24   9DA7    D0    00                       IFEQ                    ;AT A JUNCTION?
    25   9DA9    BD  02CC                       LDA X,INVAL2            ;YES
    26   9DAC    29    08                       AND I,8
    27   9DAE    F0    00                       IFNE                    ;MOVING CCW?
    28   9DB0    BD  02B9                       LDA X,INVAL1            ;YES. ADJUST BASE
    29   9DB3    18                             CLC
    30   9DB4    69    01                       ADC I,1
    31   9DB6    29    0F                       AND I,0F
    32   9DB8    9D  02B9                       STA X,INVAL1
    33   9DAF    0B                             ENDIF
    34   9DBB    BD  0283                       LDA X,INVAC1            ;YES
    35   9DBE    29    7F                       AND I,^CINVMOT
    36   9DC0    9D  0283                       STA X,INVAC1            ;SET STATUS BACK TO LINE
    37   9DC3    A9    20                       LDA I,020
    38   9DC5    9D  02CC                       STA X,INVAL2            ;MAKE IT INVINCIBLE
    39   9DC8    BD  028A                       LDA X,INVAC2
    40   9DCB    49    80                       EOR I,INVDIR
    41   9DCD    9D  028A                       STA X,INVAC2            ;REVERSE UP DOWN DIRECTION
    42   9DD0    AD  03AB                       LDA NYMCOU
    43   9DD3    D0    00                       IFEQ                    ;NYMPHS GONE?
    44   9DD5    BD  02DF                       LDA X,INVAY             ;YES
    45   9DD8    CD  0202                       CMP CURSY
    46   9DDB    D0    00                       IFEQ                    ;AT TOP?
    47   9DDD    20  9F81                       JSR FUCHPL              ;YES. STAY THERE & CHASE PLAYER
    48   9DE0    B8    50    00                 ELSE
         9DDC    06
    49   9DE3    BD  028A                       LDA X,INVAC2            ;NO. SEND UP.
    50   9DE6    29    80                       AND I,INVDIR
    51   9DE8    9D  028A                       STA X,INVAC2
    52   9DE2    08                             ENDIF
    53   9DD4    16                             ENDIF
    54   9DA8    42                             ENDIF
    55   9DEB    B8    50    00                 ELSE
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 38+
PLAY - MOVE INVADERS (PROCESS JUMP)

         9DA1    4C
    56                                                                  ;CALCULATE FINAL JUMP ANGLE
    57   9DEE    BC  02B9                       LDY X,INVAL1
    58   9DF1    BD  0283                       LDA X,INVAC1
    59   9DF4    49    40                       EOR I,INVROT            ;BACKWARDS
    60   9DF6    20  9ED7                       JSR CALSAN
    61   9DF9    DD  02CC                       CMP X,INVAL2
    62   9DFC    D0    00                       IFEQ                    ;FINAL JUMP ANGLE=UPDATED ANGLE?
    63   9DFE    BD  0283                       LDA X,INVAC1            ;YES
    64   9E01    29    7F                       AND I,^C<INVMOT>
    65   9E03    9D  0283                       STA X,INVAC1            ;SET STATUS BACK TO MOVER
    66   9E06    29    40                       AND I,INVROT
    67   9E08    D0    00                       IFEQ                    ;NEW LINE IN WHICH DIRECTION?
    68   9E0A    BD  02B9                       LDA X,INVAL1            ;CW
    69   9E0D    9D  02CC                       STA X,INVAL2
    70   9E10    38                             SEC
    71   9E11    E9    01                       SBC I,1
    72   9E13    29    0F                       AND I,0F
    73   9E15    9D  02B9                       STA X,INVAL1
    74   9E18    B8    50    00                 ELSE
         9E09    11
    75   9E1B    BD  02B9                       LDA X,INVAL1            ;CCW
    76   9E1E    18                             CLC
    77   9E1F    69    01                       ADC I,1
    78   9E21    29    0F                       AND I,0F
    79   9E23    9D  02CC                       STA X,INVAL2
    80   9E1A    0B                             ENDIF
    81   9DFD    28                             ENDIF
    82   9DED    38                             ENDIF
    83   9E26    BD  0283                       LDA X,INVAC1
    84   9E29    29    80                       AND I,INVMOT            ;RETURN WITH STATUS (0=JUMP DONE)
    85   9E2B    8D  010C                       STA CAMSTA              ;SET CAM STATUS
    86   9E2E    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 39
PLAY - MOVE INVADERS (CHASE PLAYER)

     1                                          .SBTTL PLAY - MOVE INVADERS (CHASE PLAYER)
     2
     3   9E2F                           JKITST:
     4   9E2F    BD  0283                       LDA X,INVAC1
     5   9E32    30    00                       IFPL                    ;MOVING (NOT JUMPING)
     6   9E34    BD  02B9                       LDA X,INVAL1            ;YES
     7   9E37    CD  0200                       CMP CURSL1
     8   9E3A    D0    00                       IFEQ                    ;IS ANY INVADER LEG ON SAME LINE
     9   9E3C    BD  02CC                       LDA X,INVAL2            ;AS ANY CURSOR LEG?
    10   9E3F    CD  0201                       CMP CURSL2
    11   9E42    D0    00                       IFEQ
    12   9E44    20  A33A                       JSR INIPSQ              ;YES. DESTROY CURSOR
    13   9E43    03                             ENDIF
    14   9E3B    0B                             ENDIF
    15   9E33    13                             ENDIF
    16   9E47    60                             RTS
    17   9E48    BD  02DF               JFUSKI: LDA X,INVAY             ;CHECK FOR FUSE KILL CURSOR
    18   9E4B    CD  0202                       CMP CURSY
    19   9E4E    D0    00                       IFEQ                    ;SAME HEIGHT?
    20   9E50    BD  02B9                       LDA X,INVAL1            ;YES.
    21   9E53    CD  0200                       CMP CURSL1
    22   9E56    D0    00                       IFEQ                    ;SAME LINE?
    23   9E58    20  A343                       JSR INFPSQ              ;YES. DEAD CURSOR NOW
    24   9E57    03                             ENDIF
    25   9E4F    0B                             ENDIF
    26   9E5B    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 40
PLAY - MOVE INVADERS (CHASE PLAYER)

     1
     2                                          .SBTTL PLAY - MOVE INVADERS (START A JUMP)
     3                                  ;INPUT:	INVACO(X) BIT IJDIRE
     4                                  ;	ACC BIT IJDIRE=JUMP DIRECTION (JUMPSD ENTRY ONLY)
     5                                  ;OUTPUT:INVACO(X) BIT IMOVER
     6                                  ;	INVAL1(X) SET TO BASE LEG
     7                                  ;	INVAL2(X) SET TO JUMP SEQ START
     8                                  ;
     9   9E5C                           JJUMPS:
    10   9E5C    20  9EAB                       JSR OKTOJM              ;VERIFY JUMP DIRECTION
    11   9E5F                           JUMPSD:
    12   9E5F    BD  0283                       LDA X,INVAC1
    13   9E62    09    80                       ORA I,ZMOTJM
    14   9E64    9D  0283                       STA X,INVAC1            ;SET JUMPS STATUS
    15   9E67    29    07                       AND I,INVABI
    16   9E69    C9    04                       CMP I,ZABFUS
    17   9E6B    D0    00                       IFEQ                    ;FUSE?
    18   9E6D    BD  0283                       LDA X,INVAC1            ;YES.
    19   9E70    29    40                       AND I,INVROT
    20   9E72    D0    00                       IFEQ                    ;WHICH WAY?
    21   9E74    A9    81                       LDA I,81                ;CCW
    22   9E76    B8    50    00                 ELSE
         9E73    05
    23   9E79    BD  02B9                       LDA X,INVAL1            ;CW
    24   9E7C    38                             SEC
    25   9E7D    E9    01                       SBC I,1
    26   9E7F    29    0F                       AND I,0F
    27   9E81    9D  02B9                       STA X,INVAL1
    28   9E84    A9    87                       LDA I,87
    29   9E78    0D                             ENDIF
    30   9E86    9D  02CC                       STA X,INVAL2
    31   9E89    B8    50    00                 ELSE
         9E6C    1F
    32   9E8C    BD  0283                       LDA X,INVAC1            ;NO
    33   9E8F    29    40                       AND I,INVROT
    34   9E91    F0    00                       IFNE                    ;MOVING CCW?
    35   9E93    BD  02B9                       LDA X,INVAL1            ;YES. ADJUST BASE LEG
    36   9E96    18                             CLC
    37   9E97    69    01                       ADC I,1
    38   9E99    29    0F                       AND I,0F
    39   9E9B    9D  02B9                       STA X,INVAL1
    40   9E92    0B                             ENDIF
    41   9E9E    BD  0283                       LDA X,INVAC1            ;NO.
    42   9EA1    BC  02B9                       LDY X,INVAL1
    43   9EA4    20  9ED7                       JSR CALSAN              ;CALC. STARTING ANGLE
    44   9EA7    9D  02CC                       STA X,INVAL2
    45   9E8B    1E                             ENDIF
    46   9EAA    60                             RTS
    47   9EAB    AD  0111               OKTOJM: LDA WELTYP
    48   9EAE    F0    00                       IFNE                    ;PLANAR SURFACE?
    49   9EB0    BD  0283                       LDA X,INVAC1            ;YES
    50   9EB3    29    40                       AND I,INVROT
    51   9EB5    F0    00                       IFNE                    ;MOVING CCW?
    52   9EB7    BD  02B9                       LDA X,INVAL1            ;CCW
    53   9EBA    C9    0E                       CMP I,0E
    54   9EBC    90    00                       IFCS                    ;AT RIGHT EDGE?
    55   9EBE    BD  0283                       LDA X,INVAC1            ;YES CHANGE TO CW JUMP
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 40+
PLAY - MOVE INVADERS (START A JUMP)

    56   9EC1    29    BF                       AND I,^CINVROT
    57   9EC3    9D  0283                       STA X,INVAC1
    58   9EBD    08                             ENDIF
    59   9EC6    B8    50    00                 ELSE
         9EB6    12
    60   9EC9    BD  02B9                       LDA X,INVAL1            ;CW
    61   9ECC    D0    00                       IFEQ                    ;AT LEFT EDGE?
    62   9ECE    BD  0283                       LDA X,INVAC1            ;YES CHANGE TO CCW JUMPS
    63   9ED1    09    40                       ORA I,INVROT
    64   9ED3    9D  0283                       STA X,INVAC1
    65   9ECD    08                             ENDIF
    66   9EC8    0D                             ENDIF
    67   9EAF    26                             ENDIF
    68   9ED6    60                             RTS
    69                                                                  ;
    70   9ED7                           CALSAN:                         ;CALCULATE STARTING JUMP ANGLE
    71                                                                  ;
    72                                                                  ;BASE LEG IN Y
    73   9ED7    29    40                       AND I,INVROT
    74   9ED9    F0    00                       IFNE                    ;MOVING CCW?
    75   9EDB    88                             DEY                     ;YES.
    76   9EDC    98                             TYA
    77   9EDD    29    0F                       AND I,0F
    78   9EDF    A8                             TAY
    79   9EE0    B9  03EE                       LDA Y,LINANG
    80   9EE3    18                             CLC                     ;YES. ADJUST ANGLE FOR BASE LEG ON
    81   9EE4    69    08                       ADC I,8                 ;RIGHT SIDE
    82   9EE6    29    0F                       AND I,0F                ;MOD 16
    83   9EE8    B8    50    00                 ELSE
         9EDA    10
    84   9EEB    B9  03EE                       LDA Y,LINANG            ;CW
    85   9EEA    03                             ENDIF
    86   9EEE    09    80                       ORA I,80                ;JUMP CODE
    87   9EF0    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 41
PLAY-INVADER FUSE UP/DOWN MOTION

     1                                          .SBTTL  PLAY-INVADER FUSE UP/DOWN MOTION
     2
     3   9EF1    A0    04               JFUSEUP:        LDY I,ZABFUS
     4   9EF3    BD  028A                       LDA X,INVAC2
     5   9EF6    30    00                       IFPL                    ;UP OR DOWN?
     6   9EF8    BD  029F                       LDA X,INVAYL            ;UP.
     7   9EFB    18                             CLC
     8   9EFC    6D  0164                       ADC WFUSIL
     9   9EFF    9D  029F                       STA X,INVAYL
    10   9F02    BD  02DF                       LDA X,INVAY
    11   9F05    6D  0169                       ADC WFUSIH
    12   9F08    9D  02DF                       STA X,INVAY
    13   9F0B    CD  0202                       CMP CURSY
    14   9F0E    B0    00                       IFCC                    ;AT TOP?
    15   9F10    AD  0202                       LDA CURSY               ;YES
    16   9F13    9D  02DF                       STA X,INVAY
    17   9F16    B8    50    00                 ELSE
         9F0F    09
    18   9F19    AC  03AB                       LDY NYMCOU              ;NO
    19   9F1C    F0    00                       IFNE                    ;NYMPHS LEFT?
    20   9F1E    A4    9F                       LDY CURWAV              ;YES.
    21   9F20    C0    11                       CPY I,17.
    22   9F22    B0    00                       IFCC                    ;EARLY WAVE?
    23   9F24    C9    20                       CMP I,20                ;YES. TURN BACK BEFORE TOP
    24   9F23    02                             ENDIF
    25   9F26    B8    50    00                 ELSE
         9F1D    0B
    26   9F29    60                             RTS                     ;NONE LEFT. HEAD FOR TOP
    27   9F28    01                             ENDIF
    28   9F18    11                             ENDIF
    29   9F2A    B0    00                       IFCC                    ;TOO HIGH?
    30   9F2C    AD  0159                       LDA WFUSCH              ;YES.
    31   9F2F    10    00                       IFMI                    ;CHASE PLAYER AT TOP?
    32   9F31    20  9F81                       JSR FUCHPL              ;YES. CHASE
    33   9F34    B8    50    00                 ELSE
         9F30    06
    34   9F37    20  9F8A                       JSR LEFRIT              ;NO. RANDOM
    35   9F36    03                             ENDIF
    36   9F3A    B8    50    00                 ELSE
         9F2B    11
    37   9F3D    20  9F5F                       JSR MAYBLR              ;NO. MAYBE GO LEFT OR RIGHT ANYWAY
    38   9F3C    03                             ENDIF
    39   9F40    B8    50    00                 ELSE
         9EF7    4B
    40   9F43    20  9C99                       JSR JSMOVD              ;MOVE DOWN
    41   9F46    C9    80                       CMP I,080
    42   9F48    90    00                       IFCS                    ;AT BOTTOM OF RANGE?
    43   9F4A    2C  0159                       BIT WFUSCH              ;YES.
    44   9F4D    50    00                       IFVS                    ;CHASE PLAYER ON TUBE?
    45   9F4F    20  9F81                       JSR FUCHPL              ;YES. CHASE
    46   9F52    B8    50    00                 ELSE
         9F4E    06
    47   9F55    20  9F8A                       JSR LEFRIT              ;NO. RANDOM
    48   9F54    03                             ENDIF
    49   9F58    B8    50    00                 ELSE
         9F49    11
    50   9F5B    20  9F5F                       JSR MAYBLR              ;NO. MAYBE GO LEFT OR RIGHT
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 41+
PLAY-INVADER FUSE UP/DOWN MOTION

    51   9F5A    03                             ENDIF
    52   9F42    1B                             ENDIF
    53   9F5E    60                             RTS
    54                                          .SBTTL  INVADER FUSE JUMP DECISION
    55
    56   9F5F                           MAYBLR:
    57   9F5F    BD  02DF                       LDA X,INVAY
    58   9F62    29    20                       AND I,20
    59   9F64    F0    00                       IFNE
    60   9F66    AD  60DA                       LDA RANDO2
    61   9F69    CD  015F                       CMP WFUFRQ
    62   9F6C    90    00                       IFCS
    63   9F6E    2C  0159                       BIT WFUSCH
    64   9F71    50    00                       IFVS                    ;CHASE PLAYERS ON TUBE?
    65   9F73    8A                             TXA                     ;YES. ONLY IF INDEX IS EVEN
    66   9F74    4A                             LSR
    67   9F75    90    13                       BCC LEFRIT
    68   9F77    20  9F81                       JSR FUCHPL              ;YES. CHASE
    69   9F7A    B8    50    00                 ELSE
         9F72    0A
    70   9F7D    20  9F8A                       JSR LEFRIT              ;NO. RANDOM
    71   9F7C    03                             ENDIF
    72   9F6D    12                             ENDIF
    73   9F65    1A                             ENDIF
    74   9F80    60                             RTS
    75                                          .SBTTL  INVADER FUSE LEFT/RIGHT VECTOR
    76   9F81    20  9D67               FUCHPL: JSR JCHPLA              ;CHASE PLAYER
    77   9F84    20  9C4F                       JSR JCHROT              ;REVERSE DIRECTION (FUSE IS BACKWARDS)
    78   9F87    4C  9F99                       JMP GOTJUM
    79   9F8A                           LEFRIT:
    80   9F8A    BD  0283                       LDA X,INVAC1            ;RANDOMLY CHOOSE LEFT OR RIGHT
    81   9F8D    29    BF                       AND I,^CINVROT
    82   9F8F    2C  60CA                       BIT RANDOM
    83   9F92    50    00                       IFVS
    84   9F94    09    40                       ORA I,INVROT
    85   9F93    02                             ENDIF
    86   9F96    9D  0283                       STA X,INVAC1
    87   9F99    AD  0111               GOTJUM: LDA WELTYP
    88   9F9C    F0    00                       IFNE                    ;PLANAR SURFACE?
    89   9F9E    BD  0283                       LDA X,INVAC1            ;YES.
    90   9FA1    29    40                       AND I,INVROT
    91   9FA3    D0    00                       IFEQ                    ;GOING CCW?
    92   9FA5    BD  02B9                       LDA X,INVAL1            ;YES.
    93   9FA8    C9    0F                       CMP I,0F
    94   9FAA    B0    08                       BCS REVFLP              ;AT RIGHT EDGE?
    95   9FAC    B8    50    00                 ELSE                    ;NO.
         9FA4    0A
    96   9FAF    BD  02B9                       LDA X,INVAL1            ;NO. GOING CW
    97   9FB2    D0    00                       IFEQ                    ;AT LEFT EDGE?
    98   9FB4    BD  0283               REVFLP: LDA X,INVAC1            ;YES. GO BACK
    99   9FB7    49    40                       EOR I,INVROT
   100   9FB9    9D  0283                       STA X,INVAC1
   101   9FB3    08                             ENDIF
   102   9FAE    0D                             ENDIF
   103   9F9D    1E                             ENDIF
   104   9FBC    A9    66                       LDA I,FUSELR-CAM
   105   9FBE    8D  010B                       STA CAMPC               ;PT TO LEFT RIGHT FUSE CAM
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 41+
INVADER FUSE LEFT/RIGHT VECTOR

   106   9FC1    4C  9E5F                       JMP JUMPSD              ;GO START JUMP
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 42
PLAY - INVADERS -TRAILER

     1                                          .SBTTL  PLAY - INVADERS -TRAILER
     2
     3                                                                  ;
     4                                                                  ;SPECIAL TRAILER PROCESSING
     5                                                                  ;
     6   9FC4                           JSTRAI:
     7   9FC4    A9    01                       LDA I,1
     8   9FC6    8D  010C                       STA CAMSTA
     9   9FC9    BC  02B9                       LDY X,INVAL1
    10   9FCC    B9  03AC                       LDA Y,LINEY
    11   9FCF    D0    00                       IFEQ                    ;LINE VACANT?
    12   9FD1    A9    F1                       LDA I,ILINDDY+1         ;YES. START LOW. 2
    13   9FD3    99  03AC                       STA Y,LINEY
    14   9FD0    05                             ENDIF
    15   9FD6    BD  02DF                       LDA X,INVAY
    16   9FD9    D9  03AC                       CMP Y,LINEY
    17   9FDC    B0    00                       IFCC                    ;NEW ENEMY LINE?
    18   9FDE    99  03AC                       STA Y,LINEY             ;YES.
    19   9FE1    A9    80                       LDA I,80
    20   9FE3    99  039A                       STA Y,LINSTA            ;REQUEST RECALC.
    21                                                                  ;NO DESTRUCTION PICS
    22   9FDD    08                             ENDIF
    23   9FE6    BD  02DF                       LDA X,INVAY
    24   9FE9    C9    20                       CMP I,20
    25   9FEB    B0    00                       IFCC                    ;MAX HEIGHT?
    26   9FED    BD  028A                       LDA X,INVAC2            ;YES.
    27   9FF0    09    80                       ORA I,ZDIRDO            ;SEND IT DOWN
    28   9FF2    9D  028A                       STA X,INVAC2
    29   9FF5    A9    20                       LDA I,20                ;MAX HEIGHT
    30   9FF7    9D  02DF                       STA X,INVAY
    31   9FFA    B8    50    00                 ELSE
         9FEC    10
    32   9FFD    C9    F2                       CMP I,0F2               ;NO.
    33   9FFF    90    00                       IFCS                    ;MIN HEIGHT?
    34   A001    20  A028                       JSR ASTRAL              ;YES. REASSIGN, REVERSE
    35   A004    A9    F0                       LDA I,0F0               ;DON'T LET IT GET TO LOW
    36   A006    9D  02DF                       STA X,INVAY
    37   A009    AD  03AB                       LDA NYMCOU              ;ANY NYMPHS, OR NON SPIKER TYPE CLIMBERS?
    38   A00C    D0    00                       IFEQ
    39   A00E    BD  028A                       LDA X,INVAC2
    40   A011    29    FC                       AND I,^C<INVCAR>        ;CONVERT IT TO TANKER
    41   A013    09    01                       ORA I,ZCARFL            ;CARRYING FLIPPERS
    42   A015    9D  028A                       STA X,INVAC2
    43   A018    BD  0283                       LDA X,INVAC1            ;LOOKS LIKE TANKER TOO
    44   A01B    29    F8                       AND I,^C<INVABI>
    45   A01D    09    02                       ORA I,ZABTAN
    46   A01F    9D  0283                       STA X,INVAC1
    47   A022    A9    00                       LDA I,0                 ;SET ZERO STATUS (CONVERTED TOO CARRIER)
    48   A024    8D  010C                       STA CAMSTA
    49   A00D    19                             ENDIF
    50   A000    26                             ENDIF
    51   9FFC    2A                             ENDIF
    52   A027    60                             RTS
    53   A028                           ASTRAL:
    54   A028    A9    00                       LDA I,0
    55   A02A    85    2D                       STA TEMP4
    56   A02C    A9    0F                       LDA I,NLINES-1          ;LOOP LINE COUNTER
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 42+
PLAY - INVADERS -TRAILER

    57   A02E    8D  0140                       STA OPSPIN
    58
    59   A031    AD  60DA                       LDA RANDO2              ;START AT A RANDOM LINE
    60   A034    29    0F                       AND I,0F
    61   A036    A8                             TAY
    62                                          BEGIN                   ;LOOP FOR EACH LINE
    63   A037    C0    0F                       CPY I,0F
    64   A039    D0    00                       IFEQ
    65   A03B    AD  0111                       LDA WELTYP
    66   A03E    D0    0F                       BNE SKIPIT              ;SKIP LINE IF PLANAR FAR RIGHT EDGE
    67   A03A    05                             ENDIF
    68   A040    B9  03AC                       LDA Y,LINEY
    69   A043    D0    00                       IFEQ                    ;DEAD LINE?
    70   A045    A9    FF                       LDA I,0FF               ;YES. WORST CASE
    71   A044    02                             ENDIF
    72   A047    C5    2D                       CMP TEMP4
    73   A049    90    00                       IFCS                    ;NEEDIEST LINE SO FAR?
    74   A04B    85    2D                       STA TEMP4               ;YES. CONDITION
    75   A04D    84    29                       STY TEMP0               ;LINE #
    76   A04A    04                             ENDIF
    77   A04F    88                     SKIPIT: DEY
    78   A050    10    00                       IFMI
    79   A052    A0    0F                       LDY I,NLINES-1
    80   A051    02                             ENDIF
    81   A054    CE  0140                       DEC OPSPIN
    82   A057    10    DE                       MIEND
    83   A059    A5    29                       LDA TEMP0               ;REASSIGN TO NEW LINE
    84   A05B    9D  02B9                       STA X,INVAL1
    85   A05E    18                             CLC
    86   A05F    69    01                       ADC I,1
    87   A061    29    0F                       AND I,0F
    88   A063    9D  02CC                       STA X,INVAL2
    89   A066    BD  028A                       LDA X,INVAC2            ;SEND BACK UP
    90   A069    29    7F                       AND I,^C<INVDIR>
    91   A06B    9D  028A                       STA X,INVAC2
    92   A06E    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 43
PLAY - INVADERS -TRAILER

     1
     2                                          .SBTTL  PLAY - KILL INVADER
     3                                  ;INPUT:Y=INVADER TO BE SPLIT
     4                                  ;OUTPUT:ORIGINAL KILLED OFF
     5                                  ;	UP TO 2 NEW ONES CREATED
     6                                  ;	X IS PRESERVED
     7
     8   A06F                           KILINV:
     9   A06F    B9  02DF                       LDA Y,INVAY             ;SAVE Y
    10   A072    85    29                       STA TEMP0
    11   A074    CD  0202                       CMP CURSY
    12   A077    D0    00                       IFEQ                    ;DECREMENT COUNTER
    13   A079    B9  0283                       LDA Y,INVAC1
    14   A07C    29    07                       AND I,INVABI
    15   A07E    C9    04                       CMP I,ZABFUS
    16   A080    F0    06                       BEQ MOVER               ;FUSE (BRANCH IF FUSE) OR CHASE
    17   A082    CE  0109                       DEC INCCOU              ;CHASER
    18   A085    B8    50    00                 ELSE
         A078    0F
    19   A088    CE  0108               MOVER:  DEC INMCOU              ;MOVER
    20   A087    03                             ENDIF
    21   A08B    A9    00                       LDA I,0                 ;DEACTIVATE ENEMY
    22   A08D    99  02DF                       STA Y,INVAY
    23   A090    B9  0283                       LDA Y,INVAC1
    24   A093    29    07                       AND I,INVABI
    25   A095    86    35                       STX SAVEX
    26   A097    AA                             TAX
    27   A098    DE  0142                       DEC X,FLIPCO            ;UPDATE TYPE COUNTER
    28   A09B    A6    35                       LDX SAVEX
    29   A09D    B9  028A                       LDA Y,INVAC2
    30   A0A0    29    03                       AND I,INVCAR
    31   A0A2    F0    00                       IFNE                    ;SPLIT TYPE INVADER?
    32   A0A4    38                             SEC                     ;YES
    33   A0A5    E9    01                       SBC I,1
    34   A0A7    C9    02                       CMP I,ZABTAN
    35   A0A9    D0    00                       IFEQ                    ;TANKER?
    36   A0AB    A9    04                       LDA I,ZABFUS            ;YES. REALLY FUSE
    37   A0AA    02                             ENDIF
    38   A0AD    85    2B                       STA TEMP2               ;RESULTANT MUTATION
    39   A0AF    B9  02B9                       LDA Y,INVAL1            ;YES.
    40   A0B2    38                             SEC
    41   A0B3    E9    01                       SBC I,1
    42   A0B5    29    0F                       AND I,0F
    43   A0B7    C9    0F                       CMP I,0F                ;DON'T ALLOW WRAPAROUND ON PLANE
    44   A0B9    90    00                       IFCS
    45   A0BB    2C  0111                       BIT WELTYP
    46   A0BE    10    00                       IFMI
    47   A0C0    A9    00                       LDA I,0
    48   A0BF    02                             ENDIF
    49   A0BA    07                             ENDIF
    50   A0C2    85    2A                       STA TEMP1               ;LINE # CW
    51                                                                  ;Y
    52   A0C4    20  9B07                       JSR SPLCHA              ;CHARACTERISTICS
    53   A0C7    A5    2D                       LDA TEMP4               ;JUST IN CASE THE DEAD
    54   A0C9    8D  010B                       STA CAMPC               ;SLOT GETS USED
    55   A0CC    CE  010B                       DEC CAMPC
    56   A0CF    A9    00                       LDA I,0                 ;SET EXIT FLAG
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 43+
PLAY - KILL INVADER

    57   A0D1    8D  010A                       STA EXICAM
    58   A0D4    20  994D                       JSR ACTINV              ;ACTIVATE AN INVADER
    59   A0D7    F0    00                       IFNE                    ;ANY SLOTS?
    60   A0D9    A5    2A                       LDA TEMP1               ;YES
    61   A0DB    18                             CLC
    62   A0DC    69    02                       ADC I,2
    63   A0DE    29    0F                       AND I,0F
    64   A0E0    C9    0F                       CMP I,0F
    65   A0E2    D0    00                       IFEQ                    ;DON'T ALLOW WRAP AROUND ON PLANE
    66   A0E4    2C  0111                       BIT WELTYP
    67   A0E7    10    00                       IFMI
    68   A0E9    A9    0E                       LDA I,0E
    69   A0E8    02                             ENDIF
    70   A0E3    07                             ENDIF
    71   A0EB    85    2A                       STA TEMP1               ;LINE #CCW
    72   A0ED    A5    2B                       LDA TEMP2
    73   A0EF    09    40                       ORA I,ZROCCW
    74   A0F1    85    2B                       STA TEMP2
    75   A0F3    20  994D                       JSR ACTINV              ;ACTIVATE ANOTHER INVADER
    76   A0D8    1D                             ENDIF
    77   A0A3    52                             ENDIF
    78   A0F6    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 44
PLAY - INVADER CAM TABLES

     1                                          .SBTTL  PLAY - INVADER CAM TABLES
     2
     3   A0F7                           CAM:
     4                                                                  ;
     5                                                                  ;TRAILER MOVING UP
     6                                                                  ;
     7   A0F7                           TRALUP:
     8   A0F7    0C                             VSMOVE                  ;MOVE UP
     9   A0F8    0E                             VSTRAI                  ;PROCESS TRALER
    10   A0F9    1A    06                       VBR0PC NOJUMP           ;CONVERT TO CARRIER
    11   A0FB    00                             VEXIT                   ;EXIT
    12   A0FC    06    FF                       VSETPC TRALUP           ;RELOOP
    13                                                                  ;
    14                                                                  ;MOVING UP (NO JUMPS)
    15                                                                  ;
    16   A0FE                           NOJUMP:
    17   A0FE    0C                             VSMOVE                  ;MOVE UP
    18   A0FF    00                             VEXIT
    19   A100    06    06                       VSETPC NOJUMP           ;RELOOP
    20                                                                  ;
    21                                                                  ;MOVE 3 TIMES, THEN JUMP
    22   A102                           MOVJMP:                         ;
    23   A102    02    08                       VSLOOP 8
    24   A104    0C                     MJLOP1: VSMOVE                  ;MOVE UP N FRAMES
    25   A105    00                             VEXIT
    26   A106    08    0C                       VELOOP MJLOP1
    27   A108    12                             VJUMPS                  ;START JUMP
    28   A109    00                     MJLOP5: VEXIT
    29   A10A    14                             VJUMPM                  ;PROCESS JUMP
    30   A10B    04                             VSKIP0                  ;SKIP IF JUMP IS DONE
    31   A10C    06    11                       VSETPC MJLOP5
    32   A10E    06    0A                       VSETPC MOVJMP           ;JUMP IS DONE. RESTART SEQUENCE
    33                                                                  ;
    34                                                                  ;SMOOTH UPWARD SPIRAL
    35                                                                  ;
    36   A110                           SPIRAL:
    37   A110    0C                             VSMOVE
    38   A111    00                             VEXIT
    39   A112    12                             VJUMPS                  ;START JUMP
    40   A113    00                     SPILOP: VEXIT
    41   A114    14                             VJUMPM                  ;PROCESS JUMP
    42   A115    0C                             VSMOVE                  ;MOVE UP
    43   A116    04                             VSKIP0
    44   A117    06    1B                       VSETPC SPILOP
    45   A119    06    18                       VSETPC SPIRAL           ;RESTART JUMP WHEN FINISHED
    46                                                                  ;
    47                                                                  ;CHANGE JUMP DIRECTION EVERY N JUMPS
    48                                                                  ;
    49   A11B                           SPIRCH:
    50   A11B    0C                             VSMOVE
    51   A11C    00                             VEXIT
    52   A11D    02    02                       VSLOOP 2                ;LOOP FOR N JUMPS
    53   A11F    12                     SPRLP1: VJUMPS                  ;START JUMP
    54   A120    00                     SPRLP2: VEXIT
    55   A121    14                             VJUMPM                  ;CONTINUE JUMP
    56   A122    0C                             VSMOVE                  ;MOVE UP
    57   A123    04                             VSKIP0                  ;JUMP DONE?
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 44+
PLAY - INVADER CAM TABLES

    58   A124    06    28                       VSETPC SPRLP2           ;NO. CONTINUE JUMP
    59   A126    00                             VEXIT
    60   A127    08    27                       VELOOP SPRLP1           ;YES. NEW JUMP OR EXIT
    61   A129    16                             VCHROT                  ;CHANGE JUMP DIRECTION
    62   A12A    02    03                       VSLOOP 3                ;LOOP FOR N JUMPS
    63   A12C    12                     SPRLP3: VJUMPS                  ;START JUMP
    64   A12D    00                     SPRLP4: VEXIT
    65   A12E    14                             VJUMPM                  ;CONTINUE JUMP
    66   A12F    0C                             VSMOVE                  ;MOVE UP
    67   A130    04                             VSKIP0                  ;JUMP DONE?
    68   A131    06    35                       VSETPC SPRLP4           ;NO. CONT JUMP
    69   A133    00                             VEXIT
    70   A134    08    34                       VELOOP SPRLP3           ;YES. NEW JUMP OR EXIT
    71   A136    16                             VCHROT
    72   A137    06    23                       VSETPC SPIRCH           ;START OVER
    73                                                                  ;
    74                                                                  ;CHASE PLAYER AROUND TOP
    75                                                                  ;
    76   A139                           TOPPER:
    77   A139    02    04                       VSLOOP 4                ;WAIT IN CROUCH FOR N FRAMES
    78                                                                  ;
    79   A13B    18                     KICHEK: VKITST                  ;TEST FOR CURSOR KILL
    80   A13C    00                             VEXIT
    81   A13D    08    43                       VELOOP KICHEK
    82   A13F    12                             VJUMPS                  ;START A JUMP
    83                                                                  ;
    84   A140    00                     KJULP1: VEXIT
    85   A141    10    B3                       VSLOPB WTTFRA
    86   A143    14                     KJULP2: VJUMPM                  ;DOUBLE SPEED JUMP
    87   A144    1A    41                       VBR0PC TOPPER           ;SKIP IF JUMP IS DONE
    88   A146    08    4B                       VELOOP KJULP2
    89   A148    06    48                       VSETPC KJULP1           ;
    90                                                                  ;ENEMY FLIPS & MOVES ON OPEN LINES, MOVES ON ENEMY LINES
    91   A14A    00                     COWJM2: VEXIT
    92   A14B    0C                     COWJMP: VSMOVE                  ;MOVE ENEMY
    93   A14C    1C                             VELTST                  ;ON AN ENEMY LINE?
    94   A14D    1A    52                       VBR0PC COWJM2           ;YES. CONTINUE UP ON LINE
    95   A14F    12                             VJUMPS                  ;NO. START A JUMP
    96   A150    00                             VEXIT
    97   A151    0C                             VSMOVE                  ;MOVE UP
    98   A152    14                     COWJM3: VJUMPM                  ;PROCESS JUMP
    99   A153    1A    52                       VBR0PC COWJM2           ;JUMP DONE
   100   A155    00                             VEXIT
   101   A156    06    5A                       VSETPC COWJM3           ;CONTINUE JUMP
   102                                                                  ;
   103                                                                  ;PULSAR
   104                                                                  ;
   105                                                                  ;
   106                                                                  ;FUSE UP/DOWN
   107   A158                           FUSEUP:
   108   A158    1E                             VSFUSE                  ;PROCESS FUSE
   109   A159    20                             VFUSKI                  ;FUSE KILL CURSOR
   110   A15A    00                             VEXIT                   ;EXIT
   111   A15B    06    60                       VSETPC FUSEUP           ;RELOOP
   112                                                                  ;
   113   A15D    00                     FUSELR: VEXIT                   ;FUSE LEFT/RIGHT
   114   A15E    02    03                       VSLOOP 3                ;SLOWL
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 44+
PLAY - INVADER CAM TABLES

   115   A160    20                     FUSLOP: VFUSKI                  ;CURSOR KILLED?
   116   A161    00                             VEXIT
   117   A162    08    68                       VELOOP FUSLOP
   118   A164    14                             VJUMPM                  ;LEFT/RIGHT
   119   A165    1A    60                       VBR0PC FUSEUP           ;JUMP DONE?
   120   A167    06    65                       VSETPC FUSELR           ;NO. CONTINUE JUMP
   121                                                                  ;
   122   A169                           PULSCH:
   123   A169                           PULSCP:                         ;PULSAR CHASER PLAYER
   124   A169    10    B2                       VSLOPB PUCHDE
   125   A16B    22                     PULSC1: VSPUMO                  ;MOVE 1/8 OF TUBE BEFORE NEXT FLIP
   126   A16C    00                             VEXIT
   127   A16D    08    73                       VELOOP PULSC1
   128   A16F    26                     PULSC2: VCHKPU                  ;PULSING?
   129   A170    1A    7E                       VBR0PC PULSC3           ;BRANCH IF NOT
   130   A172    22                             VSPUMO                  ;PULSING, SO KEEP MOVING
   131   A173    00                             VEXIT
   132   A174    06    77                       VSETPC PULSC2           ;RECHECK FOR PULSE
   133   A176    24                     PULSC3: VCHPLA                  ;SET FLIP DIRECTION TOWARD PLAYER
   134   A177    12                             VJUMPS                  ;START FLIP
   135   A178    00                     PULSCJ: VEXIT
   136   A179    14                             VJUMPM                  ;CONTINUE FLIP
   137   A17A    1A    71                       VBR0PC PULSCP           ;DONE?
   138   A17C    06    80                       VSETPC PULSCJ           ;NO
   139                                                                  ;
   140                                                                  ;AVOIDANCE FLIPPER
   141                                                                  ;
   142   A17E                           AVOIDR:
   143   A17E    24                             VCHPLA                  ;SET DIRECTION TOWARD PLAYER
   144   A17F    16                             VCHROT                  ;REVERSE IT
   145   A180    12                             VJUMPS
   146   A181    00                     AVOID1: VEXIT                   ;FLIP PROCESSING LOOP
   147   A182    0C                             VSMOVE
   148   A183    14                             VJUMPM
   149   A184    04                             VSKIP0
   150   A185    06    89                       VSETPC AVOID1
   151   A187    02    04                       VSLOOP 4.
   152   A189    00                     AVOID2: VEXIT                   ;FLIP DONE. MOVE UP LOOP
   153   A18A    0C                             VSMOVE
   154   A18B    08    91                       VELOOP AVOID2
   155   A18D    06    86                       VSETPC AVOIDR
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 45
PLAY - INVADER CAM TABLES

     1
     2                                          .SBTTL PLAY - MOVE CHARGES
     3   A18F                           MOVCHA:
     4   A18F    A2    0B                       LDX I,NPCHAR+NICHAR-1
     5   A191    86    37                       STX INDEX1
     6                                          BEGIN                   ;LOOP FOR EACH CHARGE
     7   A193    A6    37                       LDX INDEX1
     8   A195    BD  02D3                       LDA X,CHARY
     9   A198    F0    00                       IFNE                    ;CHARGE ACTIVE?
    10   A19A    E0    08                       CPX I,NPCHAR
    11   A19C    B0    00                       IFCC                    ;DETERMINE DIRECTION
    12                                                                  ;TOWARD INVADER
    13   A19E    69    09                       ADC I,PCVELO
    14   A1A0    BC  02F2                       LDY X,CHARCO
    15   A1A3    F0    00                       IFNE                    ;CHARGE IN COLLISION W. LINE?
    16   A1A5    38                             SEC                     ;YES. SLOW IT DOWN
    17   A1A6    E9    04                       SBC I,4
    18   A1A4    03                             ENDIF
    19   A1A8    9D  02D3                       STA X,CHARY
    20   A1AB    20  A1FA                       JSR LIFECT
    21   A1AE    BD  02D3                       LDA X,CHARY
    22   A1B1    C9    F0                       CMP I,ILINDDY
    23   A1B3    90    00                       IFCS                    ;AT END?
    24   A1B5    CE  0135                       DEC CHACOU
    25   A1B8    A9    00                       LDA I,0                 ;YES, DEACTIVATE
    26   A1BA    9D  02D3                       STA X,CHARY
    27   A1B4    08                             ENDIF
    28   A1BD    B8    50    00                 ELSE
         A19D    22
    29   A1C0    BD  02E6                       LDA X,CHARYL
    30   A1C3    18                             CLC                     ;TOWARD PLAYER
    31   A1C4    6D  0120                       ADC WCHARL
    32   A1C7    9D  02E6                       STA X,CHARYL
    33   A1CA    BD  02D3                       LDA X,CHARY
    34   A1CD    6D  0118                       ADC WCHARIN
    35   A1D0    CD  0202                       CMP CURSY
    36   A1D3    B0    00                       IFCC                    ;AT TOP?
    37   A1D5    C6    A6                       DEC ESHCOU
    38   A1D7    20  A1E4                       JSR CHATOP              ;YES. CHECK FOR COLLISION WITH CURSOR
    39   A1DA    A9    00                       LDA I,0                 ;DEACTIVATE
    40   A1D4    07                             ENDIF
    41   A1DC    9D  02D3                       STA X,CHARY
    42   A1BF    1F                             ENDIF
    43   A199    45                             ENDIF
    44   A1DF    C6    37                       DEC INDEX1
    45   A1E1    10    B0                       MIEND
    46   A1E3    60                             RTS
    47   A1E4                           CHATOP:                 ;CHECK FOR CURSOR CHARGE COLLISION
    48   A1E4    AD  0200                       LDA CURSL1
    49   A1E7    DD  02AD                       CMP X,CHARL1
    50   A1EA    D0    00                       IFEQ
    51   A1EC    AD  0201                       LDA CURSL2              ;SAME LINE AS CURSOR.
    52   A1EF    30    00                       IFPL                    ;CURSOR ALREADY DEAD?
    53   A1F1    20  A34B                       JSR INCPSQ              ;NO. KILL CURSOR
    54   A1F4    A9    81                       LDA I,81                ;SPECIAL BLASTED CODE
    55   A1F6    8D  0201                       STA CURSL2
    56   A1F0    08                             ENDIF
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 45+
PLAY - MOVE CHARGES

    57   A1EB    0D                             ENDIF
    58   A1F9    60                             RTS
    59                                          .SBTTL  PLAY - CHARGE LINE COLLISION
    60
    61                                                                  ;
    62   A1FA                           LIFECT:                         ;PROCESS PLAYER CHARGE'S EFFECT
    63                                                                  ;ON ENEMY LINES
    64                                                                  ;
    65   A1FA    BC  02AD                       LDY X,CHARL1            ;DO CHARGE LINE 1 FIRST
    66   A1FD    B9  03AC                       LDA Y,LINEY
    67   A200    F0    00                       IFNE                    ;LINE DEAD?
    68   A202    BD  02D3                       LDA X,CHARY             ;NO.
    69   A205    D9  03AC                       CMP Y,LINEY
    70   A208    90    00                       IFCS                    ;CHARGE ON ENEMY LINES?
    71   A20A    C9    F0                       CMP I,ILINDDY           ;YES
    72   A20C    90    00                       IFCS                    ;LINE DEAD?
    73   A20E    A9    00                       LDA I,0                 ;YES
    74   A20D    02                             ENDIF
    75   A210    99  03AC                       STA Y,LINEY             ;YES. UPDATE LINE ENEMY TO
    76   A213    FE  02F2                       INC X,CHARCO            ;UPDATE CHARGE - ENEMY LINE COLLISION COUNTER
    77   A216    A9    C0                       LDA I,0C0
    78   A218    99  039A                       STA Y,LINSTA            ;SET RECALC FLAG
    79                                                                  ;REQUEST LINE DESTRUCTION PIC.
    80   A21B    20  0000G                      JSR SELICO              ;MAKE SOUND
    81                                                                  ;GIVE PTS
    82   A21E    A2    FF                       LDX I,-1                ;SIGNAL SCORE ROUTINE TO USE TEMPS
    83   A220    A9    00                       LDA I,0                 ;ADD 1 TO SCORE FOR EACH HIT
    84   A222    85    2A                       STA TEMP1
    85   A224    85    2B                       STA TEMP2
    86   A226    A9    01                       LDA I,1
    87   A228    85    29                       STA TEMP0
    88   A22A    20  0000G                      JSR UPSCORE
    89   A22D    A6    37                       LDX INDEX1              ;RESTORE CHARGE INDEX
    90   A209    25                             ENDIF
    91   A22F    BD  02F2                       LDA X,CHARCO
    92   A232    C9    02                       CMP I,2
    93   A234    90    00                       IFCS                    ;CHARGE EXHAUSTED?
    94   A236    A9    00                       LDA I,0                 ;YES. DEACTIVATE IT
    95   A238    9D  02D3                       STA X,CHARY
    96   A23B    CE  0135                       DEC CHACOU
    97   A235    08                             ENDIF
    98   A201    3C                             ENDIF
    99   A23E    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 46
PLAY - FIRE PLAYER CHARGE

     1                                          .SBTTL PLAY - FIRE PLAYER CHARGE
     2   A23F                           FIREPC:
     3   A23F    AD  0201                       LDA CURSL2
     4   A242    30    00                       IFPL                    ;PLAYER ALIVE
     5   A244    A5    05                       LDA QSTATUS
     6   A246    30    00                       IFPL                    ;ATTRACT?
     7   A248    AD  0106                       LDA CURMOD              ;YES. AUTO FIRE
     8   A24B    85    29                       STA TEMP0
     9   A24D    A2    0A                       LDX I,NICHARG+NINVAD-1
    10                                          BEGIN                   ;LOOP FOR EACH INVADER & SHOT UNTIL EXHAUSTED OR CLOSE 1 IS FOUND
    11   A24F    BD  02DB                       LDA X,CHARY+NPCHAR
    12   A252    F0    00                       IFNE                    ;ACTIVE?
    13   A254    BD  02B5                       LDA X,CHARL1+NPCHAR     ;YES CALUCLATE ABSOLUTE VALUE OF LINE DELTA
    14   A257    38                             SEC                     ;
    15   A258    ED  0200                       SBC CURSL1
    16   A25B    10    00                       IFMI
    17   A25D    49    FF                       EOR I,0FF
    18   A25F    18                             CLC
    19   A260    69    01                       ADC I,1
    20   A25C    05                             ENDIF
    21   A262    C9    02                       CMP I,2
    22   A264    B0    00                       IFCC                    ;TOO CLOSE?
    23   A266    E6    29                       INC TEMP0               ;YES. FIRE
    24   A265    02                             ENDIF
    25   A253    14                             ENDIF
    26   A268    CA                             DEX
    27   A269    10    E4                       MIEND
    28   A26B    A5    29                       LDA TEMP0
    29   A26D    B8    50    00                 ELSE
         A247    28
    30   A270    A5    4D                       LDA SWSTAT
    31   A272    29    10                       AND I,MFIRE
    32   A26F    04                             ENDIF
    33   A274    F0    00                       IFNE                    ;FIRE CHARGE?
    34   A276    A2    07                       LDX I,NPCHARG-1         ;YES
    35                                          BEGIN                   ;LOOP UNTIL VACANCY IS FOUND
    36   A278    BD  02D3                       LDA X,CHARY
    37   A27B    D0    00                       IFEQ                    ;VACANCY?
    38                                                                  ;YES FIRE CHARGE
    39   A27D    EE  0135                       INC CHACOU
    40   A280    AD  0202                       LDA CURSY               ;START AT CURSOR
    41   A283    9D  02D3                       STA X,CHARY
    42   A286    AD  0200                       LDA CURSL1
    43   A289    9D  02AD                       STA X,CHARL1            ;STARTS AT SAME LINE AS CURSOR
    44   A28C    AD  0201                       LDA CURSL2
    45   A28F    9D  02C0                       STA X,CHARL2
    46   A292    A9    00                       LDA I,0                 ;0 COLLISION COUNTER
    47   A294    9D  02F2                       STA X,CHARCO
    48   A297    20  0000G                      JSR SLAUNC              ;LAUNCH SOUND
    49   A29A    AD  0202                       LDA CURSY
    50   A29D    20  A463                       JSR COLCHK              ;CHECK FOR COLLISION
    51   A2A0    A2    00                       LDX I,0                 ;EXIT LOOP
    52   A27C    25                             ENDIF
    53   A2A2    CA                             DEX
    54   A2A3    10    D3                       MIEND
    55   A275    2F                             ENDIF
    56   A243    61                             ENDIF
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 46+
PLAY - FIRE PLAYER CHARGE

    57   A2A5    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 47
PLAY - FIRE INVADER CHARGE

     1                                          .SBTTL PLAY - FIRE INVADER CHARGE
     2   A2A6                           FIREIC:
     3   A2A6    AD  0201                       LDA CURSL2
     4   A2A9    30    00                       IFPL                    ;PLAYER ALIVE?
     5   A2AB    A2    06                       LDX I,NINVAD-1          ;YES.
     6                                          BEGIN                   ;LOOP FOR EACH INVADER
     7   A2AD    BD  02DF                       LDA X,INVAY
     8   A2B0    F0    00                       IFNE                    ;ACTIVE?
     9   A2B2    C9    30                       CMP I,ILINLIY+20        ;YES
    10   A2B4    90    00                       IFCS                    ;INVADER LOW ENOUGH?
    11   A2B6    BD  028A                       LDA X,INVAC2            ;YES
    12   A2B9    29    40                       AND I,INVFIR
    13   A2BB    F0    00                       IFNE                    ;INVADER MOVING(BOTH LEGS ON LINES)?
    14   A2BD    DE  02A6                       DEC X,INVACT            ;YES. UPDATE INVADER'S FIRE TIMR
    15   A2C0    10    00                       IFMI
    16   A2C2    FE  02A6                       INC X,INVACT
    17   A2C5    BD  0283                       LDA X,INVAC1
    18   A2C8    29    80                       AND I,INVMOT
    19   A2CA    D0    00                       IFEQ
    20   A2CC    AD  60CA                       LDA RANDOM
    21   A2CF    A4    A6                       LDY ESHCOU
    22   A2D1    D9  A304                       CMP Y,CHANCE
    23   A2D4    90    00                       IFCS                    ;TIMER IN FIRE WINDOW?
    24   A2D6    AC  011A                       LDY WCHAMX
    25                                          BEGIN                   ;LOOP THRU EACH INVADER CHARGE
    26   A2D9    B9  02DB                       LDA Y,CHARY+NPCHARG     ;UNTIL VACANCY
    27   A2DC    D0    00                       IFEQ                    ;VACANCY?
    28   A2DE    BD  02DF                       LDA X,INVAY             ;YES
    29   A2E1    99  02DB                       STA Y,CHARY+NPCHARG     ;START AT INVADER LOC
    30   A2E4    BD  02B9                       LDA X,INVAL1
    31   A2E7    99  02B5                       STA Y,CHARL1+NPCHARG    ;SAME LINE AS INVADER
    32   A2EA    BD  02CC                       LDA X,INVAL2
    33   A2ED    99  02C8                       STA Y,CHARL2+NPCHARG
    34   A2F0    AD  0119                       LDA WCHARFR
    35   A2F3    9D  02A6                       STA X,INVACT            ;RESTART TIMER
    36   A2F6    20  0000G                      JSR ESLSON
    37   A2F9    E6    A6                       INC ESHCOU
    38   A2FB    A0    00                       LDY I,0                 ;EXIT LOOP
    39   A2DD    1F                             ENDIF
    40   A2FD    88                             DEY
    41   A2FE    10    D9                       MIEND
    42   A2D5    2A                             ENDIF
    43   A2CB    34                             ENDIF
    44   A2C1    3E                             ENDIF
    45   A2BC    43                             ENDIF
    46   A2B5    4A                             ENDIF
    47   A2B1    4E                             ENDIF
    48   A300    CA                             DEX
    49   A301    10    AA                       MIEND
    50   A2AA    58                             ENDIF
    51   A303    60                             RTS
    52   A304    00    E0    F0    FA   CHANCE: .BYTE 0,0E0,0F0,0FA,0FF ;HIGHER CHANCE FOR ENEMY SHOT IF LESS ON SCREEN
         A308    FF
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 48
PLAY-START EXPLOSION

     1                                          .SBTTL  PLAY-START EXPLOSION
     2                                  ;OUTPUT:X AND Y PRESERVED
     3                                  ;	SAVEX,SAVEY,TEMP0,1,2,3,4 ARE GARBAGE
     4
     5                                          .SBTTL  PLAY-EXPLOSION OF FUSE INIT
     6
     7   A309    86    37               INCFS2: STX INDEX1
     8   A30B    A9    FF                       LDA I,0FF               ;MARK SHOT USED
     9   A30D    9D  02F2                       STA X,CHARCO
    10   A310    98                             TYA             ;CONVERT SHOT INDEX TO INVADER INDEX
    11   A311    38                             SEC
    12   A312    E9    04                       SBC I,NICHAR
    13   A314    A8                             TAY
    14   A315    B9  02B9                       LDA Y,INVAL1
    15   A318    85    2D                       STA TEMP4
    16   A31A    AD  60DA                       LDA RANDO2
    17   A31D    29    07                       AND I,7
    18   A31F    C9    03                       CMP I,3
    19   A321    90    00                       IFCS                    ;RANDOMLY CHOOSE 0(250_,1(500), OR 2(750)
    20   A323    A9    00                       LDA I,0
    21   A322    02                             ENDIF
    22   A325    48                             PHA
    23   A326    18                             CLC
    24   A327    69    02                       ADC I,CFTYPE
    25   A329    20  A3CA                       JSR GEXIFU              ;INITIALIZE EXPLOSION
    26   A32C    20  A06F                       JSR KILINV              ;KILL FUSE
    27   A32F    68                             PLA
    28   A330    18                             CLC
    29   A331    69    05                       ADC I,5
    30   A333    AA                             TAX
    31   A334    20  0000G                      JSR UPSCOR              ;UPDATE SCORE
    32   A337    A6    37                       LDX INDEX1
    33   A339    60                             RTS
    34   A33A    A9    05               INIPSQ: LDA I,IPTYPE
    35   A33C    20  A352                       JSR DEADCU              ;KILL CURSOR
    36   A33F    CE  0201                       DEC CURSL2              ;DISPLAY CURSOR
    37   A342    60                             RTS
    38   A343    A9    00G              INFPSQ: LDA I,FPSPXI            ;SPECIAL BANG PIC CODE
    39   A345    D0    06                       BNE INCP2
    40   A347    A9    00G              INPPSQ: LDA I,PPSPXI            ;SPECIAL EXPLOSION PIC CODE
    41   A349    D0    02                       BNE INCP2
    42   A34B    A9    00G              INCPSQ: LDA I,CPSPXI            ;SPECIAL EXPLOSION PIC CODE
    43   A34D    8D  013B               INCP2:  STA SPXIND
    44
    45   A350    A9    01                       LDA I,CPTYPE
    46   A352                           DEADCU:                 ;KILL CURSOR
    47   A352    85    2C                       STA TEMP3               ;EXPOLSION CODE
    48   A354    AD  0202                       LDA CURSY               ;POSITION
    49   A357    85    29                       STA TEMP0
    50   A359    AD  0200                       LDA CURSL1
    51   A35C    85    2D                       STA TEMP4
    52   A35E    20  0000G                      JSR CPEXPL              ;START NOISE
    53   A361    20  A3D6                       JSR GENEX2              ;INIT EXPLOSION
    54   A364    A9    81                       LDA I,81                ;KILL CURSOR/NO DISP
    55   A366    8D  0201                       STA CURSL2
    56   A369    A9    01                       LDA I,1                 ;INIT TIMER FOR EXP.
    57   A36B    8D  013C                       STA SPFTIM
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 48+
PLAY-EXPLOSION OF FUSE INIT

    58   A36E    60                             RTS
    59   A36F    20  0000G              INCCSQ: JSR CCEXPL              ;CHARGE-CHARGE
    60   A372    B9  02DB                       LDA Y,CHARY+NPCHAR
    61   A375    85    29                       STA TEMP0
    62   A377    B9  02B5                       LDA Y,CHARL1+NPCHAR
    63   A37A    85    2D                       STA TEMP4
    64   A37C    A9    00                       LDA I,CCTYPE
    65   A37E    20  A3D4                       JSR GENEXP
    66   A381    A9    00                       LDA I,0                 ;DEACTIVATE SHOT
    67   A383    99  02DB                       STA Y,CHARY+NPCHAR
    68   A386    C6    A6                       DEC ESHCOU              ;ONE LESS SHOT
    69   A388    A9    FF                       LDA I,0FF               ;SHOT USED FLAG
    70   A38A    9D  02F2                       STA X,CHARCO
    71   A38D    60                             RTS
    72   A38E                           INCIS2:
    73   A38E    A9    FF                       LDA I,0FF               ;SHOT USED MARKER
    74   A390    9D  02F2                       STA X,CHARCO
    75   A393    98                             TYA             ;CONVERT SHOT INDEX TO INVADER INDEX
    76   A394    38                             SEC
    77   A395    E9    04                       SBC I,NICHAR
    78   A397    A8                             TAY
    79   A398    B9  0283               INCISQ: LDA Y,INVAC1
    80   A39B    29    C0                       AND I,ZROCCW!ZMOTJM
    81   A39D    C9    C0                       CMP I,ZROCCW!ZMOTJM
    82   A39F    F0    00                       IFNE                            ;FLIPPING CCW?
    83   A3A1    B9  02B9                       LDA Y,INVAL1                    ;NO. USE BASE LEG
    84   A3A4    B8    50    00                 ELSE
         A3A0    06
    85   A3A7    B9  02B9                       LDA Y,INVAL1                    ;YES. ADJUST BASE LIVE
    86   A3AA    38                             SEC
    87   A3AB    E9    01                       SBC I,1
    88   A3AD    29    0F                       AND I,0F
    89   A3A6    08                             ENDIF
    90   A3AF    85    2D                       STA TEMP4
    91   A3B1    A9    00                       LDA I,CITYPE
    92   A3B3    20  A3CA                       JSR GEXIFU              ;INITIALIZE BANG PIC
    93   A3B6    20  A06F                       JSR KILINV              ;KILL INVADER
    94   A3B9    B9  0283                       LDA Y,INVAC1
    95   A3BC    29    07                       AND I,INVABI
    96   A3BE    A8                             TAY
    97   A3BF    BE  A3C5                       LDX Y,INVPIN            ;INDEX FOR PTS TO ADD
    98   A3C2    4C  0000G                      JMP UPSCOR              ;UPDATE SCORE
    99   A3C5    01    02    03    04   INVPIN: .BYTE 1,2,3,4,1
         A3C9    01
   100   A3CA    48                     GEXIFU: PHA
   101   A3CB    20  0000G                      JSR CIEXPL              ;BANG SOUND
   102   A3CE    B9  02DF                       LDA Y,INVAY
   103   A3D1    85    29                       STA TEMP0
   104   A3D3    68                             PLA
   105                                                                  ;
   106                                                                  ;GENERAL EXPLOSION STARTER
   107                                                                  ;INPUT:ACC=EXPLOSION TYPE
   108   A3D4                           GENEXP:                         ;	TEMP0=EXPLOSION Y ;TEMP4=EXPLOSION LINE
   109   A3D4    85    2C                       STA TEMP3               ;SAVE TYPE & DEPTH
   110   A3D6    86    35               GENEX2: STX SAVEX
   111   A3D8    84    36                       STY SAVEY
   112   A3DA    A9    00                       LDA I,0
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 48+
PLAY-EXPLOSION OF FUSE INIT

   113   A3DC    85    2A                       STA TEMP1
   114   A3DE    85    2B                       STA TEMP2
   115   A3E0    A2    07                       LDX I,NEXPLO-1
   116                                          BEGIN                   ;LOOP UNTIL VACANCY IS FOUND
   117   A3E2    BD  030A                       LDA X,EXPLOY
   118   A3E5    F0    13                       BEQ GOTEXP              ;EXIT IF VACANCY
   119   A3E7    BD  0312                       LDA X,EXPLOS
   120   A3EA    C5    2A                       CMP TEMP1
   121   A3EC    90    00                       IFCS                    ;FURTHEST ALONG SO FAR?
   122   A3EE    85    2A                       STA TEMP1               ;YES. SAVE IT
   123   A3F0    86    2B                       STX TEMP2
   124   A3ED    04                             ENDIF
   125   A3F2    CA                             DEX
   126   A3F3    10    ED                       MIEND
   127   A3F5    CE  0116                       DEC EXPCOU              ;WILL BE INCD LATER
   128   A3F8    A6    2B                       LDX TEMP2               ;NO VACANCIES. USE FURTHEST AONG
   129   A3FA    A9    00               GOTEXP: LDA I,0
   130   A3FC    9D  0312                       STA X,EXPLOS            ;START SEQUENCES
   131   A3FF    A5    2C                       LDA TEMP3
   132   A401    9D  0302                       STA X,EXPLOT            ;EXPLOSION TYPE
   133   A404    A5    29                       LDA TEMP0
   134   A406    9D  030A                       STA X,EXPLOY            ;EXPLOSION DEPTH
   135   A409    A5    2D                       LDA TEMP4
   136   A40B    9D  02FA                       STA X,EXPLOL            ;EXPLOSION LINE
   137   A40E    EE  0116                       INC EXPCOU              ;INC COUNTER
   138   A411    A6    35                       LDX SAVEX
   139   A413    A4    36                       LDY SAVEY
   140   A415    60                             RTS
   141         0005                     IPTYPE=5                        ;EXPLOSION TYPE CODES
   142         0001                     CPTYPE=1
   143         0000                     CCTYPE=0
   144         0000                     CITYPE=0
   145         0002                     CFTYPE=2
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 49
PLAY-PROCESS EXPLOSIONS

     1                                          .SBTTL  PLAY-PROCESS EXPLOSIONS
     2   A416                           PROEXP:
     3   A416    AD  0116                       LDA EXPCOU
     4   A419    F0    00                       IFNE                    ;ANY BANGS?
     5   A41B    A9    00                       LDA I,0                 ;YES CLEAR COUNT
     6   A41D    8D  0116                       STA EXPCOU
     7   A420    A2    07                       LDX I,NEXPLO-1
     8                                          BEGIN                   ;LOOP FOR ACH EXPLOSION
     9   A422    BD  030A                       LDA X,EXPLOY
    10   A425    F0    00                       IFNE                    ;ACTIVE BANG?
    11   A427    BD  0312                       LDA X,EXPLOS            ;YES. UPDATE SEQUENCES
    12   A42A    BC  0302                       LDY X,EXPLOT
    13   A42D    18                             CLC
    14   A42E    79  A44E                       ADC Y,TEXINC
    15   A431    9D  0312                       STA X,EXPLOS
    16   A434    D9  A448                       CMP Y,TEXPDN
    17   A437    90    00                       IFCS                    ;EXPLOSION DONE?
    18   A439    A9    00                       LDA I,0                 ;YES. DEACTIVATE IT
    19   A43B    9D  030A                       STA X,EXPLOY
    20   A43E    B8    50    00                 ELSE
         A438    08
    21   A441    EE  0116                       INC EXPCOU              ;NO. INC COUNTER
    22   A440    03                             ENDIF
    23   A426    1D                             ENDIF
    24   A444    CA                             DEX
    25   A445    10    DB                       MIEND
    26   A41A    2C                             ENDIF
    27   A447    60                             RTS
    28   A448    10    15    20    20   TEXPDN: .BYTE 10,15,20,20,20,10         ;LAST SEQUENCE # TABLE(*4)
         A44C    20    10
    29   A44E    03    01    03    03   TEXINC: .BYTE 3,1,3,3,3,3
         A452    03    03
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 50
PLAY - COLLISION (MAINLINE)

     1                                          .SBTTL PLAY - COLLISION (MAINLINE)
     2   A454                           COLLIS:
     3   A454    A2    07                       LDX I,NPCHAR-1
     4                                          BEGIN                   ;LOOP FOR EACH PLAYER CHARGE
     5   A456    BD  02D3                       LDA X,CHARY
     6   A459    F0    00                       IFNE                    ;PLAYER CHARGE ACTIVE?
     7   A45B    20  A463                       JSR COLCHK
     8   A45A    03                             ENDIF
     9   A45E    CA                             DEX
    10   A45F    10    F5                       MIEND                   ;ENDLOOP FOR PLAYER CHARGES
    11   A461    60                             RTS
    12   A462    00G                    CHKSM4::        .BYTE QCHKS4
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 51
PLAY - COLLISION - SINGLE CHECK

     1                                          .SBTTL  PLAY - COLLISION - SINGLE CHECK
     2
     3                                  ;INPUT:ACC=PLAYER CHARGE Y
     4
     5   A463                           COLCHK:
     6   A463    85    2E                       STA TEMPX
     7   A465    A0    0A                       LDY I,NICHAR-1+NINVAD   ;YES.
     8                                          BEGIN                   ;LOOP FOR EACH INVADER CHARGE & INVADER
     9   A467    B9  02DB                       LDA Y,CHARY+NPCHAR
    10   A46A    F0    00                       IFNE                    ;I C OR INVADER ACTIVE?
    11   A46C    C5    2E                       CMP TEMPX               ;YES. DETERMINE OBSOLUTE DELTA
    12   A46E    90    00                       IFCS
    13   A470    E5    2E                       SBC TEMPX
    14   A472    B8    50    00                 ELSE
         A46F    05
    15   A475    A5    2E                       LDA TEMPX
    16   A477    38                             SEC
    17   A478    F9  02DB                       SBC Y,CHARY+NPCHAR
    18   A474    06                             ENDIF
    19   A47B    C0    04                       CPY I,NICHAR
    20   A47D    B0    00                       IFCC                    ;ENEMY SHOT OR INVADER?
    21   A47F    C5    A7                       CMP CHACHA              ;SHOT
    22   A481    B0    00                       IFCC                    ;IN RANGE?
    23   A483    B9  02B5                       LDA Y,CHARL1+NPCHAR     ;YES.
    24   A486    5D  02AD                       EOR X,CHARL1
    25   A489    D0    00                       IFEQ                    ;ON SAME LINE?
    26   A48B    20  A36F                       JSR INCCSQ              ;YES. INITIALIZE EXPLOSION
    27   A48A    03                             ENDIF
    28   A482    0B                             ENDIF
    29   A48E    B8    50    00                 ELSE
         A47E    12
    30   A491    48                             PHA                     ;INVADER. SAVE DELTA
    31   A492    84    38                       STY INDEX2
    32   A494    B9  027F                       LDA Y,INVAC1-NICHAR
    33   A497    29    07                       AND I,INVABI
    34   A499    A8                             TAY
    35   A49A    68                             PLA
    36   A49B    D9  0151                       CMP Y,ENSIZE
    37   A49E    B0    00                       IFCC                    ;IN RANGE BY TYPE?
    38   A4A0    C0    04                       CPY I,ZABFUS            ;YES.
    39   A4A2    D0    00                       IFEQ                    ;FUSE?
    40   A4A4    A4    38                       LDY INDEX2              ;YES.
    41   A4A6    B9  02DB                       LDA Y,INVAY-NICHAR
    42   A4A9    CD  0202                       CMP CURSY
    43   A4AC    F0    00                       IFNE                    ;FUSE AT TOP?
    44   A4AE    BD  02AD                       LDA X,CHARL1            ;NO.
    45   A4B1    D9  02B5                       CMP Y,INVAL1-NICHAR
    46   A4B4    D0    00                       IFEQ                    ;SAME BASE LINE?
    47   A4B6    B9  02C8                       LDA Y,INVAL2-NICHAR     ;YES.
    48   A4B9    10    00                       IFMI                    ;VULNERABLE FUSE?
    49   A4BB    20  A309                       JSR INCFS2              ;YES. START BANG, KILL FUSE, GIVE PTS.
    50   A4BA    03                             ENDIF
    51   A4B5    08                             ENDIF
    52   A4AD    10                             ENDIF
    53   A4BE    B8    50    00                 ELSE
         A4A3    1D
    54   A4C1    A4    38                       LDY INDEX2              ;NO. FLIPPER,TANKER,SPINNER,PULSAR
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 51+
PLAY - COLLISION - SINGLE CHECK

    55   A4C3    B9  02C8                       LDA Y,INVAL2-NICHAR
    56   A4C6    10    00                       IFMI                    ;FLIPPER?
    57   A4C8    B9  02B5                       LDA Y,INVAL1-NICHAR     ;YES.
    58   A4CB    DD  02C0                       CMP X,CHARL2            ;BASE & SECONDARY MATCH?
    59   A4CE    F0    12                       BEQ YESCOL
    60   A4D0    D0    08                       BNE OKATOP              ;NO. CHECK FOR BASE MATCH
    61   A4C7    0A                             ENDIF
    62   A4D2    B9  02DB                       LDA Y,INVAY-NICHAR
    63   A4D5    CD  0202                       CMP CURSY
    64   A4D8    F0    00                       IFNE                    ;AT TOP?
    65   A4DA    B9  02B5               OKATOP: LDA Y,INVAL1-NICHAR     ;NO.
    66   A4DD    DD  02AD                       CMP X,CHARL1            ;
    67   A4E0    D0    00                       IFEQ                    ;BASE LEG MATCH?
    68   A4E2    86    37               YESCOL: STX INDEX1              ;YES.
    69   A4E4    20  A38E                       JSR INCIS2              ;START BANG
    70   A4E7    A6    37                       LDX INDEX1
    71   A4E1    07                             ENDIF
    72   A4D9    0F                             ENDIF
    73   A4C0    28                             ENDIF
    74   A4E9                           NOCOL:
    75   A49F    49                             ENDIF
    76   A4E9    A4    38                       LDY INDEX2
    77   A490    5A                             ENDIF
    78   A46B    7F                             ENDIF
    79   A4EB    88                             DEY
    80   A4EC    30    03    4C  A467           MIEND                   ;ENDLOOP FOR ICS
    81   A4F1    BD  02F2                       LDA X,CHARCO
    82   A4F4    C9    FF                       CMP I,0FF
    83   A4F6    D0    00                       IFEQ                    ;PLAYER CHARGE SPENT?
    84   A4F8    A9    00                       LDA I,0                 ;YES. DEACTIVATE IT
    85   A4FA    9D  02D3                       STA X,CHARY
    86   A4FD    CE  0135                       DEC CHACOU
    87   A500    9D  02F2                       STA X,CHARCO
    88   A4F7    0B                             ENDIF
    89   A503    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 52
PLAY - COLLISION - SINGLE CHECK

     1
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 53
PLAY - ANALYZE GAME

                                                .SBTTL PLAY - ANALYZE GAME
     2   A504                           ANALYZ:
     3   A504    AD  0201                       LDA CURSL2
     4   A507    10    00                       IFMI                    ;CURSOR DEAD?
     5   A509    AD  0135                       LDA CHACOU              ;YES
     6   A50C    05    A6                       ORA ESHCOU
     7   A50E    0D  0116                       ORA EXPCOU
     8   A511    D0    00                       IFEQ                    ;ANY ACTIVE CHARGES OR BANGS?
     9   A513    AE  011C                       LDX WINVMX              ;NO. DROP EVERYBODY INTO WELL
    10                                          BEGIN                   ;LOOP FOR EACH INVADER
    11   A516    BD  02DF                       LDA X,INVAY
    12   A519    F0    00                       IFNE                    ;ACTIVE INVADER?
    13   A51B    18                             CLC                     ;YES MOVE IT DOWN
    14   A51C    69    0F                       ADC I,15.
    15   A51E    B0    00                       IFCC
    16   A520    C9    F0                       CMP I,ILINDDY
    17   A51F    02                             ENDIF
    18   A522    90    00                       IFCS                    ;INVADER AT BOTTOM?
    19   A524    A9    00                       LDA I,0                 ;YES. DEACTIVATE IT
    20   A523    02                             ENDIF
    21   A526    9D  02DF                       STA X,INVAY
    22   A51A    0E                             ENDIF
    23   A529    CA                             DEX
    24   A52A    10    EA                       MIEND
    25   A52C    A6    3D                       LDX PLAYUP
    26   A52E    B5    48                       LDA X,LIVES1
    27   A530    C9    01                       CMP I,1
    28   A532    D0    00                       IFEQ                    ;GAME OVER?
    29   A534    A9    00                       LDA I,0                 ;YES. REQUEST RECALC OF WELL TOP
    30   A536    8D  010F                       STA LEVELY
    31   A539    A9    01                       LDA I,1                 ;REQUEST REDISPLAY OF WELL
    32   A53B    8D  0114                       STA ROTDIS
    33   A53E    A5    5F                       LDA EYL                 ;
    34   A540    38                             SEC
    35   A541    E9    20                       SBC I,20
    36   A543    85    5F                       STA EYL                 ;SHRINK HOLE
    37   A545    A5    5B                       LDA EYH
    38   A547    E9    00                       SBC I,0
    39   A549    85    5B                       STA EYH
    40   A54B    C9    FA                       CMP I,0FA
    41   A54D    18                             CLC
    42   A54E    D0    00                       IFEQ                    ;FAR ENOUGH?
    43   A550    38                             SEC                     ;YES. END GAME
    44   A54F    01                             ENDIF
    45   A551    B8    50    00                 ELSE
         A533    20
    46   A554    AD  0202                       LDA CURSY               ;MOVE CURSOR DOWN
    47   A557    18                             CLC
    48   A558    69    0F                       ADC I,15.
    49   A55A    8D  0202                       STA CURSY
    50   A55D    B0    00                       IFCC
    51   A55F    C9    F0                       CMP I,ILINDDY
    52   A55E    02                             ENDIF
    53   A553    0D                             ENDIF
    54   A561    90    00                       IFCS                    ;CURSOR AT BOTTOM?
    55                                                                  ;YES. END OF LIFE PHASE.
    56   A563    A9    06                       LDA I,CENDLI            ;YES. GO TO END OF LIFE STATE
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 53+
PLAY - ANALYZE GAME

    57   A565    85    00                       STA QSTATE
    58   A567    20  928F                       JSR INICHA              ;CLEAR CHARGES
    59   A56A    AD  0108                       LDA INMCOU              ;ADD # OF INVADERS
    60   A56D    18                             CLC
    61   A56E    6D  0109                       ADC INCCOU
    62   A571    18                             CLC
    63   A572    6D  03AB                       ADC NYMCOU              ;TO # NYMPHS
    64   A575    C9    3F                       CMP I,NNYMPH-1
    65   A577    90    00                       IFCS                    ;MAX OUT
    66   A579    A9    3F                       LDA I,NNYMPH-1
    67   A578    02                             ENDIF
    68   A57B    8D  03AB                       STA NYMCOU              ;FOR NEXT LIFE
    69   A562    1B                             ENDIF
    70   A512    6B                             ENDIF
    71   A57E    B8    50    00                 ELSE
         A508    78
    72   A581    AD  0455               ZQVAVG::        LDA QT3
    73   A584    0D  011B                       ORA QT6
    74   A587    F0    00                       IFNE
    75   A589    A9    17                       LDA I,17
    76   A58B    C5    42                       CMP LSCORH
    77   A58D    B0    00                       IFCC
    78   A58F    A6    40                       LDX LSCORL
    79   A591    F6    00                       INC X,0
    80   A58E    04                             ENDIF
    81   A588    0A                             ENDIF
    82   A593    AD  0106                       LDA CURMOD
    83   A596    D0    00                       IFEQ                    ;TOP MODE?
    84   A598    AD  03AB                       LDA NYMCOU              ;YES CURSOR ALIVE & BANGS DONE?
    85   A59B    0D  0116                       ORA EXPCOU
    86   A59E    D0    00                       IFEQ                    ;ALL NYMPHS CONVERTED?
    87   A5A0    AC  011C                       LDY WINVMX              ;YES. ALL INVADERS OOF LINES?
    88                                          BEGIN                   ;LOOP FOR EACH INVADER UNTIL ALL CHECKED ON LINE FOUND
    89   A5A3    B9  02DF                       LDA Y,INVAY
    90   A5A6    F0    00                       IFNE
    91   A5A8    C9    11                       CMP I,11
    92   A5AA    B0    09                       BCS LINER               ;EXIT IF LINER (NOT AT TOP)
    93   A5A7    04                             ENDIF
    94   A5AC    88                             DEY
    95   A5AD    10    F4                       MIEND                   ;EXIT AFTER ALL CHECKED. (NO LINERS)
    96   A5AF    20  A5CB                       JSR INDROP              ;YES.
    97   A5B2    20  928F                       JSR INICHA              ;CLEAR CHARGES
    98   A59F    15                             ENDIF
    99   A5B5    A5    4D               LINER:  LDA SWSTRT
   100   A5B7    29    60                       AND I,MSTRT2!MSTRT1
   101   A5B9    F0    00                       IFNE                    ;EITHER START PRESSED?
   102   A5BB    24    05                       BIT QSTATUS             ;YES
   103   A5BD    10    00                       IFMI                    ;ATTRACT?
   104   A5BF    A5    09                       LDA OPTIN1              ;NO.
   105   A5C1    29    43                       AND I,43
   106   A5C3    C9    40                       CMP I,40
   107   A5C5    D0    00                       IFEQ                    ;FREE PLAY & ABORT ENABLED?
   108   A5C7    20  A5CB                       JSR INDROP              ;YES. INITIATE DROP MODE
   109   A5C6    03                             ENDIF
   110   A5BE    0B                             ENDIF
   111   A5BA    0F                             ENDIF
   112   A597    32                             ENDIF
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 53+
PLAY - ANALYZE GAME

   113   A580    49                             ENDIF
   114   A5CA    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 54
INITIALIZE CURSOR DROP MODE

     1                                          .SBTTL  INITIALIZE CURSOR DROP MODE
     2
     3   A5CB                           INDROP:
     4   A5CB    A9    20                       LDA I,CDROP             ;DROP STATE NEXT
     5   A5CD    85    00                       STA QSTATE
     6   A5CF    AD  0106                       LDA CURMOD              ;SET CURSOR DROP MODE
     7   A5D2    09    80                       ORA I,80
     8   A5D4    8D  0106                       STA CURMOD
     9   A5D7    A9    00                       LDA I,0                         ;INITIALIZE DOWNWARD ACCELERATION
    10   A5D9    8D  0104                       STA CURSVL
    11   A5DC    8D  0107                       STA CURSYL              ;ZERO FRAC. POSITION
    12   A5DF    85    5C                       STA EYLL                ;TO PREVENT JERKING
    13   A5E1    8D  0123                       STA ELICNT
    14   A5E4    A9    02                       LDA I,2
    15   A5E6    8D  0105                       STA CURSVH
    16   A5E9    A2    0F                       LDX I,NLINES-1
    17                                          BEGIN
    18   A5EB    BD  03AC                       LDA X,LINEY
    19   A5EE    F0    00                       IFNE
    20   A5F0    EE  0123                       INC ELICNT              ;COUNT LIVE SPIKES
    21   A5EF    03                             ENDIF
    22   A5F3    CA                             DEX
    23   A5F4    10    F5                       MIEND
    24   A5F6    AD  0123                       LDA ELICNT
    25   A5F9    F0    00                       IFNE                    ;ENEMY LINES?
    26   A5FB    A5    9F                       LDA CURWAV              ;YES.
    27   A5FD    C9    07                       CMP I,7
    28   A5FF    B0    00                       IFCC                    ;WARN PLAYER?
    29                                                                  ;YES
    30   A601    A9    1E                       LDA I,6*QUASEC          ;WARNING DELAY
    31   A603    85    04                       STA QTMPAUS
    32   A605    A9    0A                       LDA I,CPAUSE            ;PAUSE FIRST
    33   A607    85    00                       STA QSTATE
    34   A609    A9    20                       LDA I,CDROP             ;THEN DROP MODE
    35   A60B    85    02                       STA QNXTSTA
    36   A60D    A9    80                       LDA I,80                ;SET WARNING FLAG
    37   A60F    8D  0123                       STA ELICNT
    38   A600    11                             ENDIF
    39   A5FA    17                             ENDIF
    40   A612    A9    FF                       LDA I,-1
    41   A614    8D  0125                       STA SUZTIM              ;DEACTIVATE SUPERZAPPER
    42   A617    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 55
INITIALIZE CURSOR DROP MODE

     1
     2                                          .SBTTL  PLAY-PROCESS BIG BOOM
     3
     4   A618    AD  010E               PRBOOM: LDA BOOMTI                      ;SET BOOM OFF FLAG
     5   A61B    8D  010D                       STA BOOMFL
     6   A61E    A2    0F                       LDX I,NPARTI-1
     7   A620    86    37                       STX INDEX1
     8                                          BEGIN                   ;LOOP FOR EACH PARTICLE
     9   A622    A6    37                       LDX INDEX1
    10   A624    BD  0283                       LDA X,PARTIY
    11   A627    D0    00                       IFEQ                    ;ACTIVE PARTICLE?
    12   A629    AD  010E                       LDA BOOMTI              ;NO.
    13   A62C    F0    00                       IFNE                    ;BOOM TIMER EXPIRED?
    14   A62E    20  A65B                       JSR TIMLAU              ;NO. LAUNCH MORE PARTICLES OF TIME
    15   A62D    03                             ENDIF
    16   A631    B8    50    00                 ELSE
         A628    0B
    17   A634    20  A6A9                       JSR UPARPO              ;YES. UPDATE PARTICLE POSITION
    18   A637    20  A721                       JSR DECPAR              ;DECELERATE PARTICLE
    19   A63A    A9    FF                       LDA I,-1                ;BOOM ACTIVE
    20   A63C    8D  010D                       STA BOOMFL
    21   A633    0B                             ENDIF
    22   A63F    C6    37                       DEC INDEX1
    23   A641    10    DF                       MIEND                   ;END LOOP
    24   A643    A5    03                       LDA QFRAME
    25   A645    29    01                       AND I,1
    26   A647    D0    00                       IFEQ
    27   A649    AD  010E                       LDA BOOMTI
    28   A64C    F0    00                       IFNE
    29   A64E    CE  010E                       DEC BOOMTI              ;UPDATE BOOM TIMER (STOP AT 0)
    30   A64D    03                             ENDIF
    31   A648    08                             ENDIF
    32   A651    AD  010D                       LDA BOOMFL
    33   A654    D0    00                       IFEQ                    ;BOOM ACTIVE?
    34   A656    A9    12                       LDA I,CGETIN            ;NO. GET INITIALS
    35   A658    85    00                       STA QSTATE
    36   A655    04                             ENDIF
    37   A65A    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 56
PLAY-PROCESS BIG BOOM

     1   A65B                           TIMLAU:
     2   A65B    A5    03                       LDA QFRAME
     3   A65D    29    00                       AND I,0
     4   A65F    D0    00                       IFEQ                    ;DELAY SINCE LAST LAUNCH OK?
     5                                                                  ;YES. LAUNCH ANOTHER
     6   A661    A9    80                       LDA I,80                ;SET UP INITIAL LOCATION IN CENTER
     7   A663    9D  0263                       STA X,PARTIX
     8   A666    9D  0283                       STA X,PARTIY
     9   A669    9D  02A3                       STA X,PARTIZ
    10                                                                  ;SET UP VELOCITY (RANDOM WITHIN
    11   A66C    AD  60DA                       LDA RANDO2              ;GIVE RANGE)
    12   A66F    9D  02C3                       STA X,PARLXV            ;FRACTIONAL X VELOCITY
    13   A672    20  A69B                       JSR FIXTOP
    14   A675    9D  0323                       STA X,PARTXV            ;INTEGER X
    15   A678    AD  60CA                       LDA RANDOM
    16   A67B    9D  02E3                       STA X,PARLYV            ;Y
    17   A67E    20  A69B                       JSR FIXTOP
    18   A681    30    00                       IFPL                    ;UPDATE PARTICLE POSITION
    19   A683    49    FF                       EOR I,0FF
    20   A685    18                             CLC
    21   A686    69    01                       ADC I,1
    22   A682    05                             ENDIF
    23   A688    9D  0343                       STA X,PARTYV
    24   A68B    AD  60CA                       LDA RANDOM              ;Z
    25   A68E    9D  0303                       STA X,PARLZV
    26   A691    20  A69B                       JSR FIXTOP
    27   A694    9D  0363                       STA X,PARTZV
    28   A697    20  0000G                      JSR CIEXPL              ;MAKE NOISE
    29   A660    39                             ENDIF
    30   A69A    60                             RTS
    31   A69B                           FIXTOP:
    32   A69B    4A                             LSR
    33   A69C    AD  60DA                       LDA RANDO2
    34   A69F    29    07                       AND I,7
    35   A6A1    90    00                       IFCS
    36   A6A3    49    FF                       EOR I,0FF
    37   A6A5    18                             CLC
    38   A6A6    69    01                       ADC I,1
    39   A6A2    05                             ENDIF
    40   A6A8    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 57
PLAY-PROCESS BIG BOOM

     1   A6A9                           UPARPO:                         ;UPDATE PARTICLE POSITION
     2   A6A9    BD  02E3                       LDA X,PARLYV            ;Y
     3   A6AC    18                             CLC
     4   A6AD    7D  0223                       ADC X,PARLIY
     5   A6B0    9D  0223                       STA X,PARLIY            ;FRACTIONAL
     6   A6B3    BD  0343                       LDA X,PARTYV
     7   A6B6    30    00                       IFPL
     8   A6B8    7D  0283                       ADC X,PARTIY            ;+ VELOCITY
     9   A6BB    C9    F0                       CMP I,0F0
    10   A6BD    90    00                       IFCS
    11   A6BF    A9    00                       LDA I,0                 ;OFF SCREEN
    12   A6BE    02                             ENDIF
    13   A6C1    B8    50    00                 ELSE
         A6B7    0C
    14   A6C4    7D  0283                       ADC X,PARTIY            ;- VELOCITY
    15   A6C7    C9    10                       CMP I,10
    16   A6C9    B0    00                       IFCC
    17   A6CB    A9    00                       LDA I,0                 ;OFF SCREEN
    18   A6CA    02                             ENDIF
    19   A6C3    09                             ENDIF
    20   A6CD    A8                             TAY
    21   A6CE    BD  02C3                       LDA X,PARLXV            ;X
    22   A6D1    18                             CLC
    23   A6D2    7D  0203                       ADC X,PARLIX
    24   A6D5    9D  0203                       STA X,PARLIX            ;FRACTIONAL
    25   A6D8    BD  0323                       LDA X,PARTXV
    26   A6DB    30    00                       IFPL
    27   A6DD    7D  0263                       ADC X,PARTIX            ;+VELOCITY
    28   A6E0    C9    F0                       CMP I,0F0
    29   A6E2    90    00                       IFCS
    30   A6E4    A0    00                       LDY I,0                 ;OFF SCREEN
    31   A6E3    02                             ENDIF
    32   A6E6    B8    50    00                 ELSE
         A6DC    0C
    33   A6E9    7D  0263                       ADC X,PARTIX            ;-VELOCITY
    34   A6EC    C9    10                       CMP I,10
    35   A6EE    B0    00                       IFCC
    36   A6F0    A0    00                       LDY I,0                 ;OFF SCREEN
    37   A6EF    02                             ENDIF
    38   A6E8    09                             ENDIF
    39   A6F2    9D  0263                       STA X,PARTIX
    40   A6F5    BD  0303                       LDA X,PARLZV            ;Z
    41   A6F8    18                             CLC
    42   A6F9    7D  0243                       ADC X,PARLIZ
    43   A6FC    9D  0243                       STA X,PARLIZ            ;FRACTIONAL
    44   A6FF    BD  0363                       LDA X,PARTZV
    45   A702    30    00                       IFPL
    46   A704    7D  02A3                       ADC X,PARTIZ            ;+ VELOCITY
    47   A707    C9    F0                       CMP I,0F0
    48   A709    90    00                       IFCS
    49   A70B    A0    00                       LDY I,0                 ;OFF SCREEN
    50   A70A    02                             ENDIF
    51   A70D    B8    50    00                 ELSE
         A703    0C
    52   A710    7D  02A3                       ADC X,PARTIZ            ;VELOCITY
    53   A713    C9    10                       CMP I,10
    54   A715    B0    00                       IFCC
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 57+
PLAY-PROCESS BIG BOOM

    55   A717    A0    00                       LDY I,0                 ;OFF SCREEN
    56   A716    02                             ENDIF
    57   A70F    09                             ENDIF
    58   A719    9D  02A3                       STA X,PARTIZ
    59   A71C    98                             TYA
    60   A71D    9D  0283                       STA X,PARTIY
    61   A720    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 58
PLAY-PROCESS BIG BOOM

     1   A721                           DECPAR:
     2   A721    A9    FD                       LDA I,-3                ;VELOCITY=0 COUNTER
     3   A723    85    29                       STA TEMP0
     4   A725    BD  02C3                       LDA X,PARLXV
     5   A728    BC  0323                       LDY X,PARTXV
     6   A72B    20  A75D                       JSR DECELE              ;DECELERATE X VELO
     7   A72E    9D  02C3                       STA X,PARLXV
     8   A731    98                             TYA
     9   A732    9D  0323                       STA X,PARTXV
    10   A735    BD  02E3                       LDA X,PARLYV
    11   A738    BC  0343                       LDY X,PARTYV
    12   A73B    20  A75D                       JSR DECELE              ;DECELERATE Y VELO
    13   A73E    9D  02E3                       STA X,PARLYV
    14   A741    98                             TYA
    15   A742    9D  0343                       STA X,PARTYV
    16   A745    BD  0303                       LDA X,PARLZV
    17   A748    BC  0363                       LDY X,PARTZV
    18   A74B    20  A75D                       JSR DECELE              ;DECELERATE Z VELO
    19   A74E    9D  0303                       STA X,PARLZV
    20   A751    98                             TYA
    21   A752    9D  0363                       STA X,PARTZV
    22   A755    A5    29                       LDA TEMP0
    23   A757    D0    00                       IFEQ                    ;ALL 3 DIRECTIONS VELOCITY=0?
    24   A759    9D  0283                       STA X,PARTIY            ;YES. DEACTIVATE PARTICLE
    25   A758    03                             ENDIF
    26   A75C    60                             RTS
    27   A75D                           DECELE:
    28   A75D    84    2B                       STY TEMP2
    29   A75F    24    2B                       BIT TEMP2
    30   A761    30    00                       IFPL                    ;VELOCITY+ OR -?
    31   A763    38                             SEC                     ;+ SO ECELERATE BY SUBTRACTING
    32   A764    ED  A788                       SBC DECELO
    33   A767    85    2A                       STA TEMP1
    34   A769    A5    2B                       LDA TEMP2
    35   A76B    E9    00                       SBC I,0
    36   A76D    90    0F                       BCC HIT0                ;VELOCITY HIT 0? (BR IF YES)
    37   A76F    B8    50    00                 ELSE
         A762    0F
    38   A772    18                             CLC                     ;-, SO DECELERATE BY ADDING
    39   A773    6D  A788                       ADC DECELO
    40   A776    85    2A                       STA TEMP1
    41   A778    A5    2B                       LDA TEMP2
    42   A77A    69    00                       ADC I,0
    43   A77C    90    00                       IFCS                    ;VELOCITY HIT 0?
    44   A77E    E6    29               HIT0:   INC TEMP0               ;YES INCREMENT VELOCITY=0 COUNTER
    45   A780    A9    00                       LDA I,0                 ;
    46   A782    85    2A                       STA TEMP1
    47   A77D    06                             ENDIF
    48   A771    12                             ENDIF
    49   A784    A8                             TAY                     ;RETURN WITH NEW VELOCITY
    50   A785    A5    2A                       LDA TEMP1
    51   A787    60                             RTS
    52   A788    20                     DECELO: .BYTE 20
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 59
INITIALIZE PARTICLES

     1                                          .SBTTL  INITIALIZE PARTICLES
     2   A789                           INBOOM:
     3   A789    A2    0F                       LDX I,NPARTI-1
     4                                          BEGIN
     5   A78B    A9    00                       LDA I,0
     6   A78D    9D  0283                       STA X,PARTIY            ;DEACTIVATE PARTICLE
     7   A790    CA                             DEX
     8   A791    10    F8                       MIEND
     9   A793    A9    20                       LDA I,020               ;1/5 SECOND UNTIS
    10   A795    8D  010E                       STA BOOMTI
    11   A798    8D  010D                       STA BOOMFL              ;ACTIVATE BOOM
    12   A79B    A9    04                       LDA I,CDBOOM            ;BOOM DISPLAY STATE
    13   A79D    85    01                       STA QDSTATE
    14   A79F    A9    00                       LDA I,0
    15   A7A1    85    68                       STA ZADJL
    16   A7A3    85    69                       STA ZADJL+1
    17   A7A5    60                             RTS
    18                                          .SBTTL UTILITY - LINE LINE POLOR DELTA
    19                                  ;INPUT:	Y,ACC=LINE # FOR DETERMINATIN
    20                                  ;
    21                                  ;OUTPUT:ACC=# OF LINES ACC LINE IS FROM Y LINE IN
    22                                  ;	SHORTEST DIRECTION (-8 TO +7) (-MEANS CLOCKWISE)
    23                                  ;
    24   A7A6                           POLDEL:
    25   A7A6    84    2A                       STY TEMP1
    26   A7A8    38                             SEC
    27   A7A9    E5    2A                       SBC TEMP1
    28   A7AB    85    2A                       STA TEMP1
    29   A7AD    2C  0111                       BIT WELTYP
    30   A7B0    30    00                       IFPL                    ;PLANAR?
    31   A7B2    29    0F                       AND I,0F
    32   A7B4    2C  A7BC                       BIT A,EIGHT             ;NO.
    33   A7B7    F0    00                       IFNE                    ;TAKE SHORTEST ROUTE
    34   A7B9    09    F8                       ORA I,0F8
    35   A7B8    02                             ENDIF
    36   A7B1    09                             ENDIF
    37   A7BB    60                             RTS
    38   A7BC    08                     EIGHT:  .BYTE 8
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 60
UTILITY - LINE LINE POLOR DELTA

     1
     2                                          .SBTTL  INITIALIZE-PLANES OF STARS
     3
     4   A7BD                           INSTAR:
     5   A7BD    A2    07                       LDX I,NPLANE-1
     6   A7BF    A9    00                       LDA I,0
     7                                          BEGIN                   ;DEACTIVATE ALL PLANES
     8   A7C1    9D  03FE                       STA X,PLANEY
     9   A7C4    CA                             DEX
    10   A7C5    10    FA                       MIEND
    11   A7C7    A9    F0                       LDA I,0F0
    12   A7C9    8D  0405                       STA PLANEY+NPLANE-1     ;ACTIVATE LAST PLANE FAR AWAY
    13   A7CC    A9    FF                       LDA I,0FF
    14   A7CE    8D  0115                       STA PLAGRO              ;SET STAR FIELD GROWING FLAG
    15   A7D1    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 61
PLAY-PROCESS PLANES OF STARS

     1                                          .SBTTL  PLAY-PROCESS PLANES OF STARS
     2                                  ;INPUT:IF PLAGRO IS-,THEN STAR FIELD IS STILL GROWING
     3                                  ;      IF PLAGRO IS 0,THEN STAR FIELD IS DEACTIVATED
     4                                  ;OUTPUT:IF PLAGRO IS 0,THEN STAR FIELD IS COMPLETELY DEAD
     5   A7D2    AD  0115               PRSTAR: LDA PLAGRO              ;STAR FIELD ACTIVE?
     6   A7D5    F0    00                       IFNE
     7   A7D7    A9    00                       LDA I,0                 ;YES. PROCESS PLANES
     8   A7D9    85    29                       STA TEMP0               ;CLEAR COUNT OF ACTIVE PLANES
     9   A7DB    A2    07                       LDX I,NPLANE-1
    10   A7DD    86    37                       STX INDEX1
    11                                          BEGIN                   ;LOOP FOR EACH PLANE
    12   A7DF    A6    37                       LDX INDEX1
    13   A7E1    BD  03FE                       LDA X,PLANEY
    14   A7E4    F0    00                       IFNE                    ;PLANE ACTIVE?
    15   A7E6    38                             SEC                     ;YES.
    16   A7E7    E9    07                       SBC I,07                ;UPDATE PLANE POSITION
    17   A7E9    90    00                       IFCS
    18   A7EB    C9    10                       CMP I,10
    19   A7EA    02                             ENDIF
    20   A7ED    B0    00                       IFCC                    ;TOO CLOSE?
    21   A7EF    AC  0115                       LDY PLAGRO              ;YES
    22   A7F2    10    00                       IFMI                    ;STILL GROWING?
    23   A7F4    A9    F0                       LDA I,0F0               ;YES. START AT FARTHEST POINT
    24   A7F6    B8    50    00                 ELSE
         A7F3    05
    25   A7F9    A9    00                       LDA I,0                 ;NO. DEACTIVATE
    26   A7F8    02                             ENDIF
    27   A7EE    0C                             ENDIF
    28   A7FB    B8    50    00                 ELSE
         A7E5    18
    29   A7FE    AC  0115                       LDY PLAGRO              ;NO. STILL GROWING?
    30   A801    10    00                       IFMI
    31   A803    8A                             TXA                     ;YES.
    32   A804    18                             CLC
    33   A805    69    01                       ADC I,1                 ;GET INDEX OF PREVIOUS PLANE
    34   A807    C9    08                       CMP I,NPLANE
    35   A809    90    00                       IFCS
    36   A80B    A9    00                       LDA I,0
    37   A80A    02                             ENDIF
    38   A80D    A8                             TAY
    39   A80E    B9  03FE                       LDA Y,PLANEY            ;PREVIOUS PLANE ACTIVE?
    40   A811    F0    00                       IFNE
    41   A813    C9    D5                       CMP I,0D5               ;YES.
    42   A815    B0    00                       IFCC                    ;IS PREVIOUS PLANE CLOSE ENOUGH?
    43   A817    A9    F0                       LDA I,0F0               ;YES. START NEW PLANE
    44   A819    B8    50    00                 ELSE
         A816    05
    45   A81C    A9    00                       LDA I,0                 ;NO. STILL INACTIVE
    46   A81B    02                             ENDIF
    47   A812    0B                             ENDIF
    48   A802    1B                             ENDIF
    49   A7FD    20                             ENDIF
    50   A81E    9D  03FE                       STA X,PLANEY
    51   A821    05    29                       ORA TEMP0
    52   A823    85    29                       STA TEMP0
    53   A825    C6    37                       DEC INDEX1
    54   A827    10    B6                       MIEND
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 61+
PLAY-PROCESS PLANES OF STARS

    55   A829    A5    29                       LDA TEMP0
    56   A82B    D0    00                       IFEQ
    57   A82D    8D  0115                       STA PLAGRO
    58   A82C    03                             ENDIF
    59   A7D6    59                             ENDIF
    60   A830    60                             RTS
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 62
PLAY-PROCESS PLANES OF STARS

     1
     2                                          .SBTTL INITIALIZE SUPER ZAP
     3         0002                     CSUMAX=2
     4         0001                     CSUINT=1
     5         0003                     CSUSTA=3
     6   A831                           INISUZ:
     7   A831    A9    00                       LDA I,0                 ;SET SUPZAP USE COUNTER AND TIMER TO 0.
     8   A833    8D  03AA                       STA SUZCNT
     9   A836    8D  0125                       STA SUZTIM
    10   A839    60                             RTS
    11                                          .SBTTL PROCESS SUPER ZAPPER
    12   A83A                           PROSUZ:
    13   A83A    A5    05                       LDA QSTATUS
    14   A83C    10    00                       IFMI                    ;ATTRACT?
    15   A83E    AD  0125                       LDA SUZTIM              ;NO
    16   A841    D0    00                       IFEQ                    ;ZAP ACTIVE?
    17   A843    AD  0201                       LDA CURSL2              ;NO.
    18   A846    30    00                       IFPL                    ;CURSOR ALIVE?
    19   A848    A5    4E                       LDA SWFINA              ;YES
    20   A84A    29    08                       AND I,MSUZA
    21   A84C    F0    00                       IFNE                    ;ZAP PRESSED?
    22   A84E    AD  03AA                       LDA SUZCNT              ;YES.
    23   A851    C9    02                       CMP I,CSUMAX
    24   A853    B0    00                       IFCC                    ;ZAPS LEFT?
    25   A855    EE  03AA                       INC SUZCNT              ;YES. UPDATE ZAP COUNTER
    26   A858    A9    01                       LDA I,1
    27   A85A    8D  0125                       STA SUZTIM              ;START ZAP TIMER
    28
    29   A854    08                             ENDIF
    30   A85D    A5    4E                       LDA SWFINA
    31   A85F    29    77                       AND I,^C<MSUZA!MFAKE>
    32   A861    85    4E                       STA SWFINA
    33   A84D    15                             ENDIF
    34   A847    1B                             ENDIF
    35   A863    B8    50    00                 ELSE
         A842    23
    36   A866    EE  0125                       INC SUZTIM              ;YES. ZAP ACTIVE
    37   A869    AE  03AA                       LDX SUZCNT
    38   A86C    AD  0125                       LDA SUZTIM
    39   A86F    DD  A883                       CMP X,TIMAX
    40   A872    90    00                       IFCS                    ;ZAP TIMER EXPIRED?
    41   A874    A9    00                       LDA I,0
    42   A876    8D  0125                       STA SUZTIM              ;YES. DEACTIVATE ZAP
    43   A873    05                             ENDIF
    44   A879    20  A888                       JSR KILENE              ;WIPE OUT INVADERS & CHARGES
    45   A865    16                             ENDIF
    46   A83D    3E                             ENDIF
    47   A87C    A5    4E                       LDA SWFINA
    48   A87E    29    7F                       AND I,^CMFAKE
    49   A880    85    4E                       STA SWFINA              ;CLEAR "SWITCH NOT PROCESSED" FLAG
    50   A882    60                             RTS
    51
    52   A883    00    13    05    00   TIMAX:  .BYTE 0,CSUSTA+<8*<CSUINT+1>>,CSUSTA+<1*<CSUINT+1>>,0,0
         A887    00
    53
    54                                          .SBTTL SUPER ZAP-WIPE OUT ENEMY
    55   A888    AD  0125               KILENE: LDA SUZTIM
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 62+
SUPER ZAP-WIPE OUT ENEMY

    56   A88B    C9    03                       CMP I,CSUSTA
    57   A88D    90    00                       IFCS
    58   A88F    29    01                       AND I,CSUINT
    59   A891    D0    00                       IFEQ                    ;TIME FOR ANOTHER WIPE OUT?
    60
    61   A893    AC  011C                       LDY WINVMX              ;YES.
    62
    63                                          BEGIN                   ;LOOP THRU INVADERS
    64
    65   A896    B9  02DF                       LDA Y,INVAY
    66   A899    D0    09                       BNE EXIKIL              ;SPECIAL EXIT FOR 1ST LIVE ONE
    67   A89B    88                             DEY                     ;EXIT LOOP IF ALL ARE DEACTIVE
    68   A89C    10    F8                       MIEND
    69   A89E    A9    00                       LDA I,0                 ;ALL ARE DEAD. DEACTIVATE ZAP
    70   A8A0    8D  0125                       STA SUZTIM
    71   A892    10                             ENDIF
    72   A88E    14                             ENDIF
    73   A8A3    60                             RTS
    74
    75   A8A4                           EXIKIL:
    76   A8A4    B9  028A                       LDA Y,INVAC2            ;MAKE SURE IT'S NOT A CARRIER
    77   A8A7    29    FC                       AND I,^C<INVCAR>
    78   A8A9    99  028A                       STA Y,INVAC2
    79   A8AC    4C  A398                       JMP INCISQ              ;START EXPLOSION
    80   A8AF    00G                    CHKSM5::        .BYTE QCHKS5
    81                                          HLL65
    82         0001'                            .END
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 62+
SYMBOL TABLE

ACTINV  994D   		ACTIP   03AA   		ALLPOT= 60C8   		ALLPO2= 60D8   		ANALYZ  A504
ASTRAL  A028   		ATOP    9C7D   		AUDCTL= 60C8   		AUDC1 = 60C1   		AUDC2 = 60D1
AUDF1 = 60C0   		AUDF2 = 60D0   		AUD2CT= 60D8   		AUTOCU  97C5   		AVOIDR  A17E
AVOID1  A181   		AVOID2  A189   		BFACTR  0078   		BINSCA  005A   		BLIFIN  0156
BLUE  = 0006   		BLULET= 0007   		BOFLAS  0124   		BONPTH= 91C7   		BONPTM  91C6
BONSCO  91B5  G		BONUS   0102   		BOOKKE  0412   		BOOKKS  0406   		BOOMFL  010D
BOOMTI  010E   		BUFACT  0415   		BUFRDY  0054   		CALSAN  9ED7   		CAM     A0F7
CAMPC   010B   		CAMSTA  010C   		CAMWAV  95F4   		CBOOM = 0024   		CBUF1 = 0078
CCEXPL= ****  G		CCTYPE= 0000   		CDBOOM= 0004   		CDBOXP= 0012   		CDGETI= 0006
CDGOVR= 000C   		CDHITB= 000A   		CDLADR= 0014   		CDLOGP= 0014   		CDPLAY= 0000
CDPLPL= 000E   		CDPRST= 0010   		CDREQR= 0008   		CDROP = 0020   		CDSYST= 0002
CD2GAM= 0016   		CENDGA= 0008   		CENDLI= 0006   		CENDWA= 000E   		CFTYPE= 0002
CGETIN= 0012   		CHACHA  00A7   		CHACOU  0135   		CHAINV  00A8   		CHANCE  A304
CHARCO  02F2   		CHARL1  02AD   		CHARL2  02C0   		CHARY   02D3   		CHARYL  02E6
CHASER  9D06   		CHATOP  A1E4   		CHISCH= 0010   		CHKSM2  9008  G		CHKSM3  9D05  G
CHKSM4  A462  G		CHKSM5  A8AF  G		CIEXPL= ****  G		CINIRA= 001C   		CITYPE= 0000
CLOGO = 001A   		CLRPOT  92AD   		CNEWAV= 000C   		CNEWGA= 0000   		CNEWLI= 0002
CNEWV2= 0018   		CNOTFO= 0014   		CNWLF2= 001E   		COCKTA= 0010   		COCTAL  0117
COLCHK  A463   		COLLIS  A454   		COLOR   009E   		COLPOR= 0800   		COLRAM  0019
CONTOU  92C5   		CONYMP  9923   		COWJMP  A14B   		COWJM2  A14A   		COWJM3  A152
CPAUSE= 000A   		CPEXPL= ****  G		CPLAY = 0004   		CPSPXI= ****  G		CPTYPE= 0001
CREQRA= 0016   		CSUINT= 0001   		CSUMAX= 0002   		CSUSTA= 0003   		CSYSTM= 0022
CURCOL= 0001   		CURMOD  0106   		CURNTX  006A   		CURNTY  006C   		CURSL1  0200
CURSL2  0201   		CURSPO  0051   		CURSVH  0105   		CURSVL  0104   		CURSY   0202
CURSYL  0107   		CURWAV  009F   		DBSW    004C   		DEADCU  A352   		DECELE  A75D
DECELO  A788   		DECPAR  A721   		DEPCOL= 0006   		DONEXT  9683   		DOTA    96E2
DOTB    96DB   		DOTR    9700   		DOTYPE  9677   		DOTZAN  96AB   		D70MSK= ****  G
EACTL = 6040   		EADAL = 6000   		EAIN  = 6050   		EIGHT   A7BC   		ELICNT  0123
EMCTRS= 0003   		ENSIZE  0151   		ESHCOU  00A6   		ESLSON= ****  G		EXICAM  010A
EXIKIL  A8A4   		EXL     005E   		EXPCOL= 0000   		EXPCOU  0116   		EXPLOL  02FA
EXPLOS  0312   		EXPLOT  0302   		EXPLOY  030A   		EXSNON= ****  G		EYEFAC  0065
EYH     005B   		EYL     005F   		EYLDES  005D   		EYLL    005C   		EZL     0060
FARY    014E   		FBLUE = 000B   		FGREEN= 0007   		FIREIC  A2A6   		FIREPC  A23F
FIXTOP  A69B   		FLASH = 000F   		FLGNHI  0603   		FLICOL= 0003   		FLIPCO  0142
FPSPXI= ****  G		FRED  = 000C   		FRTIMR  0053   		FUCHPL  9F81   		FUSECO  0146
FUSELR  A15D   		FUSEUP  A158   		FUSLOP  A160   		GAMOP1  071E   		GAMOP3  071F
GENEXP  A3D4   		GENEX2  A3D6   		GETCUR= ****  G		GEXIFU  A3CA   		GOTCHA  9D54
GOTEXP  A3FA   		GOTJUM  9F99   		GREEN = 0005   		HARDWA= 6000   		HIRATE  0127
HIT0    A77E   		HIWAVE  0126   		HRANKH= 0620   		HRANKL  061E   		HRANKM= 061F
HRED  = 000D   		HSCORH= 0708   		HSCORL= 0706   		HSCORM= 0707   		ICHCOL= 0000
ILINDD= 00F0   		ILINLI= 0010   		INBOOM  A789  G		INCCOU  0109   		INCCSQ  A36F
INCFS2  A309   		INCISQ  A398   		INCIS2  A38E   		INCPSQ  A34B   		INCP2   A34D
INDEX1  0037   		INDEX2  0038   		INDEX3  0039   		INDEX4  003A   		INDROP  A5CB
INDYHI  003C   		INDYLO  003B   		INEWAV  9009  G		INEWLI  9025  G		INFPSQ  A343
INICHA  928F   		INICOL= ****  G		INICUR  921B   		INIDSP= ****  G		INIENE  9234
INIEXP  929F   		INIINV  926F   		ININDX  0604   		ININYM  9246   		INIOBJ  902B
INIPSQ  A33A   		INIRAT  9108  G		INIRA0  90C4  G		INISUZ  A831   		INITAL  0606
INMCOU  0108   		INOP0 = 0D00   		INOP1 = 0E00   		INPPSQ  A347   		INPUT   004A
INSTAR  A7BD   		INTACK= 5000   		INTENS  0098   		INTIME  0128   		INVABI= 0007
INVACT  02A6   		INVAC1  0283   		INVAC2  028A   		INVAL1  02B9   		INVAL2  02CC
INVAY   02DF   		INVAYL  029F   		INVCAM  0291   		INVCAR= 0003   		INVCOL= 0003
INVDIR= 0080   		INVFIR= 0040   		INVLOO  0298   		INVMOT= 0080   		INVPIN  A3C5
INVROT= 0040   		INVSEQ= 0018   		IN1   = 0C00   		IPEXPL= ****  G		IPTYPE= 0005
ITMIZE  96B7   		ITMIZ2  96B9   		JBR0PC  9BFA   		JCHKPU  9C3B   		JCHPLA  9D67
JCHROT  9C4F   		JELOOP  9C0C   		JELTST  9C21   		JEXIT   9BCA   		JFUSEU  9EF1
JFUSKI  9E48   		JJUMPM  9D82   		JJUMPS  9E5C   		JKITST  9E2F   		JNOOP   9BCF
JPULMO  9CB6   		JSETPC  9C17   		JSKIP0  9BEE   		JSLOOP  9BD0   		JSLOPB  9BDD
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 62+
SYMBOL TABLE

JSMOVD  9C99   		JSMOVE  9C58   		JSMOVU  9C63   		JSRCAM  9B98   		JSTRAI  9FC4
JUMPSD  9E5F   		KICHEK  A13B   		KILENE  A888   		KILINV  A06F   		KJULP1  A140
KJULP2  A143   		LEDOFF= 0003   		LEFRIT  9F8A   		LEFSID  007B   		LETCOL= 0005
LEVEL   91FE  G		LEVELE  921A   		LEVELY  010F   		LIFECT  A1FA   		LIFSXH  035A
LIFSXL  036A   		LIFSZH  037A   		LIFSZL  038A   		LINANG  03EE   		LINER   A5B5
LINEX   03CE   		LINEXM  0435   		LINEY   03AC   		LINEZ   03DE   		LINEZM  0445
LINSCA  0059   		LINSTA  039A   		LINSXH  031A   		LINSXL  032A   		LINSZH  033A
LINSZL  034A   		LITRAL  00AC   		LIVES1  0048   		LIVES2  0049   		LSCORH  0042
LSCORL  0040   		LSCORM  0041   		LVSGAM  0158   		MAH   = 6081   		MAL   = 6080
MATRAC= 0080   		MAYBLR  9F5F   		MBH   = 6083   		MBL   = 6082   		MBSTAR= 6080
MCOINC= 0002   		MCOINL= 0004   		MCOINR= 0001   		MDITES= 0020   		MDYPL = 6098
MECHS = 0003   		MEH   = 6085   		MEL   = 6084   		MFAKE = 0080   		MFH   = 6087
MFIRE = 0010   		MFL   = 6086   		MFLIP = 0004   		MGTMOD= 0040   		MHALT = 0040
MJLOP1  A104   		MJLOP5  A109   		MLCCNT= 0004   		MLED1 = 0002   		MLED2 = 0001
MMCCNT= 0002   		MNL   = 608C   		MOPTI4= 0020   		MOPT13= 0007   		MOVCHA  A18F
MOVCUD  97F8   		MOVCUR  9749  G		MOVER   A088   		MOVINV  9B1E   		MOVJMP  A102
MOVNYM  98A2   		MRCCNT= 0001   		MSTAT = 6040   		MSTRT1= 0020   		MSTRT2= 0040
MSUZA = 0008   		MSZXD = 6094   		MTEMP   0031   		MTEST = 0010   		MVINVX= 0008
MVINVY= 0010   		MXH   = 6089   		MXL   = 6088   		MXPH  = 6096   		MXPL  = 6095
MYHIGH= 6070   		MYLOW = 6060   		MZHH  = 6090   		MZHL  = 608F   		MZLH  = 608E
MZLL  = 608D   		M3KHTI= 0080   		NCHARG= 000C   		NEARY   014D   		NEGPUL  9B8C
NEOFLI  014F   		NEWAIT  00A3   		NEWAV2  904B  G		NEWFLI  9A9D   		NEWFUS  9AB3
NEWGEN  9AEE   		NEWGN2  9AF1   		NEWGN3  9AF6   		NEWPLA  003F   		NEWPUL  9AA9
NEWSPI  9AB7   		NEWTAN  9ABB   		NEWTYP  9A87   		NEWTY2  9A88   		NEXPLO= 0008
NGAMES  0100   		NGAME0  040E   		NGAMIH  040D   		NGAMIL  040C   		NGAM2H  0410
NGAM2L  040F   		NGAM20  0411   		NGAVGH  0413   		NGAVGL  0412   		NGAVGZ  0414
NHISCO= 0008   		NICHAR= 0004   		NINVAD= 0007   		NITMIZ  96CB   		NLINES= 0010
NNYMPH= 0040   		NOCOL   A4E9   		NOJUMP  A0FE   		NPARAD  969D   		NPARTI= 0010
NPCHAR= 0008   		NPLANE= 0008   		NPLAYR  0101   		NRANKS= 0063   		NROMS = 000C
NUMPLA  003E   		NWNYMC  015B   		NWTELI  015A   		NYMCHA  99A5   		NYMCOL= 000C
NYMCOU  03AB   		NYMPL   0203   		NYMPY   0243   		NYMTAD  9A93   		OBJIND  0055
OCURSL  00A5   		OFRTIM  00A4   		OKATOP  A4DA   		OKTOJM  9EAB   		OLDLHI  00AB
OLDLLO  00AA   		OLOFLI  0150   		OM2GAM= 0001   		ONEBYT  96C8   		OPFLIP  013D
OPFUSE  0141   		OPPULS  013E   		OPSPIN  0140   		OPTANK  013F   		OPTIN1  0009
OPTIN2  000A   		OPTIN3  016A   		OTB     0052   		OUTANK= 60E0   		OUT0  = 4000
PARLIX  0203   		PARLIY  0223   		PARLIZ  0243   		PARLXA= 0020   		PARLXV  02C3
PARLYA= 0020   		PARLYV  02E3   		PARLZA= 0020   		PARLZV  0303   		PARTIX  0263
PARTIY  0283   		PARTIZ  02A3   		PARTXA= 0000   		PARTXV  0323   		PARTYA= 0000
PARTYV  0343   		PARTZA= 0000   		PARTZV  0363   		PC    = 0014   		PCHCOL= 0001
PCVELO= 0009   		PDIRED= 000B   		PDIWHI= 0009   		PDIYEL= 000A   		PLAGRO  0115
PLANEY  03FE   		PLAY    970B  G		PLAYUP  003D   		PLDROP  9729  G		PN    = 0028
POKEY = 60C0   		POKEY2= 60D0   		POLDEL  A7A6   		POTGO = 60CB   		POTGO2= 60DB
PPSPXI= ****  G		PRBOOM  A618  G		PROEXP  A416   		PROG  = 9000   		PRORAT  9149  G
PROSUZ  A83A   		PRSTAR  A7D2  G		PSCALE  016B   		PSHCTR= 0008   		PUCHDE  00B2
PULPOT  0157   		PULSCH  A169   		PULSCJ  A178   		PULSCO  0143   		PULSCP  A169
PULSC1  A16B   		PULSC2  A16F   		PULSC3  A176   		PULSON  0148   		PULSTO= ****  G
PULSTR= ****  G		PULTIM  0147   		PULVEL= FEA0   		PURPLE= 0002   		PXL     0056
PYL     0057   		PZL     0058   		QCHKS2= ****  G		QCHKS3= ****  G		QCHKS4= ****  G
QCHKS5= ****  G		QDSTAT  0001   		QFRAME  0003   		QNXTST  0002   		QSTATE  0000
QSTATU  0005   		QTMPAU  0004   		QT1     00B5   		QT2     016C   		QT3     0455
QT4     0720   		QT5     011F   		QT6     011B   		QUASEC= 0005   		RANDOM= 60CA
RANDO2= 60DA   		RANGER  96F4   		RANKS   0600   		RED   = 0003   		REVFLP  9FB4
RITSID  007C   		ROMSTA= 3000   		ROTDIS  0114   		ROTFLG  0113   		RSCORH  0045
RSCORL  0043   		RSCORM  0044   		RUNGVG  00B0   		SAMALL  96C4   		SAVEND  03CE
SAVEP   03BC   		SAVEX   0035   		SAVEY   0036   		SBOING= ****  G		SCFL    0079
SECOND= 0014   		SECOPH  040B   		SECOPL  0409   		SECOPM  040A   		SECOUH  0408
SECOUL  0406   		SECOUM  0407   		SECUVG  00B6   		SECUVY  016E   		SELICO= ****  G
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 62+
SYMBOL TABLE

SKCTL = 60CF   		SKCTL2= 60DF   		SKIPIT  A04F   		SLAUNC= ****  G		SOUTS2= ****  G
SOUTS3= ****  G		SPACG = 0000   		SPARAD  968F   		SPARE3  0133   		SPBINA  013A
SPFTIM  013C   		SPILOP  A113   		SPINCO  0145   		SPIRAL  A110   		SPIRCH  A11B
SPLCHA  9B07   		SPLINE  0139   		SPOKST  0425   		SPRLP1  A11F   		SPRLP2  A120
SPRLP3  A12C   		SPRLP4  A12D   		SPXIND  013B   		SUBCOU  0099   		SUZCNT  03AA
SUZTIM  0125   		SVGLIS  0076   		SWAPEN  92B2  G		SWFINA  004E   		SWRELE  004F
SWSTAT  004D   		SWSTRT  004D   		SXH     0062   		SXL     0061   		SYM   = 6092
SZH     0064   		SZL     0063   		S1    = A88D   		S10   = A2DC   		S2    = A891
S3    = A896   		S3SWAR= ****  G		S4    = A84C   		S5    = A853   		S6    = A81A
S7    = A815   		S8    = A4B9   		S9    = A2D9   		TA    = 0008   		TABJSE  9BCA
TABJSR  9BA2   		TANCOL= 0002   		TANKCO  0144   		TB    = 000A   		TBHD    0050
TBLIND  0602   		TCHAMX  9407   		TCHARF  93FA   		TCHARI  9449   		TCMFLG  00A2
TE    = 0000   		TELIHI  959C   		TEMPL   002A   		TEMPX   002E   		TEMPY   002F
TEMPZ   0030   		TEMP0   0029   		TEMP1   002A   		TEMP2   002B   		TEMP3   002C
TEMP4   002D   		TEXINC  A44E   		TEXIT   9319   		TEXPDN  A448   		TFUFRQ  9587
TIMAX   A883   		TIMES8  93E0   		TIMHIS  0605   		TIMLAU  A65B   		TINVIN  941B
TINVMX  9598   		TNEWCA  9AFD   		TNEWI2  9B02   		TNKOUT  00A1   		TNYMMX  95B3
TOPPER  A139   		TOUT0   00B4   		TPUCHD  9563   		TR    = 000C   		TRACOL= 0005
TRALUP  A0F7   		TSLAMR  000B   		TSPIIN  944D   		TURQOI= 0004   		TWFUSC  9578
TWOBYT  96C7   		TWPULF  95EF   		TWTTFR  95E3   		TYPCOD  015E   		TZ    = 0004
TZANDF= 0006   		T1    = 0002   		UNITXH  009B   		UNITXL  009A   		UNITZH  009D
UNITZL  009C   		UPARPO  A6A9   		UPSCOR= ****  G		VECRAM= 2000   		VGBRIT  0073
VGLIST  0074   		VGSIZE  0072   		VGSTAR= 4800   		VGSTOP= 5800   		VGY     00A9
WAVEN1  0046   		WAVEN2  0047   		WCHAMX  011A   		WCHARF  0119   		WCHARI  0118
WCHARL  0120   		WELCOL= 0006   		WELLID  0112   		WELTYP  0111   		WFLICA  015D
WFLIMI  94CD   		WFLIMX  94D6   		WFLMAX  012E   		WFLMIN  0129   		WFUFRQ  015F
WFUMAX  0132   		WFUMIN  012D   		WFUSCH  0159   		WFUSIH= 0169   		WFUSIL= 0164
WFUSMI  9541   		WFUSMX  954E   		WHITE = 0000   		WINVIL  0160   		WINVIN  0165
WINVJM  011D   		WINVMX  011C   		WNYMMX  011E   		WPULCA  015C   		WPULFI  016D
WPULMI  9520   		WPULMX  9529   		WPULPO  945D   		WPULTI  9469   		WPUMAX  012F
WPUMIN  012A   		WSPIMI  9489   		WSPIMX  94A5   		WSPMAX  0131   		WSPMIN  012C
WTABEN  9677   		WTABLE  9607   		WTACAR  0149   		WTAMAX  0130   		WTAMIN  012B
WTANMI  94EB   		WTANMX  9503   		WTCHDG= 5000   		WTFMAX  0136   		WTTFRA  00B3
WWTAC2  9475   		WWTAC3  9481   		XADJL   0066   		XCOMP   006E   		X0H     0080
X0L     0078   		X1H     0081   		X1L     0079   		X2H     0082   		X2L     007A
X3H     0083   		X3L     007B   		X4H     0084   		X4L     007C   		X5H     0085
X5L     007D   		X6H     0086   		X6L     007E   		X7H     0087   		X7L     007F
YCOMP = 0070   		YDEUNI  00A0   		YELLOW= 0001   		YESCOL  A4E2   		ZABFLI= 0000
ZABFUS= 0004   		ZABPUL= 0001   		ZABTAN= 0002   		ZABTRA= 0003   		ZADEST  0121
ZADJL   0068   		ZAPCOL= 0000   		ZBLACK= 000F   		ZBLUE = 000B   		ZCARFL= 0001
ZCARFU= 0003   		ZCARNO= 0000   		ZCARPU= 0002   		ZDIRDO= 0080   		ZDIRUP= 0000
ZEASY = 0001   		ZFIRNO= 0000   		ZFIRYE= 0040   		ZGREEN= 0007   		ZHARD = 0002
ZMOTJM= 0080   		ZMOTMO= 0000   		ZPNLOC  00AE   		ZPOFFS  00AF   		ZPURPL= 0008
ZQVAVG  A581  G		ZRED  = 000C   		ZROCCW= 0040   		ZROTCW= 0000   		ZTURQO= 0003
ZWHITE= 0000   		ZYELLO= 0004   		Z0H     0090   		Z0L     0088   		Z1H     0091
Z1L     0089   		Z2H     0092   		Z2L     008A   		Z3H     0093   		Z3L     008B
Z4H     0094   		Z4L     008C   		Z5H     0095   		Z5L     008D   		Z6H     0096
Z6L     008E   		Z7H     0097   		Z7L     008F   		$BC     0018   		$BCCNT  0016
$CCTIM  0013   		$CMODE  0009   		$CNCT   0017   		$CNSTT  000D   		$COINA  0008
$INTCT  0007   		$LAM    0008   		$LMBIT= 0008   		$LMTIM  000C   		$PSTSL  0010
$TEST   0008   		$$CRDT  0006   		.Z.   = 0002   		...RD = 0010   		...T  = A8A3
...X  = 0000
. ABS.	A8B0	  00
      	0000	  01
ERRORS DETECTED: 0
FREE CORE: 11223. WORDS

OBJ:ALWELG,OBJ:ALWELG.LST=ALWELG

(OBJ:ALWELG.OBJ,OBJ:ALWELG.LST=DK1:ALWELG)
ALWELG-ALIENS WELL GAME MAINLIN	ATARI MAC65 VM03.09  00:01:14 PAGE 62+
SYMBOL TABLE


A TOTAL OF 14,432 STATEMENTS WERE PROCESSED.

CPU TIME -  00:00:00.5     I/O TIME -  00:00:00.0

                                                                                                                                                                                                                                                                                                                                                                                                                         