ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15
TABLE OF CONTENTS

   1-  2 ******************************************
   1-  3 *					*
   1-  4 *MODULE:		ALDISP			*
   1-  5 *PROGRAMMER:	DAVE THEURER		*
   1-  6 *FUNCTION:	ALIENS DISPLAY FUNCTIONS*
   1-  7 *					*
   1-  8 ******************************************
   1- 12 **************************************************
   1- 13 *						*
   1- 14 *MODULE:		ALCOMN				*
   1- 15 *PROGRAMMER:	DAVE THEURER			*
   1- 16 *FUNCTION:	ALIENS CONSTANTS AND VARIABLES	*
   1- 17 *		TO BE .INCLUDED IN:		*
   1- 18 *		    ALGAME,ALDISP,ALHARD	*
   1- 19 *						*
   1- 20	COPYRIGHT 1980 ATARI, INC.  UNAUTHORIZED REPRODUCTION,
   1- 21	ADAPTION, DISTRIBUTION, PERFORMANCE OR DISPLAY OF THIS
   1- 22	COMPUTER PROGRAM OR THE ASSOCIATED AUDIOVISUAL WORK IS
   1- 23	STRICTLY PROHIBITED.
   1- 24 **************************************************
   2-  4 CONSTANTS-COUNTS
   2- 25 CONSTANTS-STATE CODES
   4-  1 CONSTANTS-PICTURES
   4- 22	BOOM
   6-  1	HARDWARE DEFINITIONS
   7-  1 VARIABLES-CONTROL
   8-  1 VARIABLES-WORK
   8- 22 VARIABLES-PLAYERS
   8- 41 VARIABLES-SWITCHES
   9-  1 VARIABLES-DISPLAY
  11- 25	VARIABLES - PLAY
  12-  1	CONSTANTS-COUNTS
  12- 12	CONSTANTS-PLAYFIELD
  12- 17	VARIABLES-OBJECT COUNTERS
  13-  1	VARIABLES-OBJECT LOCATION + STATUS
  13-137	VARIABLES - PAGE 1
  17-  1 GLOBALS
  17- 23 DISPLAY-MAINLINE
  20-  1 DISPLAY STATE EXECUTOR
  21-  1	DISPLAY-GAME PLAY MAINLINE
  22-  1	BUFFER CONTROL
  23-  1 DISPLAY-WELL
  24-  2	DISPLAY-SPOKE COLORS
  24-  4	DISPLAY-SPOKE PULSE STATUS
  25-  1	DISPLAY-NYMPHS
  27-  1	DISPLAY-CURSOR
  28-  1	DISPLAY-INVADERS (MAINLINE)
  29-  2	DISPLAY - INVADERS PICS
  29- 16	DISPLAY - FLIPPERS
  29- 35	DISPLAY - TANKERS
  29- 46	DISPLAY - INVADERS (DRAW TRAILER)
  29- 59	DISPLAY-INVADERS (DRAW JUMP INVADER)
  29-103	TABLE-WORLD COORD OFFSETS (X,Z) FOR JUMPERS
  31-  2	DISPLAY-INVADE FUSE PICTURE
  32-  1	DISPLAY-PULSAR PIC
  33-  1	DISPLAY-CHARGES
  34-  1	DISPLAY-EXPLOSIONS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15
TABLE OF CONTENTS

  36-  1	SPECIAL EXPLOSION CONTROL
  37-  1	SPECIAL EXPLOSION DATABASE
  38-  1	SPECIAL EXPLOSION FUNCTION
  39-  1	SPECIAL EXPLOSION SUBROUTINE
  40-  2	DISPLAY BIG BOOM
  41-  2	TABLES-WELL COORDINATES(WORLD)
  43-  2 UTILITY - DISPLAY PIC BETWEEN PTS.
  44-  1 UTILITY - DERIVE BINARY AND LINEAR SCALE FACTORS GIVEN DEPTH
  45-  1 UTILITY-DRAW OBJECT BETWEEN POINTS
  46-  1 PICTURES
  48-  1 UTILITY: PROJECT POINT ONTO SCREEN
  49-  1 INITIALIZE DISPLAY
  50-  1	COLORS
  51-  1	INITIALIZE-GRID LINES
  52-  1	INITIALIZE WELL
  53-  2	UTILITY-BUILD WELL DISPLAY BUFFER
  53- 25	UTILITY-BUILD WELL PIAC
  53- 46	DISPLAY-WELL RIM
  53- 97	UTILITY-CONNECT CURRENT PT. WITH NEXT POINT
  53-128	DISPLAY-DRAW 2 SPOKES
  54-  2	CHECK FOR EYE PAST OBJECT ON WELL
  55-  1	UTILITY-PROJECT OUTLINE
  56-  1	UTILITY-DRAW WELL SHAPE
  57-  1	DISPLAY STAR FIELD
  57- 18	DISPLAY-PLANES OF STARS
  58-  2	DISPLAY - ENEMY LINES
  58-102	DISPLAY - ENEMY LINES (INITIAL FIXED VG CODES)
  58-139	UTILITY - QUICK BLANK VECTOR FROM SX,SZ
  58-163	DISPLAY - ENEMY LINES (TIP STUFF)
  58-234	DISPLAY UTILITY - FAST CONNECT
  59-  1	UTILITY - VG ABS POS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 1


     1                                  .TITLE ALDISP - ALIENS DISPLAY FUNCTIONS
     2                                          .SBTTL ******************************************
     3                                          .SBTTL *                                        *
     4                                          .SBTTL *MODULE:         ALDISP                  *
     5                                          .SBTTL *PROGRAMMER:     DAVE THEURER            *
     6                                          .SBTTL *FUNCTION:       ALIENS DISPLAY FUNCTIONS*
     7                                          .SBTTL *                                        *
     8                                          .SBTTL ******************************************
     9
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 17
GLOBALS

     1                                          .SBTTL GLOBALS
     2                                                                  ;ENTRY POINTS
     3                                          .GLOBL VGADD,VGJSRL,VGVCTR,GETDSP,LDRDSP,VGCNTR,SWAPVG,VGDOT
     4                                          .GLOBL VGADD2,VGHEXZ,DISPLA,VGHALT,INIDSP,JSRDOT,VGADD3
     5                                          .GLOBL DPRSTA,D2GAME
     6                                          .GLOBL INFO,RQRDSP,DSPHOL
     7                                          .GLOBL VGRTSL,DGOVER,DPLPLA,PICLO,PICHI
     8                                          .GLOBL INITEM,VGYABS,VGYAB1,INICOL
     9                                                                  ;TABLES
    10                                          .GLOBL INVERSE,INVEXP,D07MSK,BOXPRO,LOGPRO,PTTANP,PTTANF,PTSPLF
    11                                          .GLOBL VGBRIT,VGLIST,VGSIZE,XCOMP,D70MSK,SCALE,DSPSYS
    12                                          .GLOBL VGSCA1,VGVTR1,VGVTR2,VGSCAL,VGSTAT,VGSTA1
    13                                          .GLOBL PTSTR1,PTEXP1,PTCURS,PTSPI1,PTTANK,PTESHO,PTSPLA,PTSPAR
    14                                          .GLOBL BCINFO,BCCURS,BCSHOT,BCINVA,BCEXPL,BCNYMP,BCINFO,BCENEL
    15                                          .GLOBL BUFBSL,BUFBSH,BUFASL,BUFASH,JMPMAL,JMPMAH,BCWELL,BUFSWL,BUFSWH
    16                                          .GLOBL JMPALO,JMPAHI,JMPBLO,JMPBHI,BCSTAR,BFASTA,BFBSTA,PTFUSE,PTFUSX
    17                                          .GLOBL PPSPXI,CPSPXI,FPSPXI,KILLER
    18                                          .GLOBL QCHKS6,QCHKS7,QCHKS8
    19         00C0                     RATS    =0C0
    20         0008                     MZCOLO  =8                      ;NEW COLOR STAT BIT MASK
    21         0000                     MZBRIT  =0                      ;NEW INTENSITY STAT BIT
    22
    23                                          .SBTTL DISPLAY-MAINLINE
    24
    25                                  ;FUNCTION:	USING THE DATABASE SET UP BY THE GAME PORTION OF THE PROGRAM,
    26                                  ;		BUILD, IN THE AVAILABLE BUFFER, THE VECTOR GENERATOR DISPLAY LIST
    27                                  ;
    28                                  ;INPUT:		DATABASE
    29
    30         0000                     SPACG=0                 ;SUPPRESS SPACE GAME CODE
    31                                          .NLIST CND
    32         0000'                            .CSECT
    33   0000                           DISPLAY:
    34   0000    20  1003'                      JSR INIMAT              ;SET UP MATH BOX
    35   0003    AD  2000                       LDA VECRAM
    36   0006    C5    04G                      CMP JMPMAL+4
    37   0008    D0    00                       IFEQ                    ;TRYING TO HALT?
    38   000A    AD  0133                       LDA SPARE3              ;YES.
    39   000D    D0    00                       IFEQ                    ;HALT YET
    40   000F    60                             RTS                     ;NO. GO AWAY
    41   000E    01                             ENDIF
    42   0009    06                             ENDIF
    43   0010    A5    01                       LDA QDSTATE
    44   0012    C9    00                       CMP I,CDPLAY
    45   0014    F0    00                       IFNE                    ;ANYTHING BUT PLAY STATE?
    46   0016    A9    00G                      LDA I,BCINFO            ;YES. DEFAULT TO INFO BUFFER
    47   0018    20  0105'                      JSR SBCLOG
    48   001B    20  0179'                      JSR BIGTEX
    49   001E    B0    00                       IFCC                    ;SET UP LARGE BUFFER
    50                                                                  ;BUFFER AVAILABLE FILL IT
    51   0020    20  0054'                      JSR DSTATE              ;EXECUTE DISPLAY STATE
    52   0023                           ZATVG2::
    53   0023    AD  016E                       LDA SECUVY
    54   0026    F0    00                       IFNE                    ;ATARI ON SCREEN?
    55   0028    A0    27                       LDY I,27                ;YES. VERIFY
    56   002A    A9    0E                       LDA I,0E
    57   002C    38                             SEC
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 17+
DISPLAY-MAINLINE

    58                                          BEGIN
    59   002D    F1    B6                       SBC NY,SECUVG
    60   002F    88                             DEY
    61   0030    10    FB                       MIEND
    62   0032    A8                             TAY
    63   0033    F0    00                       IFNE
    64   0035    49    E5                       EOR I,0E5
    65   0034    02                             ENDIF
    66   0037    F0    00                       IFNE
    67   0039    49    2A                       EOR I,02A
    68   0038    02                             ENDIF
    69   003B    8D  0455                       STA QT3
    70   0027    16                             ENDIF
    71   001F    1E                             ENDIF
    72   003E    A9    00G                      LDA I,BCINFO
    73   0040    20  0145'                      JSR SBCSWI
    74   0043    A5    02G                      LDA JMPMAL+2
    75   0045    8D  2000                       STA VECRAM
    76   0048    A5    02G                      LDA JMPMAH+2
    77   004A    8D  2001                       STA VECRAM+1
    78   004D    B8    50    00                 ELSE
         0015    3A
    79   0050    4C  0077'                      JMP DENORM              ;PLAY STATE
    80   004F    03                             ENDIF
    81   0053    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 20
DISPLAY STATE EXECUTOR

     1                                          .SBTTL DISPLAY STATE EXECUTOR
     2   0054                           DSTATE:
     3   0054    A6    01                       LDX QDSTATE
     4   0056    BD  0060'                      LDA X,DROUTAD+1
     5   0059    48                             PHA
     6   005A    BD  005F'                      LDA X,DROUTAD
     7   005D    48                             PHA
     8   005E    60                     NOOPR:  RTS
     9   005F                           DROUTAD:
    10   005F  0076'                            .WORD DENORM-1          ;GAME PLAY - TOP OF WELL, DOWN THE TUBE
    11   0061  FFFFG                            .WORD DSPSYS-1          ;SYSTEM CONFIGURATION
    12   0063  06FD'                            .WORD DSBOOM-1          ;GAME PLAY - BOOM
    13   0065  FFFFG                            .WORD GETDSP-1          ;DATA ENTRY - HI SCORE INITIALS
    14   0067  FFFFG                            .WORD RQRDSP-1          ;DATA ENTRY - RANKING
    15   0069  FFFFG                            .WORD LDRDSP-1          ;INFO ONLY - HI SCORE TABLE
    16   006B  FFFFG                            .WORD DGOVER-1          ;            GAME OVER PLAYER X
    17   006D  FFFFG                            .WORD DPLPLA-1          ;            PLAY PLAYER X
    18   006F  FFFFG                            .WORD DPRSTA-1          ;"PRESS START"
    19   0071  FFFFG                            .WORD BOXPRO-1          ;LOGO BOX
    20   0073  FFFFG                            .WORD LOGPRO-1          ;LOGO
    21   0075  FFFFG                            .WORD D2GAME-1          ;2 GAME MINIMUM
    22   0077                           DROUTEN:
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 21
DISPLAY-GAME PLAY MAINLINE

     1                                          .SBTTL  DISPLAY-GAME PLAY MAINLINE
     2
     3   0077                           DENORM:                 ;DISPLAY CURSOR
     4   0077    A9    00G                      LDA I,BCCURS
     5   0079    20  0105'                      JSR SBCLOG
     6   007C    20  03CC'                      JSR DSPCUR
     7   007F    A9    00G                      LDA I,BCCURS
     8   0081    20  0145'                      JSR SBCSWI
     9                                                                  ;DISPLAY CHARGES
    10   0084    A9    00G                      LDA I,BCSHOT
    11   0086    20  0105'                      JSR SBCLOG
    12   0089    20  05A1'                      JSR DSPCHG
    13   008C    A9    00G                      LDA I,BCSHOT
    14   008E    20  0145'                      JSR SBCSWI
    15                                                                  ;DISPLAY INVADERS
    16   0091    A9    00G                      LDA I,BCINVA
    17   0093    20  0105'                      JSR SBCLOG
    18   0096    20  03F3'                      JSR DSPINV
    19   0099    A9    00G                      LDA I,BCINVA
    20   009B    20  0145'                      JSR SBCSWI
    21                                                                  ;DISPLAY EXPLOSIONS
    22   009E    A9    00G                      LDA I,BCEXPL
    23   00A0    20  0105'                      JSR SBCLOG
    24   00A3    20  05E0'                      JSR DSPEXP
    25   00A6    A9    00G                      LDA I,BCEXPL
    26   00A8    20  0145'                      JSR SBCSWI
    27                                                                  ;DISPLAY NYMPHS
    28   00AB    A9    00G                      LDA I,BCNYMP
    29   00AD    20  0105'                      JSR SBCLOG
    30   00B0    20  02DE'                      JSR DSPNYM
    31   00B3    A9    00G                      LDA I,BCNYMP
    32   00B5    20  0145'                      JSR SBCSWI
    33                                                                  ;DISPLAY INFORMATION (SCORES, MSGS, ETC.)
    34   00B8    A9    00G                      LDA I,BCINFO
    35   00BA    20  0105'                      JSR SBCLOG
    36   00BD    20  0000G                      JSR INFO
    37   00C0                           ZATVG1::
    38   00C0    A5    05                       LDA QSTATUS
    39   00C2    30    00                       IFPL                    ;ATTRACT?
    40   00C4    A9    F2                       LDA I,0F2                       ;YES. ATARI BETTER BE ON SCREEN
    41   00C6    18                             CLC
    42   00C7    A0    27                       LDY I,39.
    43                                          BEGIN
    44   00C9    71    B6                       ADC NY,SECUVG
    45   00CB    88                             DEY
    46   00CC    10    FB                       MIEND
    47   00CE    8D  011B                       STA QT6                 ;SAVE RESSLT (SHOULD BE 0)
    48   00C3    0D                             ENDIF
    49   00D1    A9    00G                      LDA I,BCINFO
    50   00D3    20  0145'                      JSR SBCSWI
    51                                                                  ;DISPLAY WELL
    52   00D6    20  01AD'                      JSR DSPWEL              ;DISPLAY WELL
    53   00D9    A9    00G                      LDA I,BCENEL            ;DISPLAY ENEMY LINES
    54   00DB    20  0105'                      JSR SBCLOG
    55   00DE    20  1402'                      JSR DSPENL
    56   00E1    A9    00G                      LDA I,BCENEL
    57   00E3    20  0145'                      JSR SBCSWI
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 21+
DISPLAY-GAME PLAY MAINLINE

    58   00E6    A9    00G                      LDA I,BCSTAR            ;DISPLAY STAR FIELD
    59   00E8    20  0105'                      JSR SBCLOG
    60   00EB    20  138D'                      JSR DSTARF
    61   00EE    A9    00G                      LDA I,BCSTAR
    62   00F0    20  0145'                      JSR SBCSWI
    63   00F3    A9    00                       LDA I,0
    64   00F5    8D  0114                       STA ROTDIS
    65                                                                  ;
    66   00F8    AD  0000G                      LDA JMPMAL              ;SET MASTER POINTER TO JSRL
    67   00FB    8D  2000                       STA VECRAM              ;LIST FOR SUBLISTS CREATED ABOVE
    68   00FE    AD  0000G                      LDA JMPMAH              ;
    69   0101    8D  2001                       STA VECRAM+1
    70                                                                  ;
    71   0104    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 22
BUFFER CONTROL

     1                                          .SBTTL  BUFFER CONTROL
     2                                  ;
     3                                  ;INPUT:ACC=SUB BUFFER GROUP INDEX CODE
     4                                  ;OUTPUT:VGLIST(2) & VGY SET UP TO VACANT BUFFER
     5                                  ;	ACC,X,Y DESTROYED
     6   0105                           SBCLOG:
     7   0105    AA                             TAX                     ;SET UP VECTOR RAM POINTS TO
     8   0106    0A                             ASL                     ;UNUSED BUFFER
     9   0107    A8                             TAY
    10   0108    BD  0415                       LDA X,BUFACT
    11   010B    D0    00                       IFEQ                    ;BUFFER A OR B ACTIVE?
    12   010D    BE  0000G                      LDX Y,BUFBSL            ;A IS CTIVE. BUILD IN B
    13   0110    B9  0000G                      LDA Y,BUFBSH
    14   0113    B8    50    00                 ELSE
         010C    09
    15   0116    BE  0000G                      LDX Y,BUFASL            ;B IS ACTIVE. BUILD IN A
    16   0119    B9  0000G                      LDA Y,BUFASH
    17   0115    06                             ENDIF
    18   011C    86    74                       STX VGLIST
    19   011E    85    75                       STA VGLIST+1
    20   0120    A9    00                       LDA I,0
    21   0122    85    A9                       STA VGY
    22   0124    60                             RTS
    23                                                                  ;OPPOSITE OF SBCLOG-PLACE PTR
    24                                                                  ;TO ACTIVE BUFFER INTO INDYLO
    25   0125    AA                     SBCACT: TAX
    26   0126    0A                             ASL
    27   0127    A8                             TAY
    28   0128    BD  0415                       LDA X,BUFACT
    29   012B    D0    00                       IFEQ
    30   012D    BE  0000G                      LDX Y,BUFASL            ;A IS ACTIVE
    31   0130    B9  0000G                      LDA Y,BUFASH
    32   0133    B8    50    00                 ELSE
         012C    09
    33   0136    BE  0000G                      LDX Y,BUFBSL            ;B IS ACTIVE
    34   0139    B9  0000G                      LDA Y,BUFBSH
    35   0135    06                             ENDIF
    36   013C    86    3B                       STX INDYLO
    37   013E    85    3C                       STA INDYLO+1
    38   0140    A9    00                       LDA I,0
    39   0142    85    A9                       STA VGY
    40   0144    60                             RTS
    41                                  ;INPUT:ACC=SUBBUFFER GROUP INDEX CODE
    42                                  ;OUTPUT:RTS ADDED TO END OF NEWLY BUILT BUFFER
    43                                  ;	SWITCH SET TO POINT TO NEW BUFFER
    44                                  ;	BUFACT(X)FLIPPED INDICATING NEW BUFFER ACTIVE
    45   0145    48                     SBCSWI: PHA
    46   0146    20  0000G                      JSR VGRTSL              ;INSERT RTSL AT END OF BUFFER
    47   0149    68                             PLA
    48   014A    AA                             TAX
    49   014B    0A                             ASL
    50   014C    A8                             TAY
    51   014D    B9  0000G                      LDA Y,BUFSWL            ;SET UP SWITCH LOCATION
    52   0150    85    3B                       STA INDYLO
    53   0152    B9  0000G                      LDA Y,BUFSWH
    54   0155    85    3C                       STA INDYHI
    55   0157    BD  0415                       LDA X,BUFACT
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 22+
BUFFER CONTROL

    56   015A    49    01                       EOR I,01
    57   015C    9D  0415                       STA X,BUFACT
    58   015F    D0    00                       IFEQ                    ;WHICH IS THE NEW BUFFER TO DISLAY?
    59   0161    B9  0000G                      LDA Y,JMPALO            ;BUFFER A
    60   0164    BE  0000G                      LDX Y,JMPAHI
    61   0167    B8    50    00                 ELSE
         0160    09
    62   016A    B9  0000G                      LDA Y,JMPBLO            ;BUFFER B
    63   016D    BE  0000G                      LDX Y,JMPBHI
    64   0169    06                             ENDIF
    65   0170    A0    00                       LDY I,0                 ;UPDATE SWITCH TO PT TO
    66   0172    91    3B                       STA NY,INDYLO           ;NEW BUFFER
    67   0174    8A                             TXA
    68   0175    C8                             INY
    69   0176    91    3B                       STA NY,INDYLO
    70   0178    60                             RTS
    71                                                                  ;
    72   0179                           BIGTEX:                         ;ASSIGN LARGE BUFFER FOR TEXT
    73   0179    A5    02G                      LDA JMPMAL+2
    74   017B    CD  2000                       CMP VECRAM
    75   017E    F0    00                       IFNE                    ;BEEN HERE BEFORE?
    76   0180    8D  2000                       STA VECRAM              ;NO. SET UP MASTER POINTER FOR TEXT ONLY.
    77   0183    38                             SEC
    78   0184    60                             RTS                     ;EXIT
    79   017F    05                             ENDIF
    80   0185    AD  0415                       LDA BUFACT              ;YES. INSERT JMP TO AREA WITH MORE ROOM.
    81   0188    D0    00                       IFEQ
    82   018A    A2    02                       LDX I,02                ;BIG AREA 1 (1ST HALF OF VECRAM)
    83   018C    B8    50    00                 ELSE
         0189    05
    84   018F    A2    08                       LDX I,08                ;BIG AREA 2 (2ND HALF OF VECRAM)
    85   018E    02                             ENDIF
    86   0191    BD  0000G                      LDA X,JMPALO
    87   0194    A0    00                       LDY I,0
    88   0196    8C  016E                       STY SECUVY
    89   0199    91    74                       STA NY,VGLIST
    90   019B    C8                             INY
    91   019C    BD  0000G                      LDA X,JMPAHI            ;INSERT JMPL TO AREA WITH MORE ROOM
    92   019F    91    74                       STA NY,VGLIST
    93   01A1    BD  0000G                      LDA X,BUFASL            ;POINT VGLIST AT NEW AREA
    94   01A4    85    74                       STA VGLIST
    95   01A6    BD  0000G                      LDA X,BUFASH
    96   01A9    85    75                       STA VGLIST+1
    97   01AB    18                             CLC
    98   01AC    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 23
DISPLAY-WELL

     1                                          .SBTTL DISPLAY-WELL
     2         0003                     CSUSTA  =3
     3         0001                     CSUINT  =1
     4   01AD                           DSPWEL:
     5   01AD    AD  0114                       LDA ROTDIS
     6   01B0    F0    00                       IFNE                    ;REBUILD WELL?
     7   01B2    A9    00G                      LDA I,BCWELL
     8   01B4    20  0105'                      JSR SBCLOG
     9   01B7    20  114D'                      JSR BLDWEL              ;YES
    10   01BA    A9    00G                      LDA I,BCWELL
    11   01BC    20  0145'                      JSR SBCSWI
    12   01B1    0D                             ENDIF
    13   01BF    A9    00G                      LDA I,BCWELL            ;SET UP PTR TO ACTIVE WELL BUFFER
    14   01C1    20  0125'                      JSR SBCACT
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 24
DISPLAY-WELL

     1
     2                                          .SBTTL  DISPLAY-SPOKE COLORS
     3
     4                                          .SBTTL  DISPLAY-SPOKE PULSE STATUS
     5   01C4    A9    00                       LDA I,0
     6   01C6    A2    0F                       LDX I,NLINES-1
     7                                          BEGIN                   ;LOOP FOR EACH SPOKE
     8   01C8    9D  0425                       STA X,SPOKST            ;CLEAR SPOKE PULSE STATUS
     9   01CB    CA                             DEX
    10   01CC    10    FA                       MIEND
    11   01CE    AD  0106                       LDA CURMOD
    12   01D1    30    00                       IFPL                    ;CURSOR AT TOP?
    13   01D3    AE  011C                       LDX WINVMX              ;YES.
    14                                          BEGIN                   ;LOOP FOR EACH INVADER
    15   01D6    BD  02DF                       LDA X,INVAY
    16   01D9    F0    00                       IFNE                    ;ACTIVE INVADER?
    17   01DB    A0    00                       LDY I,0                 ;YES. DEFAULT
    18   01DD    BD  0283                       LDA X,INVAC1
    19   01E0    29    07                       AND I,INVABI
    20   01E2    C9    01                       CMP I,ZABPUL
    21   01E4    D0    00                       IFEQ                    ;PULSAR?
    22   01E6    C8                             INY                     ;YES. SET PULSAR BIT D0
    23   01E7    84    29                       STY TEMP0
    24   01E9    BD  0283                       LDA X,INVAC1            ;YES
    25   01EC    29    80                       AND I,INVMOT
    26   01EE    D0    00                       IFEQ                    ;FLIPPING?
    27   01F0    AD  0148                       LDA PULSON              ;NO.
    28   01F3    30    00                       IFPL                    ;PULSARS ON?
    29   01F5    BD  02DF                       LDA X,INVAY             ;YES.
    30   01F8    CD  0157                       CMP PULPOT
    31   01FB    B0    00                       IFCC                    ;POTENT PULSAR?
    32   01FD    E6    29                       INC TEMP0               ;YES. SET PULSE BIT D1
    33   01FF    E6    29                       INC TEMP0
    34
    35   01FC    04                             ENDIF
    36   01F4    0C                             ENDIF
    37   0201    A5    29                       LDA TEMP0               ;SET CCW LEG STATUS
    38   0203    BC  02CC                       LDY X,INVAL2
    39   0206    19  0425                       ORA Y,SPOKST
    40   0209    99  0425                       STA Y,SPOKST
    41   01EF    1C                             ENDIF
    42   020C    BC  02B9                       LDY X,INVAL1
    43   020F    A5    29                       LDA TEMP0
    44   0211    09    80                       ORA I,80                ;SET BASE BIT
    45   0213    19  0425                       ORA Y,SPOKST
    46   0216    99  0425                       STA Y,SPOKST
    47   01E5    33                             ENDIF
    48   01DA    3E                             ENDIF
    49   0219    CA                             DEX
    50   021A    10    BA                       MIEND
    51   01D2    49                             ENDIF
    52   021C    A9    06                       LDA I,WELCOL            ;DEFAULT WELL COLO
    53   021E    AC  0125                       LDY SUZTIM
    54   0221    F0    00                       IFNE
    55   0223    30    00                       IFPL                    ;SUPERZAPPER ACTIVE?
    56   0225    A5    03                       LDA QFRAME              ;YES. SUPERZAPPER IS DEFAULT
    57   0227    29    07                       AND I,7
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 24+
DISPLAY-SPOKE PULSE STATUS

    58   0229    C9    07                       CMP I,7
    59   022B    D0    00                       IFEQ
    60   022D    A9    01                       LDA I,1                 ;NO BLACK
    61   022C    02                             ENDIF
    62   0224    0A                             ENDIF
    63   0222    0C                             ENDIF
    64   022F    85    29                       STA TEMP0               ;DEFAULT COLOR
    65   0231    A0    FF                       LDY I,-1
    66   0233    A2    FF                       LDX I,-1
    67   0235    86    2C                       STX TEMP3               ;DEFAULT NO BONUS FLASH
    68   0237    AD  0202                       LDA CURSY
    69   023A    F0    00                       IFNE                    ;C;URSOR ALIVE?
    70   023C    AD  0201                       LDA CURSL2
    71   023F    30    00                       IFPL
    72   0241    AE  0200                       LDX CURSL1              ;YES.
    73   0244    AC  0201                       LDY CURSL2
    74   0240    06                             ENDIF
    75   023B    0B                             ENDIF
    76   0247    86    2A                       STX TEMP1               ;SAVE FLASLIGHT SPOKES
    77   0249    84    2B                       STY TEMP2
    78   024B    AD  0124                       LDA BOFLASH
    79   024E    30    00                       IFPL                    ;BONUS FLASH?
    80   0250    29    0E                       AND I,0E                ;YES. SET BASE COLOR
    81   0252    4A                             LSR
    82   0253    85    2C                       STA TEMP3
    83   0255    CE  0124                       DEC BOFLASH
    84   024F    08                             ENDIF
    85   0258    A2    0F                       LDX I,NLINES-1
    86                                          BEGIN                   ;LOOP FOR EACH SPOKE
    87   025A    A0    06                       LDY I,WELCOL            ;DEFAULT WELL COLOR
    88   025C    BD  0425                       LDA X,SPOKST
    89   025F    F0    00                       IFNE                    ;PULSE?
    90   0261    29    02                       AND I,2
    91   0263    F0    00                       IFNE                    ;YES. PULSING?
    92   0265    A5    03                       LDA QFRAME
    93   0267    29    01                       AND I,1
    94   0269    A8                             TAY
    95   0264    05                             ENDIF
    96   026A    B8    50    00                 ELSE
         0260    0C
    97   026D    E4    2A                       CPX TEMP1               ;NO.
    98   026F    F0    00                       IFNE
    99   0271    E4    2B                       CPX TEMP2
   100   0270    02                             ENDIF
   101   0273    D0    00                       IFEQ                    ;NO. CURSOR FLASHLIGHT?
   102   0275    A0    01                       LDY I,CURCOL            ;YES. CURSOR COLOR
   103   0277    B8    50    00                 ELSE
         0274    05
   104   027A    AD  0124                       LDA BOFLASH             ;NO.
   105   027D    30    00                       IFPL                    ;BONUS FLASH?
   106   027F    8A                             TXA                     ;YES. BONUS COLOR
   107   0280    18                             CLC
   108   0281    65    2C                       ADC TEMP3               ;PLUS BASE COLOR
   109   0283    29    07                       AND I,7                 ;MOD 8
   110   0285    C9    07                       CMP I,7
   111   0287    D0    00                       IFEQ
   112   0289    A9    03                       LDA I,3                 ;NO BLACK
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 24+
DISPLAY-SPOKE PULSE STATUS

   113   0288    02                             ENDIF
   114   028B    A8                             TAY
   115   028C    B8    50    00                 ELSE
         027E    10
   116   028F    A4    29                       LDY TEMP0               ;NO. USE DEFALT COLOR
   117   028E    02                             ENDIF
   118   0279    17                             ENDIF
   119   026C    24                             ENDIF
   120   0291    98                             TYA
   121   0292    BC  02BC'                      LDY X,STALOC
   122   0295    91    3B                       STA NY,INDYLO
   123   0297    CA                             DEX
   124   0298    10    C0                       MIEND
   125   029A    A2    0F                       LDX I,NLINES-1          ;YES. REDO TOP RUNGS
   126   029C    2C  0111                       BIT WELTYP
   127   029F    10    00                       IFMI
   128   02A1    CA                             DEX                     ;PLANAR, SO 1 LESS RUNG
   129   02A0    01                             ENDIF
   130                                          BEGIN                   ;LOOP FOR EACH RUNG
   131   02A2    A0    C0                       LDY I,0C0               ;DEFAULT ON
   132   02A4    BD  0425                       LDA X,SPOKST
   133   02A7    10    00                       IFMI                    ;PULSAR?
   134   02A9    A0    00                       LDY I,0                 ;YES. TURN OFF
   135   02A8    02                             ENDIF
   136   02AB    84    58                       STY PZL
   137   02AD    BC  02CD'                      LDY X,RUNLOC
   138   02B0    B1    B0                       LDA NY,RUNGVG
   139   02B2    29    1F                       AND I,1F
   140   02B4    05    58                       ORA PZL
   141   02B6    91    B0                       STA NY,RUNGVG
   142   02B8    CA                             DEX
   143   02B9    10    E7                       MIEND
   144   02BB    60                             RTS
   145                                  ;OFFSETS INTO WELL SUBROUTINE OF COLOR STATS FOR EACH LINE
   146   02BC    A8    9C    92    86   STALOC: .BYTE 0A8,9C,92,86,7C,70,66,5A,50,44,3A,2E,24,18,0E,2,0B2
         02C0    7C    70    66    5A
         02C4    50    44    3A    2E
         02C8    24    18    0E    02
         02CC    B2
   147                                  ;OFFSETS INTO WELL SUBROUTINE (+0FE) OF COLOR STATS FOR EACH TOP RUNG
   148   02CD    3B    37    33    2F   RUNLOC: .BYTE 3B,37,33,2F,2B,27,23,1F,1B,17,13,0F,0B,07,03,3F
         02D1    2B    27    23    1F
         02D5    1B    17    13    0F
         02D9    0B    07    03    3F
   149   02DD    00G                    CHKSM6::        .BYTE QCHKS6
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 25
DISPLAY-NYMPHS

     1                                          .SBTTL  DISPLAY-NYMPHS
     2         0004                     IEYL=4
     3   02DE                           DSPNYM:
     4   02DE    A0    0C                       LDY I,NYMCOL
     5   02E0    84    9E                       STY COLOR
     6   02E2    A9    08                       LDA I,MZCOLO
     7   02E4    20  0000G                      JSR VGSTAT
     8   02E7    A2    66                       LDX I,XADJL
     9   02E9    20  15A4'                      JSR VGYAB1              ;POSITION BEAM AT VANISH PT.
    10   02EC    A9    12                       LDA I,18.
    11   02EE    85    56                       STA PXL                 ;MAX # DISPLAYABLE
    12   02F0    A2    3F                       LDX I,NNYMPH-1
    13   02F2    86    37                       STX INDEX1
    14   02F4    A0    00                       LDY I,0
    15                                          BEGIN                   ;LOOP FOR EACH NYMPH
    16   02F6    A6    37                       LDX INDEX1
    17   02F8    BD  0243                       LDA X,NYMPY
    18   02FB    D0    00                       IFEQ                    ;NYMPH ACTIVE?
    19   02FD    4C  038F'                      JMP NONYM               ;NO. SKIP IT
    20   02FC    03                             ENDIF
    21   0300    C9    50                       CMP I,50                ;YES.
    22   0302    90    00                       IFCS                    ;SKIP EVERY OTHER ONE PAST THIS DEPTH
    23   0304    C6    37                       DEC INDEX1
    24   0303    02                             ENDIF
    25   0306    48                             PHA
    26   0307    29    3F                       AND I,3F                ;FAKE PROJECTION (USE NYMPH DEPTH TO GET SCALES)
    27   0309    91    74                       STA NY,VGLIST           ;LINEAR SCALE
    28   030B    68                             PLA
    29   030C    2A                             ROL
    30   030D    2A                             ROL
    31   030E    2A                             ROL
    32   030F    29    03                       AND I,3
    33   0311    18                             CLC
    34   0312    69    01                       ADC I,1
    35   0314    09    70                       ORA I,70
    36   0316    C8                             INY
    37   0317    91    74                       STA NY,VGLIST           ;BINARY SCALE
    38   0319    C8                             INY
    39   031A    BD  0203                       LDA X,NYMPL             ;GET NYMPH LINE
    40   031D    AA                             TAX
    41   031E    BD  038A                       LDA X,LIFSZL            ;VECTOR TO NYMPH
    42   0321    38                             SEC
    43   0322    E5    68                       SBC ZADJL
    44   0324    85    63                       STA SZL
    45   0326    91    74                       STA NY,VGLIST           ;Z LSB
    46   0328    C8                             INY
    47   0329    BD  037A                       LDA X,LIFSZH
    48   032C    E5    69                       SBC ZADJL+1
    49   032E    85    64                       STA SZH
    50   0330    29    1F                       AND I,1F
    51   0332    91    74                       STA NY,VGLIST           ;Z MSB
    52   0334    C8                             INY
    53   0335    BD  036A                       LDA X,LIFSXL
    54   0338    85    61                       STA SXL
    55   033A    91    74                       STA NY,VGLIST           ;X LSB
    56   033C    C8                             INY
    57   033D    BD  035A                       LDA X,LIFSXH
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 25+
DISPLAY-NYMPHS

    58   0340    85    62                       STA SXH
    59   0342    29    1F                       AND I,1F
    60   0344    91    74                       STA NY,VGLIST           ;X MSB
    61   0346    C8                             INY                     ;DISPLAY A DOT
    62   0347    A9    00                       LDA I,0
    63   0349    91    74                       STA NY,VGLIST           ;0 Z LSB
    64   034B    C8                             INY
    65   034C    91    74                       STA NY,VGLIST           ;0 Z MSB
    66   034E    C8                             INY
    67   034F    91    74                       STA NY,VGLIST           ;0 X LSB
    68   0351    A9    A0                       LDA I,0A0
    69   0353    C8                             INY
    70   0354    91    74                       STA NY,VGLIST           ;BRIGHTNESS, 0 X MSB
    71   0356    C8                             INY
    72   0357    A5    63                       LDA SZL                 ;DRAW VECTOR BACK TO FAKE V.P.
    73   0359    49    FF                       EOR I,0FF
    74   035B    18                             CLC
    75   035C    69    01                       ADC I,1
    76   035E    91    74                       STA NY,VGLIST           ;Z LSB
    77   0360    C8                             INY
    78   0361    A5    64                       LDA SZH
    79   0363    49    FF                       EOR I,0FF
    80   0365    69    00                       ADC I,0
    81   0367    29    1F                       AND I,1F
    82   0369    91    74                       STA NY,VGLIST           ;Z MSB
    83   036B    C8                             INY
    84   036C    A5    61                       LDA SXL
    85   036E    49    FF                       EOR I,0FF
    86   0370    18                             CLC
    87   0371    69    01                       ADC I,1
    88   0373    91    74                       STA NY,VGLIST           ;X LSB
    89   0375    C8                             INY
    90   0376    A5    62                       LDA SXH
    91   0378    49    FF                       EOR I,0FF
    92   037A    69    00                       ADC I,0
    93   037C    29    1F                       AND I,1F
    94   037E    91    74                       STA NY,VGLIST           ;X MSB
    95   0380    C8                             INY
    96   0381    C0    F0                       CPY I,0F0
    97   0383    90    00                       IFCS                    ;VGLIST LSB INDEX MAXING OUT?
    98   0385    88                             DEY
    99   0386    20  0000G                      JSR VGADD               ;YES. UPDATE VGLIST
   100   0389    A0    00                       LDY I,0                 ;RESET LSB INDEX
   101   0384    06                             ENDIF
   102   038B    C6    56                       DEC PXL                 ;EXIT EARLY IF MAX
   103   038D    30    07                       BMI EXCESS              ;LIMIT REACHED
   104   038F    C6    37               NONYM:  DEC INDEX1
   105   0391    30    03    4C  02F6'          MIEND                   ;EXIT LOOP AFTER LAST NYMPH
   106   0396    98                     EXCESS: TYA
   107   0397    F0    00                       IFNE
   108   0399    88                             DEY
   109   039A    20  0000G                      JSR VGADD               ;UPDATE VGLIST
   110   0398    04                             ENDIF
   111   039D    A5    B5               ZQATLI::        LDA QT1
   112   039F    F0    00                       IFNE
   113   03A1    A5    46                       LDA WAVEN1
   114   03A3    C9    0A                       CMP I,10.
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 25+
DISPLAY-NYMPHS

   115   03A5    90    00                       IFCS
   116   03A7    A9    7A                       LDA I,7A
   117   03A9    85    53                       STA FRTIMR
   118   03A6    04                             ENDIF
   119   03A0    0A                             ENDIF
   120   03AB    A9    01                       LDA I,1
   121   03AD    4C  0000G                      JMP VGSCA1
   122   03B0    48                     VGDOT:  PHA
   123   03B1    A0    00                       LDY I,0                 ;DRAW A DOT
   124   03B3    98                             TYA
   125   03B4    91    74                       STA NY,VGLIST
   126   03B6    C8                             INY
   127   03B7    91    74                       STA NY,VGLIST
   128   03B9    C8                             INY
   129   03BA    91    74                       STA NY,VGLIST
   130   03BC    C8                             INY
   131   03BD    68                             PLA
   132   03BE    91    74                       STA NY,VGLIST
   133   03C0    A9    04                       LDA I,4                 ;UPDATE DISPLAY POINTER
   134   03C2    18                             CLC
   135   03C3    65    74                       ADC VGLIST
   136   03C5    85    74                       STA VGLIST
   137   03C7    90    00                       IFCS
   138   03C9    E6    75                       INC VGLIST+1
   139   03C8    02                             ENDIF
   140   03CB    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 27
DISPLAY-CURSOR

     1                                          .SBTTL  DISPLAY-CURSOR
     2   03CC                           DSPCUR:
     3   03CC    A9    01                       LDA I,CURCOL
     4   03CE    85    9E                       STA COLOR
     5   03D0    AD  0202                       LDA CURSY
     6   03D3    F0    00                       IFNE
     7   03D5    C9    F0                       CMP I,ILINDDY
     8   03D7    B0    00                       IFCC                    ;AT BOTTOM?
     9   03D9    85    57                       STA PYL                 ;NO. DEPTH
    10   03DB    85    2F                       STA TEMPY
    11   03DD    AD  0201                       LDA CURSL2
    12   03E0    C9    81                       CMP I,81
    13   03E2    F0    00                       IFNE                    ;DON'T DISPLAY BLASTED CURSOR
    14   03E4    AC  0200                       LDY CURSL1              ;CURSOR'S WELL LINE #S
    15   03E7    A5    51                       LDA CURSPO              ;GET CURSOR POSITION BETWEEN LINES
    16   03E9    4A                             LSR
    17   03EA    29    07                       AND I,07
    18   03EC    18                             CLC
    19   03ED    69    01                       ADC I,CNCURS            ;ADD IN BASE PIC #
    20   03EF    20  0BE2'                      JSR ONELIN              ;DRAW LINE
    21   03E3    0E                             ENDIF
    22   03D8    19                             ENDIF
    23   03D4    1D                             ENDIF
    24   03F2    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 28
DISPLAY-INVADERS (MAINLINE)

     1                                          .SBTTL  DISPLAY-INVADERS (MAINLINE)
     2   03F3                           DSPINV:
     3   03F3    AD  0106                       LDA CURMOD
     4   03F6    30    00                       IFPL                    ;CURSOR AT TOP?
     5   03F8    A2    06                       LDX I,NINVAD-1          ;YES
     6   03FA    86    37                       STX INDEX1
     7                                          BEGIN                   ;LOOP FOR EACH INVADER
     8   03FC    A6    37                       LDX INDEX1
     9   03FE    BD  02DF                       LDA X,INVAY
    10   0401    F0    00                       IFNE                    ;ACTIVE?
    11   0403    85    57                       STA PYL                 ;YES
    12   0405    BD  0283                       LDA X,INVAC1
    13   0408    29    18                       AND I,INVSEQ            ;GET ANIMATION SEQUENCE
    14   040A    4A                             LSR
    15   040B    4A                             LSR
    16   040C    4A                             LSR
    17   040D    85    55                       STA OBJIND
    18   040F    BD  0283                       LDA X,INVAC1
    19   0412    29    07                       AND I,INVABI
    20   0414    0A                             ASL
    21   0415    20  041D'                      JSR INVPIC              ;DRAW INVADER PIC
    22   0402    15                             ENDIF
    23   0418    C6    37                       DEC INDEX1
    24   041A    10    E0                       MIEND
    25   03F7    24                             ENDIF
    26   041C    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 29
DISPLAY-INVADERS (MAINLINE)

     1
     2                                          .SBTTL  DISPLAY - INVADERS PICS
     3
     4   041D    A8                     INVPIC: TAY                     ;INDIRECT JSR TO PIC DRAW ROUTINE
     5   041E    B9  0428'                      LDA Y,INVPIT+1
     6   0421    48                             PHA
     7   0422    B9  0427'                      LDA Y,INVPIT
     8   0425    48                             PHA
     9   0426    60                             RTS
    10   0427  0430'                    INVPIT: .WORD FLIPIC-1          ;FLIPPER
    11   0429  0560'                            .WORD PULPIC-1          ;PULSAR
    12   042B  0454'                            .WORD TANPIC-1          ;TANKER
    13   042D  0467'                            .WORD TRAPIC-1          ;TRALER
    14   042F  04E0'                            .WORD FUSPIC-1          ;FUSE
    15   0431                           INVPIE:
    16                                          .SBTTL  DISPLAY - FLIPPERS
    17
    18   0431                           FLIPIC:                         ;FLIPPER PIC
    19   0431    A9    03                       LDA I,FLICOL
    20   0433    85    9E                       STA COLOR
    21   0435    BD  0283                       LDA X,INVAC1
    22   0438    30    00                       IFPL                    ;FLIPPING?
    23   043A    BC  02B9                       LDY X,INVAL1            ;LINE #
    24   043D    A6    55                       LDX OBJIND
    25   043F    BD  0451'                      LDA X,FLITAB
    26   0442    20  0BE2'                      JSR ONELIN              ;NO. ON LINES
    27   0445    B8    50    00                 ELSE
         0439    0E
    28   0448    20  047A'                      JSR IJMPDS              ;YES. SET UP SPECIAL COORDS
    29   044B    A0    00                       LDY I,CINVA1
    30   044D    20  0C0D'                      JSR ONELN2              ;FLIPPING PIC
    31   0447    08                             ENDIF
    32   0450    60                             RTS
    33                                                                  ;ANIMATION SEQUENCE
    34   0451    00    00    00    00   FLITAB: .BYTE CINVA1,CINVA1,CINVA1,CINVA1
    35                                          .SBTTL  DISPLAY - TANKERS
    36
    37   0455                           TANPIC:
    38   0455    BD  028A                       LDA X,INVAC2
    39   0458    29    03                       AND I,INVCAR
    40   045A    A8                             TAY                     ;INDEX FOR TYPE CARRIED
    41   045B    B9  0464'                      LDA Y,TANTAB
    42   045E    BC  02B9                       LDY X,INVAL1
    43   0461    4C  0B3F'                      JMP SCAPIC              ;DRAW TANKER PIC
    44                                                                  ;ANIMATION SEQUENCE
    45   0464    00G   00G   00G   00G  TANTAB: .BYTE PTTANK,PTTANK,PTTANP,PTTANF
    46                                          .SBTTL  DISPLAY - INVADERS (DRAW TRAILER)
    47
    48   0468                           TRAPIC:
    49   0468    BC  02B9                       LDY X,INVAL1
    50   046B    A5    03                       LDA QFRAME              ;CHOOSE BETWEEN 4 PICS
    51   046D    29    03                       AND I,3
    52   046F    0A                             ASL
    53   0470    18                             CLC
    54   0471    69    00G                      ADC I,PTSPI1
    55   0473    4C  0B3F'                      JMP SCAPIC              ;DRAW TRALER PIC
    56
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 29+
DISPLAY - INVADERS (DRAW TRAILER)

    57   0476    00G   02G              TRATAB: .BYTE PTSPI1,PTSPI1+2
    58   0478    04G   06G                      .BYTE PTSPI1+4,PTSPI1+6
    59                                          .SBTTL  DISPLAY-INVADERS (DRAW JUMP INVADER)
    60   047A                           IJMPDS:
    61   047A    A5    57                       LDA PYL                 ;SAME Y FOR BOTH PTS.
    62   047C    85    2F                       STA TEMPY
    63   047E    BC  02B9                       LDY X,INVAL1
    64   0481    B9  03CE                       LDA Y,LINEX             ;X AND Z FOR BASE LEG
    65   0484    85    56                       STA PXL
    66   0486    B9  03DE                       LDA Y,LINEZ
    67   0489    85    58                       STA PZL
    68   048B    BD  02CC                       LDA X,INVAL2
    69   048E    29    0F                       AND I,0F
    70   0490    A8                             TAY
    71   0491    A5    56                       LDA PXL                 ;CALCULATE COORD OF JUMPING ENDPT
    72   0493    49    80                       EOR I,80
    73   0495    18                             CLC
    74   0496    79  04D1'                      ADC Y,JUMPX
    75   0499    50    00                       IFVS                    ;OVERFLOW?
    76   049B    10    00                       IFMI                    ;YES
    77   049D    A9    7F                       LDA I,7F                ;MIN
    78   049F    B8    50    00                 ELSE
         049C    05
    79   04A2    A9    80                       LDA I,80                ;MAX
    80   04A1    02                             ENDIF
    81   049A    09                             ENDIF
    82   04A4    49    80                       EOR I,80
    83   04A6    85    2E                       STA TEMPX
    84   04A8    A5    58                       LDA PZL
    85   04AA    49    80                       EOR I,80
    86   04AC    18                             CLC
    87   04AD    79  04CD'                      ADC Y,JUMPZ
    88   04B0    50    00                       IFVS                    ;OVERFLOW?
    89   04B2    10    00                       IFMI                    ;YES.
    90   04B4    A9    7F                       LDA I,7F
    91   04B6    B8    50    00                 ELSE
         04B3    05
    92   04B9    A9    80                       LDA I,80                ;MAX
    93   04B8    02                             ENDIF
    94   04B1    09                             ENDIF
    95   04BB    49    80                       EOR I,80
    96   04BD    85    30                       STA TEMPZ
    97   04BF    AC  0112                       LDY WELLID
    98   04C2    B9  0B1E'                      LDA Y,WELLIS            ;LINEAR SCALE
    99   04C5    85    59                       STA LINSCA
   100   04C7    B9  0B2E'                      LDA Y,WELBIN            ;BINARY SCALE
   101   04CA    85    5A                       STA BINSCA              ;SET UP DOWN SCALE (APPROX 1/8)
   102   04CC    60                             RTS
   103                                          .SBTTL  TABLE-WORLD COORD OFFSETS (X,Z) FOR JUMPERS
   104         002C                     DG000=2C
   105         0028                     DG225=28
   106         001F                     DG450=1F
   107         0010                     DG675=10
   108         0000                     DG900=0
   109   04CD    00                     JUMPZ:  .BYTE DG900
   110   04CE    10                             .BYTE DG675
   111   04CF    1F                             .BYTE DG450
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 29+
TABLE-WORLD COORD OFFSETS (X,Z) FOR JUMPERS

   112   04D0    28                             .BYTE DG225
   113   04D1    2C                     JUMPX:  .BYTE DG000
   114   04D2    28                             .BYTE DG225
   115   04D3    1F                             .BYTE DG450
   116   04D4    10                             .BYTE DG675
   117   04D5    00                             .BYTE DG900
   118   04D6    F0                             .BYTE-DG675
   119   04D7    E1                             .BYTE-DG450
   120   04D8    D8                             .BYTE-DG225
   121   04D9    D4                             .BYTE-DG000
   122   04DA    D8                             .BYTE-DG225
   123   04DB    E1                             .BYTE-DG450
   124   04DC    F0                             .BYTE-DG675
   125   04DD    00                             .BYTE DG900
   126   04DE    10                             .BYTE DG675
   127   04DF    1F                             .BYTE DG450
   128   04E0    28                             .BYTE DG225
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 31
TABLE-WORLD COORD OFFSETS (X,Z) FOR JUMPERS

     1
     2                                          .SBTTL  DISPLAY-INVADE FUSE PICTURE
     3
     4   04E1    BD  02DF               FUSPIC: LDA X,INVAY
     5   04E4    85    57                       STA PYL
     6   04E6    BC  02B9                       LDY X,INVAL1
     7   04E9    B9  03CE                       LDA Y,LINEX
     8   04EC    85    56                       STA PXL
     9   04EE    B9  03DE                       LDA Y,LINEZ
    10   04F1    85    58                       STA PZL
    11   04F3    BD  02CC                       LDA X,INVAL2
    12   04F6    10    00               M10:    IFMI                    ;RUNGING?
    13   04F8    98                             TYA                     ;YES.
    14   04F9    18                             CLC
    15   04FA    69    01                       ADC I,1
    16   04FC    29    0F                       AND I,0F
    17   04FE    A8                             TAY
    18   04FF    B9  03CE                       LDA Y,LINEX
    19   0502    38                             SEC
    20   0503    E5    56                       SBC PXL
    21   0505    20  0540'                      JSR DELTA8
    22   0508    18                             CLC
    23   0509    65    56                       ADC PXL
    24   050B    85    56                       STA PXL
    25   050D    B9  03DE                       LDA Y,LINEZ
    26   0510    38                             SEC
    27   0511    E5    58                       SBC PZL
    28   0513    20  0540'                      JSR DELTA8
    29   0516    18                             CLC
    30   0517    65    58                       ADC PZL
    31   0519    85    58                       STA PZL
    32   04F7    23                             ENDIF
    33   051B    20  0EDA'                      JSR WORSCR
    34   051E    A2    61                       LDX I,SXL
    35   0520    20  15A4'                      JSR VGYAB1              ;DRAW BLANK VECTOR TO FUSE
    36   0523    A9    00                       LDA I,0
    37   0525    85    A9                       STA VGY
    38   0527    20  0B80'                      JSR CASCAL              ;SET PERSPECTIVE SCALE
    39   052A    84    A9                       STY VGY
    40   052C    A5    03                       LDA QFRAME
    41   052E    29    03                       AND I,3
    42   0530    0A                             ASL
    43   0531    18                             CLC
    44   0532    69    00G                      ADC I,PTFUSE
    45   0534    A8                             TAY
    46   0535    BE  0000G                      LDX Y,PICHI
    47   0538    B9  0000G                      LDA Y,PICLO
    48   053B    A4    A9                       LDY VGY
    49   053D    4C  0000G                      JMP VGADD3              ;ADD PIC TO DISPLAY LIST
    50                                                                  ;INPUT:ACC=DELTA BETWEEN LINES
    51                                                                  ;	X=INVADER INDEX
    52                                                                  ;	Y=LINE INDEX OF CCW PT
    53   0540                           DELTA8:                         ;OUTPUT:X,Y PRESERVED
    54                                                                  ;	ACC=OFFSET FROM BASE FOR MIDPT
    55   0540    85    29                       STA TEMP0
    56   0542    BD  02CC                       LDA X,INVAL2
    57   0545    29    07                       AND I,7
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 31+
DISPLAY-INVADE FUSE PICTURE

    58   0547    85    2C                       STA TEMP3
    59   0549    86    2B                       STX TEMP2
    60   054B    A2    02                       LDX I,2
    61   054D    A9    00                       LDA I,0
    62                                          BEGIN
    63   054F    46    2C                       LSR TEMP3
    64   0551    90    00                       IFCS
    65   0553    18                             CLC
    66   0554    65    29                       ADC TEMP0
    67   0552    03                             ENDIF
    68   0556    0A                             ASL
    69   0557    08                             PHP
    70   0558    6A                             ROR
    71   0559    28                             PLP
    72   055A    6A                             ROR
    73   055B    CA                             DEX
    74   055C    10    F1                       MIEND
    75   055E    A6    2B                       LDX TEMP2
    76   0560    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 32
DISPLAY-PULSAR PIC

     1                                          .SBTTL  DISPLAY-PULSAR PIC
     2
     3   0561                           PULPIC:
     4   0561    A9    04                       LDA I,TURQOI            ;PULSE OFF
     5   0563    AC  0148                       LDY PULSON
     6   0566    30    00                       IFPL
     7   0568    A9    00                       LDA I,WHITE             ;PULSE ON
     8   0567    02                             ENDIF
     9   056A    85    9E                       STA COLOR               ;PULSAR COLOR
    10   056C    AD  0148                       LDA PULSON              ;CALCULATE PIC #
    11   056F    18                             CLC
    12   0570    69    40                       ADC I,64.
    13   0572    4A                             LSR
    14   0573    4A                             LSR
    15   0574    4A                             LSR
    16   0575    4A                             LSR
    17   0576    C9    05                       CMP I,5
    18   0578    90    00                       IFCS
    19   057A    A9    00                       LDA I,0
    20   0579    02                             ENDIF
    21   057C    A8                             TAY
    22   057D    B9  059B'                      LDA Y,PULTAB
    23   0580    85    29                       STA TEMP0
    24   0582    BD  0283                       LDA X,INVAC1
    25   0585    30    00                       IFPL                    ;FLIPPING?
    26   0587    BC  02B9                       LDY X,INVAL1            ;NO. ON LINES
    27   058A    A5    29                       LDA TEMP0               ;GET PIC #
    28   058C    20  0BE2'                      JSR ONELIN              ;DRAW PIC
    29   058F    B8    50    00                 ELSE
         0586    0B
    30   0592    20  047A'                      JSR IJMPDS              ;YES. SET UP SPECIAL COORDS
    31   0595    A4    29                       LDY TEMP0
    32   0597    20  0C0D'                      JSR ONELN2              ;FLIPPING PIC
    33   0591    08                             ENDIF
    34   059A    60                             RTS
    35   059B    0D    0C    0B    0A   PULTAB: .BYTE CPULS0,CPULS1,CPULS2,CPULS3,CPULS4,CPULS4
         059F    09    09
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 33
DISPLAY-CHARGES

     1                                          .SBTTL  DISPLAY-CHARGES
     2   05A1                           DSPCHG:
     3   05A1    A2    0B                       LDX I,NCHARG-1
     4   05A3    86    37                       STX INDEX1
     5                                          BEGIN                   ;LOOP FOR EACH CHARGE
     6   05A5    A6    37                       LDX INDEX1
     7   05A7    BD  02D3                       LDA X,CHARY
     8   05AA    F0    00                       IFNE                    ;ACTIVE?
     9   05AC    85    57                       STA PYL                 ;YES. BOTH YS ARE SAME
    10   05AE    85    2F                       STA TEMPY
    11   05B0    E0    08                       CPX I,NPCHAR
    12   05B2    BC  02AD                       LDY X,CHARL1
    13   05B5    B0    00                       IFCC
    14   05B7    A9    00G                      LDA I,PTCURS            ;PLAYER SHOT
    15   05B9    B8    50    00                 ELSE
         05B6    05
    16   05BC    A5    03                       LDA QFRAME              ;ENEMY SHOT
    17   05BE    0A                             ASL
    18   05BF    29    06                       AND I,6
    19   05C1    18                             CLC
    20   05C2    69    00G                      ADC I,PTESHO
    21   05BB    08                             ENDIF
    22   05C4    20  0B3F'                      JSR SCAPIC
    23   05AB    1B                             ENDIF
    24   05C7    C6    37                       DEC INDEX1
    25   05C9    10    DA                       MIEND
    26   05CB    A0    04                       LDY I,ZYELLO            ;PLENTY
    27   05CD    AD  0135                       LDA CHACOU
    28   05D0    C9    06                       CMP I,NPCHARG-2
    29   05D2    90    00                       IFCS
    30   05D4    A0    0B                       LDY I,ZBLUE             ;LOW
    31   05D6    C9    08                       CMP I,NPCHARG
    32   05D8    90    00                       IFCS
    33   05DA    A0    0C                       LDY I,ZRED              ;OUT
    34   05D9    02                             ENDIF
    35   05D3    08                             ENDIF
    36   05DC    8C  0808                       STY COLPOR+PSHCTR       ;SET UP COLOR FOR CENTER OF PLAYER SOT
    37   05DF    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 34
DISPLAY-EXPLOSIONS

     1                                          .SBTTL  DISPLAY-EXPLOSIONS
     2
     3   05E0                           DSPEXP:
     4   05E0    A0    00                       LDY I,EXPCOL
     5   05E2    84    9E                       STY COLOR
     6   05E4    A2    07                       LDX I,NEXPLO-1
     7   05E6    86    37                       STX INDEX1
     8                                          BEGIN                   ;LOOP FOR EACH BANG
     9   05E8    A6    37                       LDX INDEX1
    10   05EA    BD  030A                       LDA X,EXPLOY
    11   05ED    F0    00                       IFNE                    ;ACTIVE BANG?
    12   05EF    85    57                       STA PYL                 ;YES SAVE DEPTH
    13   05F1    BD  02FA                       LDA X,EXPLOL            ;SET UP GRID LINES
    14   05F4    85    29                       STA TEMP0
    15   05F6    BC  0302                       LDY X,EXPLOT            ;CALC. PICTURE TO USE
    16   05F9    C0    01                       CPY I,1
    17   05FB    D0    00                       IFEQ                    ;CHARGE-PLAYER?
    18   05FD    20  0631'                      JSR CHPLKI              ;YES.
    19   0600    B8    50    00                 ELSE                    ;NO
         05FC    06
    20   0603    BD  0312                       LDA X,EXPLOS
    21   0606    4A                             LSR
    22   0607    29    FE                       AND I,0FE
    23   0609    C0    02                       CPY I,2
    24   060B    90    00                       IFCS
    25   060D    A9    00                       LDA I,0                 ;NO SEQUENCE TYPE
    26   060C    02                             ENDIF
    27   060F    18                             CLC
    28   0610    79  062B'                      ADC Y,TEXTYP
    29   0613    A4    29                       LDY TEMP0
    30   0615    20  0B3F'                      JSR SCAPIC              ;DO EXPLOSION PICTURE
    31   0602    15                             ENDIF
    32   05EE    29                             ENDIF
    33   0618    C6    37                       DEC INDEX1
    34   061A    10    CC                       MIEND
    35   061C    AD  0720               ZQPOKS::        LDA QT4
    36   061F    F0    00                       IFNE                    ;POKEY DOESN'T STOP
    37   0621    A5    9F                       LDA CURWAV
    38   0623    C9    0D                       CMP I,13.
    39   0625    90    00                       IFCS
    40   0627    8D  01FF                       STA 1FF                 ;KILL TOP OF STACK
    41   0626    03                             ENDIF
    42   0620    09                             ENDIF
    43   062A    60                             RTS
    44   062B                           TEXTYP:                 ;START CODE FOR EACH BANG TYPE
    45   062B    00G                            .BYTE PTEXP1            ;CHARGE CHARGE, CHARGE INVADER
    46   062C    00                             .BYTE 0         ;CHARGE-PLAYER SEE SPECIAL
    47   062D    04G                            .BYTE PTFUSX+4          ;BUSE EXPL 1
    48   062E    02G                            .BYTE PTFUSX+2          ;FUSE EXPL 2
    49   062F    00G                            .BYTE PTFUSX+0          ;FUSE EXPLOSIN 3
    50   0630    00G                            .BYTE PTSPAR                    ;INVADER - PLAYER COLLISION
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 36
SPECIAL EXPLOSION CONTROL

     1                                          .SBTTL  SPECIAL EXPLOSION CONTROL
     2
     3   0631                           CHPLKI:
     4   0631    A4    29                       LDY TEMP0
     5   0633    B9  0435                       LDA Y,LINEXM            ;SET UP MID PT
     6   0636    85    56                       STA PXL
     7   0638    B9  0445                       LDA Y,LINEZM
     8   063B    85    58                       STA PZL
     9   063D    20  0EDA'                      JSR WORSCR              ;POSITION BEAM FOR EXPLOSION
    10   0640    A2    61                       LDX I,SXL
    11   0642    20  15A4'                      JSR VGYAB1
    12   0645    AE  013B                       LDX SPXIND
    13   0648    CE  013C                       DEC SPFTIM
    14   064B    D0    00                       IFEQ                    ;UPDATE FRAME TIMER. DONE?
    15   064D    E8                             INX                     ;YES. NEXT PICTURE
    16   064E    8E  013B                       STX SPXIND
    17   0651    BD  0670'                      LDA X,TSPTIM
    18   0654    8D  013C                       STA SPFTIM
    19   064C    0A                             ENDIF
    20   0657    BC  0683'                      LDY X,TSPCOD
    21   065A    30    00                       IFPL                    ;SPECIAL ROUTINE THIS FRAME?
    22   065C    20  0694'                      JSR SPECIAL             ;YES. DO IT
    23   065B    03                             ENDIF
    24   065F    AD  013B                       LDA SPXIND
    25   0662    0A                             ASL
    26   0663    18                             CLC
    27   0664    69    00G                      ADC I,PTSPLA            ;GET OFFSET INTO TABLE
    28   0666    A8                             TAY
    29   0667    BE  0000G                      LDX Y,PICHI
    30   066A    B9  0000G                      LDA Y,PICLO
    31   066D    4C  0000G                      JMP VGADD2              ;MOVE JSRL TO PICTURE TO DISPLAY LIST
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 37
SPECIAL EXPLOSION DATABASE

     1                                          .SBTTL  SPECIAL EXPLOSION DATABASE
     2
     3                                                                  ;
     4                                                                  ;# OF FRAME/PICTURE
     5                                                                  ;
     6   0670    02                     TSPTIM: .BYTE 2                 ;SPLAT6;CHARGE PLAYER EXPLOSION START
     7   0671    02                             .BYTE 2                 ;SLAT5
     8   0672    02                             .BYTE 2                 ;SPLAT4
     9   0673    02                             .BYTE 2                 ;SPLAT3
    10   0674    02                             .BYTE 2                 ;SPLAT2
    11   0675    04                             .BYTE 4                 ;SPLAT1
    12   0676    03                             .BYTE 3                 ;SPLAT3
    13   0677    02                             .BYTE 2                 ;SPLAT5
    14   0678    01                     PPSTART:.BYTE 1                 ;SPLAT6;CHARGE PLAYER EXPLOSION FINISH;START PULSAR PLAYER BANG
    15   0679    20                             .BYTE 20
    16   067A    03                     FPSTART:        .BYTE 3         ;FUSE PLAYER PICS
    17   067B    03                             .BYTE 3
    18   067C    03                             .BYTE 3
    19   067D    03                             .BYTE 3
    20   067E    03                             .BYTE 3
    21   067F    03                             .BYTE 3
    22   0680    03                             .BYTE 3
    23   0681  0681'                    .               ;SHRAP
    24                                                                  ;
    25                                                                  ;SPECIAL SUBROUTINE FOR PICTURE
    26                                                                  ;
    27   0683    00                     TSPCOD: .BYTE 0                 ;SPLAT6-ALTER COLORS
    28   0684    02                             .BYTE 2                 ;SLAT5-ROTATE SPLAT COLORS
    29   0685    02                             .BYTE 2                 ;    4
    30   0686    02                             .BYTE 2                 ;    3
    31   0687    02                             .BYTE 2                 ;    2
    32   0688    02                             .BYTE 2                 ;    1
    33   0689    02                             .BYTE 2                 ;    3
    34   068A    02                             .BYTE 2                 ;    5
    35   068B    04                             .BYTE 4                 ;    6	GET SET FOR SHRAPNEL
    36   068C    06                             .BYTE 6                 ;SHRAP	CHANGE SCALE VARIABLE
    37   068D    FF                             .BYTE -1                ;FUSE PLAYER - JUST PICS
    38   068E    FF                             .BYTE -1
    39   068F    FF                             .BYTE -1
    40   0690    FF                             .BYTE -1
    41   0691    FF                             .BYTE -1
    42   0692    FF                             .BYTE -1
    43   0693    FF                             .BYTE -1
    44         FFFF                     CPSPXI  =-1
    45         0007                     PPSPXI  =PPSTART-TSPTIM-1
    46         0009                     FPSPXI  =FPSTART-TSPTIM-1
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 38
SPECIAL EXPLOSION FUNCTION

     1                                          .SBTTL  SPECIAL EXPLOSION FUNCTION
     2                                  ;
     3                                  ;INPUT:Y=INDEX INTO SUBROUTINE ADDRESS TABLE
     4                                  ;
     5   0694                           SPECIAL:
     6   0694    B9  069E'                      LDA Y,XSUBR+1
     7   0697    48                             PHA
     8   0698    B9  069D'                      LDA Y,XSUBR
     9   069B    48                             PHA
    10   069C    60                             RTS
    11
    12   069D  06A4'                    XSUBR:  .WORD ALTCOL-1          ;ALTER REGULAR COLORS
    13   069F  06BA'                            .WORD ROTCOL-1          ;ROTATE EXPLOSIN COLORS
    14   06A1  06CD'                            .WORD SETSHR-1          ;GET SET FOR SHRAPNEL
    15   06A3  06DB'                            .WORD SHRSCA-1          ;CHANGE SCALE VARIABLE
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 39
SPECIAL EXPLOSION SUBROUTINE

     1                                          .SBTTL  SPECIAL EXPLOSION SUBROUTINE
     2                                                                  ;
     3                                                                  ;ALTER COLOR
     4                                                                  ;
     5   06A5                           ALTCOL:
     6   06A5    A9    0C                       LDA I,ZRED              ;SET UP SLAT COLORS
     7   06A7    8D  080B                       STA COLPOR+PDIRED
     8   06AA    85    24                       STA COLRAM+PDIRED
     9   06AC    A9    04                       LDA I,ZYELLOW
    10   06AE    8D  080A                       STA COLPOR+PDIYEL
    11   06B1    85    23                       STA COLRAM+PDIYEL
    12   06B3    A9    00                       LDA I,ZWHITE
    13   06B5    85    22                       STA COLRAM+PDIWHI
    14   06B7    8D  0809                       STA COLPOR+PDIWHI
    15   06BA    60                             RTS
    16                                                                  ;
    17                                                                  ;ROTATE COLORS FOR PLAYER EXPLOSION
    18                                                                  ;
    19   06BB    A4    22               ROTCOL: LDY COLRAM+PDIWHI
    20   06BD    A2    02                       LDX I,2
    21                                          BEGIN
    22   06BF    B5    22                       LDA X,COLRAM+PDIWHI
    23   06C1    48                             PHA
    24   06C2    94    22                       STY X,COLRAM+PDIWHI
    25   06C4    98                             TYA
    26   06C5    9D  0809                       STA X,COLPOR+PDIWHI
    27   06C8    68                             PLA
    28   06C9    A8                             TAY
    29   06CA    CA                             DEX
    30   06CB    10    F2                       MIEND
    31   06CD    60                             RTS
    32   06CE                           SETSHR:                 ;GET SET FOR SHRAPNEL
    33   06CE    20  0FD6'                      JSR INICOL              ;RESTORE COLORS
    34   06D1    A9    7F                       LDA I,7F                ;INITIALIZE LINEAR & BINARY SCALES
    35   06D3    8D  0139                       STA SPLINE
    36   06D6    A9    04                       LDA I,4
    37   06D8    8D  013A                       STA SPBINA
    38   06DB    60                             RTS
    39   06DC                           SHRSCA:                 ;CHANGE SHRAPNEL SCALE VARIABLE
    40   06DC    AD  0139                       LDA SPLINE
    41   06DF    8D  0000G                      STA SCALE               ;LINEAR SCALE
    42   06E2    AD  013A                       LDA SPBINA
    43   06E5    09    70                       ORA I,70                ;SCALE OPCODE
    44   06E7    85    01G                      STA SCALE+1             ;BINARY SCALE
    45   06E9    A9    C0                       LDA I,0C0               ;RTSL
    46   06EB    85    03G                      STA SCALE+3
    47   06ED    AD  0139                       LDA SPLINE              ;UPDATE SCALE (BIGGER)
    48   06F0    38                             SEC
    49   06F1    E9    20                       SBC I,20
    50   06F3    10    00                       IFMI                    ;LINEAR OVERLFLOW?
    51   06F5    29    7F                       AND I,7F                ;YES.
    52   06F7    CE  013A                       DEC SPBINA              ;UPDATE BINARY
    53   06F4    05                             ENDIF
    54   06FA    8D  0139                       STA SPLINE
    55   06FD    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 40
SPECIAL EXPLOSION SUBROUTINE

     1
     2                                          .SBTTL  DISPLAY BIG BOOM
     3   06FE                           DSBOOM:
     4   06FE    A9    00                       LAH KILLER+1
         06FF  0001G
     5   0700    A2    00                       LXL KILLER
         0701  0000G
     6   0702    20  0000G                      JSR VGJSRL              ;KILL BEAM KILLER
     7   0705    A9    00                       LDA I,0                 ;CLEAR CURRENT SCREEN POSITION
     8   0707    85    6A                       STA CURNTX
     9   0709    85    6B                       STA CURNTX+1
    10   070B    85    6C                       STA CURNTY
    11   070D    85    6D                       STA CURNTY+1
    12   070F    8D  0202                       STA CURSY
    13   0712    85    68                       STA ZADJL
    14   0714    85    69                       STA ZADJL+1
    15   0716    A9    E0                       LDA I,0E0
    16   0718    85    5F                       STA EYL
    17   071A    A9    FF                       LDA I,0FF
    18   071C    85    5B                       STA EYH
    19   071E    20  07AB'                                      JSR WHICHB
    20   0721    85    77                       STA SVGLIST+1
    21   0723    86    76                       STX SVGLIST
    22                                                  ;SET UP SUBROUTINE PC
    23   0725    A2    0F                       LDX I,NPARTI-1
    24   0727    86    37                       STX INDEX1
    25                                          BEGIN                   ;LOOP FOR EACH PARTICLE
    26   0729    A6    37                       LDX INDEX1
    27   072B    BD  0283                       LDA X,PARTIY
    28   072E    F0    00                       IFNE                    ;ACTIVE PARTICLE?
    29   0730    85    57                       STA PYL
    30   0732    BD  0263                       LDA X,PARTIX
    31   0735    85    56                       STA PXL
    32   0737    BD  02A3                       LDA X,PARTIZ
    33   073A    85    58                       STA PZL
    34   073C    20  0EDA'                      JSR WORSCR              ;PROJECT PT.
    35   073F    A9    00                       LDA I,0
    36   0741    85    73                       STA VGBRIT
    37   0743    20  0788'                      JSR SWAPVG              ;SWAP POINTERS TO VG MAINLINE & SUBROUTINE
    38   0746    20  11FA'                      JSR CONNEC              ;DRAW VECTOR IN SUBROUTINE
    39   0749    A9    A0                       LDA I,0A0
    40   074B    20  03B0'                      JSR VGDOT               ;DRAW DOT IN SUBROUTINE
    41   074E    20  0788'                      JSR SWAPVG              ;SWAP MAINLINE TO VG PTRS.
    42   0751    A2    61                       LDX I,SXL
    43   0753    20  15B1'                      JSR VGYABS
    44   0756    20  0799'                      JSR CALMAG              ;CALCULATE MAGNIF FACTOR
    45   0759    20  0000G                      JSR VGSCAL              ;Y=LINEAR;ACC=BINARY;PLACE INTO MAINLINE
    46   075C    A5    37                       LDA INDEX1
    47   075E    29    07                       AND I,7
    48   0760    C9    07                       CMP I,7
    49   0762    D0    00                       IFEQ
    50   0764    A9    00                       LDA I,0
    51   0763    02                             ENDIF
    52   0766    A8                             TAY
    53   0767    84    9E                       STY COLOR
    54   0769    A9    08                       LDA I,MZCOLO
    55   076B    20  0000G                      JSR VGSTAT              ;PLACE INTO MAINLINE
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 40+
DISPLAY BIG BOOM

    56   076E    A9    00                       LDA I,MZBRIT
    57   0770    20  0000G                      JSR VGSTA1              ;SET INTENSITY
    58   0773    20  07AB'                      JSR WHICHB
    59   0776    20  0000G                      JSR VGJSRL              ;PLACE JSRL TO SUBROUTINE INTO MAINLINE
    60   072F    49                             ENDIF
    61   0779    C6    37                       DEC INDEX1
    62   077B    10    AC                       MIEND
    63   077D    20  0788'                      JSR SWAPVG              ;SWAP MAINLINE & SUBROUTINE PTRS.
    64   0780    A9    01                       LDA I,1                 ;AT END OF SUBROUTINE:
    65   0782    20  0000G                      JSR VGSCA1              ;RESTORE SCALE
    66   0785    20  0000G                      JSR VGRTSL              ;RTS
    67   0788    A6    74               SWAPVG: LDX VGLIST              ;SWAP MAINLINE SUBROUTINE PTRS.
    68   078A    A4    75                       LDY VGLIST+1
    69   078C    A5    76                       LDA SVGLIST
    70   078E    85    74                       STA VGLIST
    71   0790    86    76                       STX SVGLIST
    72   0792    A5    77                       LDA SVGLIST+1
    73   0794    85    75                       STA VGLIST+1
    74   0796    84    77                       STY SVGLIST+1
    75   0798    60                             RTS
    76
    77   0799                           CALMAG:
    78   0799    A5    57                       LDA PYL
    79   079B    4A                             LSR
    80   079C    4A                             LSR
    81   079D    4A                             LSR
    82   079E    4A                             LSR
    83   079F    A0    00                       LDY I,0
    84                                          BEGIN
    85   07A1    C8                             INY
    86   07A2    4A                             LSR
    87   07A3    D0    FC                       EQEND
    88   07A5    18                             CLC
    89   07A6    69    02                       ADC I,2
    90   07A8    A0    00                       LDY I,0
    91   07AA    60                             RTS
    92   07AB                           WHICHB:
    93   07AB    AD  0415G                      LDA BUFACT+BCINFO
    94   07AE    F0    00                       IFNE
    95   07B0    A5    01G                      LDA BFASTA+1
    96   07B2    AE  0000G                      LDX BFASTA
    97   07B5    B8    50    00                 ELSE
         07AF    08
    98   07B8    A5    01G                      LDA BFBSTA+1
    99   07BA    AE  0000G                      LDX BFBSTA
   100   07B7    05                             ENDIF
   101   07BD    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 41
DISPLAY BIG BOOM

     1
     2                                          .SBTTL  TABLES-WELL COORDINATES(WORLD)
     3         00F0                     DG0     =70+80
     4         00E7                     DG225   =67+80
     5         00CF                     DG450   =4F+80
     6         00AA                     DG675   =2A+80
     7         0080                     DG900   =0+80
     8   07BE    F0    E7    CF    AA   NEWLIX: .BYTE DG0,DG225,DG450,DG675,DG900       ;CIRCLE
         07C2    80
     9   07C3    56    31    19    10           .BYTE -DG675,-DG450,-DG225,-DG0
    10   07C7    19    31    56                 .BYTE -DG225,-DG450,-DG675
    11   07CA    80    AA    CF                 .BYTE DG900,DG675,DG450
    12   07CD    E7                     LCIRCL: .BYTE DG225
    13         00F0                     DI0     =0F0
    14         00B8                     DI1     =0B8
    15         0080                     DI2     =80
    16         0048                     DI3     =48
    17         0010                     DI4     =10
    18   07CE    F0    F0    F0    B8           .BYTE DI0,DI0,DI0,DI1           ;SQUARE
    19   07D2    80    48    10    10           .BYTE DI2,DI3,DI4,DI4
    20   07D6    10    10    10    48           .BYTE DI4,DI4,DI4,DI3
    21   07DA    80    B8    F0                 .BYTE DI2,DI1,DI0
    22   07DD    F0                     LDIAMO: .BYTE DI0
    23         00F0                     CR0     =70+80
    24         00F0                     CR1     =70+80
    25         00B8                     CR2     =38+80
    26         00B8                     CR3     =38+80
    27         0080                     CR4     =0+80
    28   07DE    F0    F0    B8    B8           .BYTE CR0,CR1,CR2,CR3,CR4       ;CROSS
         07E2    80
    29   07E3    48    48    10    10           .BYTE -CR3,-CR2,-CR1,-CR0
    30   07E7    10    48    48                 .BYTE -CR1,-CR2,-CR3
    31   07EA    80    B8    B8                 .BYTE CR4,CR3,CR2
    32   07ED    F0                     LCROSS: .BYTE CR1
    33         00EC                     PX0     =6C+80
    34         00D5                     PX1     =55+80
    35         00B1                     PX2     =31+80
    36         0090                     PX3     =10+80
    37         0094                     PZ0     =14+80
    38         00B0                     PZ1     =30+80
    39         00B8                     PZ2     =38+80
    40         00A7                     PZ3     =27+80
    41   07EE    EC    D5    B1    90           .BYTE PX0,PX1,PX2,PX3   ;PEANUT
    42   07F2    70    4F    2B    14           .BYTE -PX3,-PX2,-PX1,-PX0
    43   07F6    14    2B    4F    70           .BYTE -PX0,-PX1,-PX2,-PX3
    44   07FA    90    B1    D5                 .BYTE PX3,PX2,PX1
    45   07FD    EC                     LPEANU: .BYTE PX0
    46   07FE    F0    C0    A0    94           .BYTE 0F0,0C0,0A0,94,6C,60,40,10        ;4 KEY
         0802    6C    60    40    10
    47   0806    10    40    60    6C           .BYTE 10,40,60,6C,94,0A0,0C0,0F0
         080A    94    A0    C0    F0
    48   080E    D9    C2    AC    97           .BYTE 0D9,0C2,0AC,97,80,69,52,3C,27,10  ;TRIANGLE
         0812    80    69    52    3C
         0816    27    10
    49   0818    35    5A    80    A6           .BYTE 35,5A,80,0A6,0CA,0F0
         081C    CA    F0
    50   081E    EA    E0    9C    80           .BYTE 0EA,0E0,9C,80,64,20,16,50         ;CLOVER
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 41+
TABLES-WELL COORDINATES(WORLD)

         0822    64    20    16    50
    51   0826    16    20    64    80           .BYTE 16,20,64,80,9C,0E0,0EA,0B0
         082A    9C    E0    EA    B0
    52   082E    10    1E    2C    3A           .BYTE 10,1E,2C,3A,48,56,64,70           ;V
         0832    48    56    64    70
    53   0836    90    9E    AC    BA           .BYTE 90,9E,0AC,0BA,0C8,0D6,0E4,0F0
         083A    C8    D6    E4    F0
    54   083E    10    1E    2D    3C           .BYTE 10,1E,2D,3C,4B,5A,69,78,87        ;PLANE
         0842    4B    5A    69    78
         0846    87
    55   0847    96    A5    B4    C3           .BYTE 96,0A5,0B4,0C3,0D2,0E1,0F0
         084B    D2    E1    F0
    56   084E    10    10    10    10           .BYTE 10,10,10,10,16,29,46,69,97        ;U
         0852    16    29    46    69
         0856    97
    57   0857    BA    D7    EA    F0           .BYTE 0BA,0D7,0EA,0F0,0F0,0F0,0F0
         085B    F0    F0    F0
    58   085E    10    24    30    36           .BYTE 10,24,30,36,3E,49,5A,75   ;JAGGED
         0862    3E    49    5A    75
    59   0866    94    A4    AC    BA           .BYTE 94,0A4,0AC,0BA,0DA,0E2,0EA,0F0
         086A    DA    E2    EA    F0
    60                                                                  ;
    61   086E    80    70    48    20           .BYTE 80,70,48,20       ;LYING 8
    62   0872    10    20    48    70           .BYTE 10,20,48,70
    63   0876    80    90    B8    E0           .BYTE 80,90,0B8,0E0
    64   087A    F0    E0    B8    90           .BYTE 0F0,0E0,0B8,90
    65                                                                  ;
    66   087E    DA    A4    87    80           .BYTE 0DA,0A4,87,80,79,5C,26,10 ;HEART
         0882    79    5C    26    10
    67   0886    10    20    48    80           .BYTE 10,20,48,80,0B8,0E0,0F0,0F0
         088A    B8    E0    F0    F0
    68   088E    10    10    30    30           .BYTE 10,10,30,30,50,50,70,70   ;STAIRCASE
         0892    50    50    70    70
    69   0896    90    90    B0    B0           .BYTE 90,90,0B0,0B0,0D0,0D0,0F0,0F0
         089A    D0    D0    F0    F0
    70   089E    B0    80    50    47           .BYTE 0B0,80,50,47,18,30,18,47          ;STAR X
         08A2    18    30    18    47
    71   08A6    50    80    B0    B9           .BYTE 50,80,0B0,0B9,0E8,0D4,0E8,0B9
         08AA    E8    D4    E8    B9
    72   08AE    10    1E    21    28           .BYTE 10,1E,21,28,3C,55,66,73           ;WAVE X
         08B2    3C    55    66    73
    73   08B6    8D    9A    AB    C4           .BYTE 8D,9A,0AB,0C4,0D8,0DF,0E2,0F0
         08BA    D8    DF    E2    F0
    74   08BE    80    AA    CF    E7   NEWLIZ: .BYTE DG900,DG675,DG450,DG225,DG0       ;CIRCLE
         08C2    F0
    75   08C3    E7    CF    AA    80           .BYTE DG225,DG450,DG675,DG900
    76   08C7    56    31    19    10           .BYTE -DG675,-DG450,-DG225,-DG0
    77   08CB    19    31    56                 .BYTE -DG225,-DG450,-DG675
    78
    79   08CE    80    B8    F0    F0           .BYTE DI2,DI1,DI0,DI0
    80   08D2    F0    F0    F0    B8           .BYTE DI0,DI0,DI0,DI1
    81   08D6    80    48    10    10           .BYTE DI2,DI3,DI4,DI4
    82   08DA    10    10    10    48           .BYTE DI4,DI4,DI4,DI3
    83   08DE    80    B8    B8    F0           .BYTE CR4,CR3,CR2,CR1,CR0       ;CROSS
         08E2    F0
    84   08E3    F0    B8    B8    80           .BYTE CR1,CR2,CR3,CR4
    85   08E7    48    48    10    10           .BYTE -CR3,-CR2,-CR1,-CR0
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 41+
TABLES-WELL COORDINATES(WORLD)

    86   08EB    10    48    48                 .BYTE -CR1,-CR2,-CR3
    87
    88   08EE    94    B0    B8    A7           .BYTE PZ0,PZ1,PZ2,PZ3           ;PEANUT
    89   08F2    A7    B8    B0    94           .BYTE PZ3,PZ2,PZ1,PZ0
    90   08F6    6C    50    48    59           .BYTE -PZ0,-PZ1,-PZ2,-PZ3
    91   08FA    59    48    50    6C           .BYTE -PZ3,-PZ2,-PZ1,-PZ0
    92                                                                  ;
    93   08FE    96    A3    C5    F0           .BYTE 96,0A3,0C5,0F0,0F0,0C5,0A3,96     ;4 KEY
         0902    F0    C5    A3    96
    94   0906    6A    5D    3B    10           .BYTE 6A,5D,3B,10,10,3B,5D,6A
         090A    10    3B    5D    6A
    95   090E    3D    6A    97    C4           .BYTE 3D,6A,97,0C4,0F0,0C4,97,6A,3D     ;TRIANGLE
         0912    F0    C4    97    6A
         0916    3D
    96   0917    10    10    10    10           .BYTE 10,10,10,10,10,10,10
         091B    10    10    10
    97   091E    A0    E0    EA    B0           .BYTE 0A0,0E0,0EA,0B0,0EA,0E0,0A0,80    ;CLOVER
         0922    EA    E0    A0    80
    98   0926    60    20    16    50           .BYTE 60,20,16,50,16,20,60,80
         092A    16    20    60    80
    99   092E    F0    D0    B0    90           .BYTE 0F0,0D0,0B0,90    ;V
   100   0932    70    50    30    10           .BYTE 70,50,30,10
   101   0936    10    30    50    70           .BYTE 10,30,50,70
   102   093A    90    B0    D0    F0           .BYTE 90,0B0,0D0,0F0
   103         0010                             .REPT 10                ;PLANE (LOW)
   104                                          .BYTE 40
   105   093E    40    40    40    40           .ENDR
         0942    40    40    40    40
         0946    40    40    40    40
         094A    40    40    40    40
   106   094E    F0    CB    A6    80           .BYTE 0F0,0CB,0A6,80,5C,39,20,12        ;U
         0952    5C    39    20    12
   107   0956    12    20    39    5C           .BYTE 12,20,39,5C,80,0A6,0CB,0F0
         095A    80    A6    CB    F0
   108                                                                  ;
   109   095E    C0    A6    8A    6A           .BYTE 0C0,0A6,8A,6A,4A,2F,14,24 ;JAGGED
         0962    4A    2F    14    24
   110   0966    20    39    59    75           .BYTE 20,39,59,75,72,90,0B0,0D0
         096A    72    90    B0    D0
   111                                                                  ;
   112   096E    80    57    48    57           .BYTE 80,57,48,57       ;BIG 8
   113   0972    80    A9    BA    A9           .BYTE 80,0A9,0BA,0A9    ;
   114   0976    80    57    48    57           .BYTE 80,57,48,57
   115   097A    80    A9    BA    A9           .BYTE 80,0A9,0BA,0A9
   116                                                                  ;
   117   097E    E4    E8    B7    80           .BYTE 0E4,0E8,0B7,80,0B7,0E8,0E4,0B2    ;HEART
         0982    B7    E8    E4    B2
   118   0986    7A    47    20    10           .BYTE 7A,47,20,10,20,47,7A,0B2
         098A    20    47    7A    B2
   119   098E    90    70    70    50           .BYTE 90,70,70,50,50,30,30,10   ;STAIRCASE
         0992    50    30    30    10
   120   0996    10    30    30    50           .BYTE 10,30,30,50,50,70,70,90
         099A    50    70    70    90
   121   099E    E6    D0    E6    B9           .BYTE 0E6,0D0,0E6,0B9,0AE,80,52,47      ;STAR Z
         09A2    AE    80    52    47
   122   09A6    14    30    14    47           .BYTE 14,30,14,47,52,80,0AE,0B9
         09AA    52    80    AE    B9
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 41+
TABLES-WELL COORDINATES(WORLD)

   123   09AE    7E    6A    51    3A           .BYTE 7E,6A,51,3A,2C,2C,38,4E           ;WAVE Z
         09B2    2C    2C    38    4E
   124   09B6    4E    38    2C    2C           .BYTE 4E,38,2C,2C,3A,51,6A,7E
         09BA    3A    51    6A    7E
   125   09BE    05    06    07    08   ILINANG:.BYTE 5,6,7,8,9,10.,11.,12.,13.,14.,15.,0,1,2,3,4       ;CIRCLE
         09C2    09    0A    0B    0C
         09C6    0D    0E    0F    00
         09CA    01    02    03    04
   126   09CE    04    04    08    08           .BYTE 4,4,8,8,8,8,0C,0C,0C,0C,0,0,0,0,4,4       ;SQUARE
         09D2    08    08    0C    0C
         09D6    0C    0C    00    00
         09DA    00    00    04    04
   127   09DE    04    08    04    08           .BYTE 4,8,4,8,8,0C,8,0C,0C,0,0C,0,0,4,0,4       ;CROSS
         09E2    08    0C    08    0C
         09E6    0C    00    0C    00
         09EA    00    04    00    04
   128   09EE    06    07    09    08           .BYTE 6,7,09,8,7,9,0A,0C,0E,0F,1,0,0F,01,02,4   ;PEANUT
         09F2    07    09    0A    0C
         09F6    0E    0F    01    00
         09FA    0F    01    02    04
   129   09FE    07    06    05    08           .BYTE 7,6,5,8,0B,0A,9,0C,0F,0E,0D,0,3,2,1,4     ;4 KEY
         0A02    0B    0A    09    0C
         0A06    0F    0E    0D    00
         0A0A    03    02    01    04
   130   0A0E    05    05    05    05           .BYTE 5,5,5,5,0B,0B,0B,0B,0B,0,0,0,0,0,0,5      ;TRIANGLE
         0A12    0B    0B    0B    0B
         0A16    0B    00    00    00
         0A1A    00    00    00    05
   131   0A1E    04    08    0B    05           .BYTE 4,8,0B,5,8,0C,0E,9,0C,0,3,0D,0,4,7,2      ;CLOVER
         0A22    08    0C    0E    09
         0A26    0C    00    03    0D
         0A2A    00    04    07    02
   132   0A2E    0D    0D    0D    0D           .BYTE 0D,0D,0D,0D,0D,0D,0D,0,3,3,3,3,3,3,3,0    ;V
         0A32    0D    0D    0D    00
         0A36    03    03    03    03
         0A3A    03    03    03    00
   133   0A3E    00    00    00    00           .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0           ;FLAT
         0A42    00    00    00    00
         0A46    00    00    00    00
         0A4A    00    00    00    00
   134   0A4E    0C    0C    0C    0D           .BYTE 0C,0C,0C,0D,0E,0F,0F,0,1,1,2,3,4,4,4,0    ;U
         0A52    0E    0F    0F    00
         0A56    01    01    02    03
         0A5A    04    04    04    00
   135   0A5E    0E    0D    0C    0D           .BYTE 0E,0D,0C,0D,0D,0D,1,0F,2,3,3,0,3,3,3,0;JAGGED
         0A62    0D    0D    01    0F
         0A66    02    03    03    00
         0A6A    03    03    03    00
   136   0A6E    0B    09    07    05           .BYTE 0B,9,7,5,3,1,0F,0D,0D,0F,1,3,5,7,9,0B     ;LYING 8
         0A72    03    01    0F    0D
         0A76    0D    0F    01    03
         0A7A    05    07    09    0B
   137   0A7E    08    0B    0C    04           .BYTE 8,0B,0C,4,5,8,0B,0C,0D,0E,0F,1,2,3,4,5;HEART
         0A82    05    08    0B    0C
         0A86    0D    0E    0F    01
         0A8A    02    03    04    05
   138   0A8E    0C    00    0C    00           .BYTE 0C,0,0C,0,0C,0,0C,0,4,0,4,0,4,0,4,0       ;STAIRCASE
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 41+
TABLES-WELL COORDINATES(WORLD)

         0A92    0C    00    0C    00
         0A96    04    00    04    00
         0A9A    04    00    04    00
   139   0A9E    0A    06    0C    08           .BYTE 0A,6,0C,8,0E,0A,0,0C              ;STAR ANGLES
         0AA2    0E    0A    00    0C
   140   0AA6    02    0E    04    00           .BYTE 2,0E,4,0,6,2,8,4
         0AAA    06    02    08    04
   141   0AAE    0E    0C    0D    0E           .BYTE 0E,0C,0D,0E,0,2,2,0               ;WAVE ANGLES
         0AB2    00    02    02    00
   142   0AB6    0E    0E    00    02           .BYTE 0E,0E,0,2,3,4,2,0
         0ABA    03    04    02    00
   143                                                                                          ;
   144                                                                                          ;OTHER WELL PARAMETERS
   145                                                                                          ;
   146   0ABE    00    01    02    03   WELSEQ: .BYTE 0,1,2,3,4,5,6,7,0D,9,8,0C,0E,0F,0A,0B     ;WELL ID SEQUENCE(WAVE)
         0AC2    04    05    06    07
         0AC6    0D    09    08    0C
         0ACA    0E    0F    0A    0B
   147   0ACE                           WELSEN:                                                 ;
   148   0ACE    18    1C    18    0F   HOLEYL: .BYTE 18,1C,18,0F,18,18,18,18,0A,18,10,0F,18,0C,14,0A           ;EYE POSITION (Y)
         0AD2    18    18    18    18
         0AD6    0A    18    10    0F
         0ADA    18    0C    14    0A
   149   0ADE    50    50    50    68   HOLEZL: .BYTE 50,50,50,68,50,50,68,0B0,0A0,50,90,80,20,0B0,60,0A0       ;EYE POSITION (Z)
         0AE2    50    50    68    B0
         0AE6    A0    50    90    80
         0AEA    20    B0    60    A0
   150   0AEE    40    20    40    80   HOLZAD: .BYTE 40,20,40,80,40,40,70,60,0,20,40,0,0A0,40,40,0;CENTER ADJUST
         0AF2    40    40    70    60
         0AF6    00    20    40    00
         0AFA    A0    40    40    00
   151   0AFE    FF    FF    FF    FF   HOLZDH: .BYTE 0FF,0FF,0FF,0FF,0FF,0FF,0FF,0,1,0FF,0,0,0FE,1,0FF,1
         0B02    FF    FF    FF    00
         0B06    01    FF    00    00
         0B0A    FE    01    FF    01
   152   0B0E    00    00    00    00   HOLRAP: .BYTE 0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,-1,0,-1     ;PLANAR(-1)/CLOSED(0) FLAG
         0B12    00    00    00    FF
         0B16    FF    FF    FF    00
         0B1A    00    FF    00    FF
   153   0B1E    00    00    60    40   WELLIS: .BYTE 0,0,60,40,0,0,48,40,50,28,50,0,0,50,0,40  ;LINEAR SCALE FOR JUMPER
         0B22    00    00    48    40
         0B26    50    28    50    00
         0B2A    00    50    00    40
   154   0B2E    04    04    03    04   WELBIN: .BYTE 4,4,3,4,4,4,3,4,5,4,4,4,4,4,4,5   ;BINARY SCALE FOR JUMPER
         0B32    04    04    03    04
         0B36    05    04    04    04
         0B3A    04    04    04    05
   155   0B3E    00G                    CHKSM7::        .BYTE QCHKS7
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 43
TABLES-WELL COORDINATES(WORLD)

     1
     2                                          .SBTTL UTILITY - DISPLAY PIC BETWEEN PTS.
     3                                  ;FUNCTION: DISPLAY A PICTURE CENTERED BETWEEN 2 POINTS AND SCALED
     4                                  ;	DOWN ACCORDING TO ITS DEPTH
     5                                  ;
     6
     7                                  ;INPUT: X = INDEX INTO LINEX,Z OF 1ST PT'S X & Z WC WORDS
     8                                  ;	Y = INDEX INTO LINEX,Z OF 2ND PT'S X & Z WC WORDS
     9                                  ;	COLOR=COLOR OF OBJECT
    10                                  ;	PYL = Y WC COORD FOR BOTH PTS.
    11                                  ;	ACC = CODE FOR PICTURE TO DISPLAY (INDEX INTO PICLO)
    12   0B3F                           SCAPIC:
    13   0B3F    85    55                       STA OBJIND
    14   0B41    B9  0435                       LDA Y,LINEXM            ;CALCULATE X COORD. OF MIDWAY PT.
    15   0B44    85    56                       STA PXL
    16   0B46    B9  0445                       LDA Y,LINEZM            ;CALCULATE Z COORD OF MIDWAYPT.
    17   0B49    85    58                       STA PZL
    18                                  ;
    19                                  ;INPUT: PX,Y,Z=LOC OF OBJECT
    20                                  ;	OBJIND=INDEX INTO PTR. TABLE
    21                                  ;	COLOR=COLOR OF OBJECT
    22   0B4B                           SCAPI2:
    23   0B4B    20  0EDA'                      JSR WORSCR              ;PROJECT MIDWAY PT. ONTO SCREEN.
    24
    25   0B4E    A2    61                       LDX I,SXL
    26   0B50    20  15A4'                      JSR VGYAB1              ;DRAW BLANK VECTOR TO MIDWAY PT.
    27   0B53    A9    00                       LDA I,0         ;START AT VGLIST
    28   0B55    85    A9                       STA VGY
    29   0B57    20  0B80'                      JSR CASCAL              ;CALCULATE SCALE FOR PT.
    30   0B5A    A5    78                       LDA BFACTR
    31   0B5C    49    07                       EOR I,7
    32   0B5E    0A                             ASL
    33   0B5F    C9    0A                       CMP I,0A
    34   0B61    B0    00                       IFCC
    35   0B63    A9    0A                       LDA I,0A
    36   0B62    02                             ENDIF
    37   0B65    0A                             ASL
    38   0B66    0A                             ASL
    39   0B67    0A                             ASL
    40   0B68    0A                             ASL
    41   0B69    91    74                       STA NY,VGLIST           ;BRIGHTNESS
    42   0B6B    C8                             INY
    43   0B6C    A9    60                       LDA I,60
    44   0B6E    91    74                       STA NY,VGLIST
    45   0B70    C8                             INY
    46   0B71    84    A9                       STY VGY
    47   0B73    A4    55                       LDY OBJIND
    48   0B75    BE  0000G                      LDX Y,PICHI
    49   0B78    B9  0000G                      LDA Y,PICLO
    50   0B7B    A4    A9                       LDY VGY
    51   0B7D    4C  0000G                      JMP VGADD3              ;DRAW PIC AT PT.
    52                                          ;RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 44
UTILITY - DERIVE BINARY AND LINEAR SCALE FACTORS GIVEN DEPTH

     1                                          .SBTTL UTILITY - DERIVE BINARY AND LINEAR SCALE FACTORS GIVEN DEPTH
     2                                  ;INPUT: PYL = OBJECT DEPTH	;EYL,H=EYEPOSITION
     3                                  ;	VGY=OFFSET INTO VGLIST
     4                                  ;OUTPUT:BFACTR,BINARY TO LINEAR SCALE FACTORS READY FOR VGSCAL
     5                                  ;	ACC = BFACTR		;Y=LFACTR
     6   0B80                           CASCAL:
     7
     8
     9   0B80    A5    57                       LDA PYL                 ;CALCULATE YDELTAS
    10   0B82    C9    10                       CMP I,10                ;***
    11   0B84    90    00                       IFCS
    12   0B86    38                             SEC
    13   0B87    E5    5F                       SBC EYL
    14   0B89    8D  6095                       STA MXPL
    15   0B8C    A9    00                       LDA I,0
    16   0B8E    E5    5B                       SBC EYH
    17   0B90    8D  6096                       STA MXPH                ;  (Y DELTA FOR PT TO DISPLAY)
    18   0B93    A9    18                       LDA I,18                ;SET UP MATH BOX TO GIVE FRACTIONAL PORTION
    19   0B95    8D  608C                       STA MNL                 ;OF QUOTIENT IN MYHIGH AND MYLOW
    20
    21   0B98    A5    A0                       LDA YDEUNI              ;***
    22   0B9A    8D  608E                       STA MZLH                ;  (Y DELTA FOR SCALE = 1)
    23   0B9D    8D  6094                       STA MSZXD               ;START DIVIDE (Z/X)
    24
    25                                          BEGIN
    26   0BA0    2C  6040                       BIT MSTAT
    27   0BA3    30    FB                       PLEND                   ;EXIT LOOP WHEN DIVIDE IS DONE
    28
    29   0BA5    AD  6060                       LDA MYLOW               ;RESULT IS SCALE FACTOR
    30   0BA8    85    79                       STA SCFL
    31   0BAA    AD  6070                       LDA MYHIGH
    32   0BAD    85    7A                       STA SCFL+1
    33   0BAF    A2    0F                       LDX I,0F                ;RESTORE MATH BOX QUOTIENT SIZE
    34   0BB1    8E  608C                       STX MNL
    35   0BB4    38                             SEC
    36   0BB5    E9    01                       SBC I,1
    37   0BB7    D0    00                       IFEQ
    38   0BB9    A9    01                       LDA I,01
    39   0BB8    02                             ENDIF
    40   0BBB    A2    00                       LDX I,0
    41                                          BEGIN
    42   0BBD    E8                             INX
    43   0BBE    06    79                       ASL SCFL
    44   0BC0    2A                             ROL
    45   0BC1    90    FA                       CSEND
    46
    47   0BC3    4A                             LSR
    48   0BC4    49    7F                       EOR I,7F
    49   0BC6    18                             CLC
    50   0BC7    69    01                       ADC I,1
    51   0BC9    A8                             TAY
    52   0BCA    8A                             TXA
    53   0BCB    B8    50    00                 ELSE
         0B85    48
    54   0BCE    A9    01                       LDA I,1                 ;SET MAX SCALE FACTOR(1)
    55   0BD0    A0    00                       LDY I,0
    56   0BCD    04                             ENDIF
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 44+
UTILITY - DERIVE BINARY AND LINEAR SCALE FACTORS GIVEN DEPTH

    57   0BD2    85    78                       STA BFACTR
    58   0BD4    48                             PHA
    59   0BD5    98                             TYA
    60   0BD6    A4    A9                       LDY VGY
    61   0BD8    91    74                       STA NY,VGLIST           ;LINEAR FACTOR
    62   0BDA    C8                             INY
    63   0BDB    68                             PLA
    64   0BDC    09    70                       ORA I,70                ;SCALE OPCODE
    65   0BDE    91    74                       STA NY,VGLIST           ;BINARY FACTOR
    66   0BE0    C8                             INY                     ;RETURN WITH Y PT TO NEXT VG SLOT
    67   0BE1    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 45
UTILITY-DRAW OBJECT BETWEEN POINTS

     1                                          .SBTTL UTILITY-DRAW OBJECT BETWEEN POINTS
     2                                  ;INPUT:
     3                                  ;	Y=INDEX INTO LEXEX,LINEZ OF 2ND POINT'S X & Z WC COORDS
     4                                  ;
     5                                  ;ACC	=INDEX INTO PCOUNT & PINDEX, USED TO SET UP INDEX1 AND SUBCOU
     6                                  ;	INDEX1:OFFSET INTO SUBVEC
     7                                  ;	       ARRAYS OF 1ST VECTOR PARAMETERE OF OBJECT
     8                                  ;	SUBCOU:# OF VECTORS TO BE DRAWN
     9                                  ;	PYL,=1ST POINT (WC)
    10   0BE2                           ONELIN:
    11   0BE2    85    36                       STA SAVEY
    12   0BE4    B9  03CE                       LDA Y,LINEX
    13   0BE7    85    56                       STA PXL
    14   0BE9    B9  03DE                       LDA Y,LINEZ
    15   0BEC    85    58                       STA PZL
    16   0BEE    A5    57                       LDA PYL
    17   0BF0    85    2F                       STA TEMPY
    18   0BF2    98                             TYA
    19   0BF3    18                             CLC                     ;CALCULATE ADJACENT CW LINE #
    20   0BF4    69    01                       ADC I,1
    21   0BF6    29    0F                       AND I,0F
    22   0BF8    AA                             TAX
    23   0BF9    BD  03CE                       LDA X,LINEX
    24   0BFC    85    2E                       STA TEMPX
    25   0BFE    BD  03DE                       LDA X,LINEZ
    26   0C01    85    30                       STA TEMPZ
    27   0C03    A9    00                       LDA I,0                 ;SET UP FOR 1,16. SCALE
    28   0C05    85    59                       STA LINSCA
    29   0C07    A9    04                       LDA I,4
    30   0C09    85    5A                       STA BINSCA
    31   0C0B    A4    36                       LDY SAVEY
    32                                  ;INPUT:	Y=PIC ID
    33                                  ;	TEMPX,TEMPY,TEMPZ=RIGHT PT.WC
    34                                  ;	PXL,PYL,PZL=LEFT PT.WC
    35   0C0D                           ONELN2:                         ;INPUT: Y=PIC #
    36   0C0D    A5    5B                       LDA EYH
    37   0C0F    30    00                       IFPL                    ;IF LINE WOULD BE BEHIND EYE
    38   0C11    A5    57                       LDA PYL
    39   0C13    C5    5F                       CMP EYL
    40   0C15    B0    00                       IFCC
    41   0C17    60                             RTS                     ;THEN ABORT LINE
    42   0C16    01                             ENDIF
    43   0C10    07                             ENDIF
    44   0C18    B9  0DF8'                      LDA Y,PCOUNT
    45   0C1B    85    99                       STA SUBCOU
    46   0C1D    B9  0E06'                      LDA Y,PINDEX
    47   0C20    85    38                       STA INDEX2
    48   0C22    A4    9E                       LDY COLOR
    49   0C24    A9    08                       LDA I,MZCOLO
    50   0C26    20  0000G                      JSR VGSTAT              ;SET BEAM COLOR
    51                                          ;JSR SETINT		;SET INTENSITY AS FUNC OF PYL
    52   0C29    20  0EDA'                      JSR WORSCR              ;PROJECT 1ST POINT ONTO SCREEN
    53   0C2C    A2    61                       LDX I,SXL
    54   0C2E    20  15A4'                      JSR VGYAB1              ;POSITION BEAM AT 1ST POINT
    55                                                                  ;SAVE SCREEN COORDS OF 1ST POINT
    56   0C31    A5    2E                       LDA TEMPX
    57   0C33    85    56                       STA PXL
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 45+
UTILITY-DRAW OBJECT BETWEEN POINTS

    58   0C35    A5    2F                       LDA TEMPY
    59   0C37    85    57                       STA PYL
    60   0C39    A5    30                       LDA TEMPZ
    61   0C3B    85    58                       STA PZL
    62   0C3D    20  0EDA'                      JSR WORSCR              ;PROJECT 2ND POINT ONTO SCREEN
    63                                                                  ;CALCULATE + AND - UNIT AND PERPENDICULAR
    64                                                                  ;UNIT VECTORS FOR THESE 2 POINTS
    65   0C40    A4    59                       LDY LINSCA
    66   0C42    A5    5A                       LDA BINSCA
    67   0C44    20  0000G                      JSR VGSCAL              ;REDUCE SCALE BY APPROX. 1/16.
    68   0C47    A5    61                       LDA SXL                 ;CALCULATE VECTOR FROM ONE ENDPT TO OTHER
    69   0C49    38                             SEC                     ;IN SCREEN UNITS (UNIT VECTOR)
    70   0C4A    E5    6A                       SBC CURNTX
    71   0C4C    85    79                       STA X1L
    72   0C4E    A5    62                       LDA SXH
    73   0C50    E5    6B                       SBC CURNTX+1
    74   0C52    85    9B                       STA UNITXH
    75   0C54    30    00                       IFPL                    ;MAXIMIZE AT 1 BYTE
    76   0C56    F0    00                       IFNE                    ;PLUS. > 1 BYTE?
    77   0C58    A9    FF                       LDA I,0FF               ;YES MAX OUT
    78   0C5A    85    79                       STA X1L
    79   0C57    04                             ENDIF
    80   0C5C    B8    50    00                 ELSE
         0C55    09
    81   0C5F    C9    FF                       CMP I,-1                ;MINUS.
    82   0C61    F0    00                       IFNE                    ;> 1 BYTE?
    83   0C63    A9    FF                       LDA I,0FF               ;YES. MAX OUT
    84   0C65    B8    50    00                 ELSE
         0C62    05
    85   0C68    A5    79                       LDA X1L         ;NO. NEGATE FOR ABS VALUE
    86   0C6A    49    FF                       EOR I,0FF
    87   0C6C    18                             CLC
    88   0C6D    69    01                       ADC I,1
    89   0C6F    90    00                       IFCS
    90   0C71    A9    FF                       LDA I,0FF
    91   0C70    02                             ENDIF
    92   0C67    0B                             ENDIF
    93   0C73    85    79                       STA X1L
    94   0C5E    16                             ENDIF
    95   0C75    A5    63                       LDA SZL
    96   0C77    38                             SEC
    97   0C78    E5    6C                       SBC CURNTY
    98   0C7A    85    89                       STA Z1L
    99   0C7C    A5    64                       LDA SZH
   100   0C7E    E5    6D                       SBC CURNTY+1
   101   0C80    85    9D                       STA UNITZH
   102
   103   0C82    30    00                       IFPL                    ;MAXIMIZE AT 1 BYTE
   104   0C84    F0    00                       IFNE                    ;PLUS. > 1 BYTE?
   105   0C86    A9    FF                       LDA I,0FF               ;YES. MAX OUT
   106   0C88    85    89                       STA Z1L
   107   0C85    04                             ENDIF
   108   0C8A    B8    50    00                 ELSE
         0C83    09
   109   0C8D    C9    FF                       CMP I,-1                ;MINUS. > BYTE?
   110   0C8F    F0    00                       IFNE                    ;
   111   0C91    A9    FF                       LDA I,0FF               ;YES. MAX OUT
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 45+
UTILITY-DRAW OBJECT BETWEEN POINTS

   112   0C93    B8    50    00                 ELSE
         0C90    05
   113   0C96    A5    89                       LDA Z1L                 ;NO. NEGATE FOR ABS. VALUE
   114   0C98    49    FF                       EOR I,0FF
   115   0C9A    18                             CLC
   116   0C9B    69    01                       ADC I,1
   117   0C95    07                             ENDIF
   118   0C9D    85    89                       STA Z1L
   119   0C8C    12                             ENDIF
   120   0C9F    A9    00                       LDA I,0
   121   0CA1    85    82                       STA X2H
   122   0CA3    85    92                       STA Z2H
   123                                  ;90 CYCLES FOR X		;CALCULATE UNITXL X 0 THRU 7
   124   0CA5    A5    79                       LDA X1L
   125   0CA7    0A                             ASL
   126   0CA8    26    82                       ROL X2H                 ;X2
   127   0CAA    85    7A                       STA X2L
   128   0CAC    0A                             ASL
   129   0CAD    85    7C                       STA X4L                 ;X4
   130   0CAF    A5    82                       LDA X2H
   131   0CB1    2A                             ROL
   132   0CB2    85    84                       STA X4H
   133   0CB4    A5    7C                       LDA X4L
   134                                  ;CLC
   135   0CB6    65    79                       ADC X1L
   136   0CB8    85    7D                       STA X5L                 ;X5
   137   0CBA    A5    84                       LDA X4H
   138   0CBC    69    00                       ADC I,0
   139   0CBE    85    85                       STA X5H
   140   0CC0    A5    7A                       LDA X2L
   141                                  ;CLC
   142   0CC2    65    79                       ADC X1L
   143   0CC4    85    7B                       STA X3L                 ;X3
   144   0CC6    A5    82                       LDA X2H
   145   0CC8    69    00                       ADC I,0
   146   0CCA    85    83                       STA X3H
   147   0CCC    85    86                       STA X6H                 ;X6
   148   0CCE    A5    7B                       LDA X3L
   149   0CD0    0A                             ASL
   150   0CD1    85    7E                       STA X6L
   151   0CD3    26    86                       ROL X6H
   152                                  ;CLC
   153   0CD5    65    79                       ADC X1L
   154   0CD7    85    7F                       STA X7L                 ;X7
   155   0CD9    A5    86                       LDA X6H
   156   0CDB    69    00                       ADC I,0
   157   0CDD    85    87                       STA X7H
   158                                                                  ;90 CYCLES FOR Z
   159                                                                  ;CALCULATE UNITZL X 0 THRU 7
   160   0CDF    A5    89                       LDA Z1L
   161   0CE1    0A                             ASL
   162   0CE2    26    92                       ROL Z2H
   163   0CE4    85    8A                       STA Z2L                 ;X2
   164   0CE6    0A                             ASL
   165   0CE7    85    8C                       STA Z4L
   166   0CE9    A5    92                       LDA Z2H
   167   0CEB    2A                             ROL
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 45+
UTILITY-DRAW OBJECT BETWEEN POINTS

   168   0CEC    85    94                       STA Z4H                 ;X4
   169   0CEE    A5    8C                       LDA Z4L
   170                                  ;CLC
   171   0CF0    65    89                       ADC Z1L
   172   0CF2    85    8D                       STA Z5L                 ;X5
   173   0CF4    A5    94                       LDA Z4H
   174   0CF6    69    00                       ADC I,0
   175   0CF8    85    95                       STA Z5H
   176   0CFA    A5    8A                       LDA Z2L
   177                                  ;CLC
   178   0CFC    65    89                       ADC Z1L
   179   0CFE    85    8B                       STA Z3L                 ;X3
   180   0D00    A5    92                       LDA Z2H
   181   0D02    69    00                       ADC I,0
   182   0D04    85    93                       STA Z3H
   183   0D06    85    96                       STA Z6H                 ;X6
   184   0D08    A5    8B                       LDA Z3L
   185   0D0A    0A                             ASL
   186   0D0B    85    8E                       STA Z6L
   187   0D0D    26    96                       ROL Z6H
   188                                  ;CLC
   189   0D0F    65    89                       ADC Z1L
   190   0D11    85    8F                       STA Z7L                 ;X7
   191   0D13    A5    96                       LDA Z6H
   192   0D15    69    00                       ADC I,0
   193   0D17    85    97                       STA Z7H
   194   0D19    A0    00                       LDY I,0
   195   0D1B    84    A9                       STY VGY
   196                                          BEGIN                   ;LOOP FOR EACH VECTOR TO BE DRAWN
   197   0D1D    A4    38                       LDY INDEX2
   198   0D1F    B9  0E15'                      LDA Y,VBASE+1
   199   0D22    C9    01                       CMP I,1
   200   0D24    D0    00                       IFEQ                    ;USE DEPTH INTENSITY?
   201   0D26    A9    C0                       LDA I,RATS              ;YES.
   202   0D25    02                             ENDIF
   203   0D28    85    73                       STA VGBRIT
   204   0D2A    B9  0E14'                      LDA Y,VBASE             ;GET MULTIPLIER'S
   205   0D2D    85    2D                       STA TEMP4               ;SIGN FOR PERP. UNIT VECTOR MULT.
   206   0D2F    C8                             INY
   207   0D30    C8                             INY
   208   0D31    84    38                       STY INDEX2
   209   0D33    AA                             TAX
   210   0D34    29    07                       AND I,07                ;GET UNIT VECTOR MULTIPLIER
   211   0D36    A8                             TAY                     ;ABS. VALUE
   212   0D37    8A                             TXA
   213   0D38    0A                             ASL
   214   0D39    85    2B                       STA TEMP2               ;SIGN FOR UNIT VEC MULT
   215   0D3B    4A                             LSR
   216   0D3C    4A                             LSR
   217   0D3D    4A                             LSR
   218   0D3E    4A                             LSR
   219   0D3F    29    07                       AND I,07                ;GET PERP UNIT VECTOR MULTIPLIER
   220   0D41    AA                             TAX                     ;ABSOLUTE VALUE
   221   0D42    A5    2B                       LDA TEMP2
   222   0D44    45    9B                       EOR UNITXH
   223   0D46    30    00                       IFPL                    ;ACC TO SIGNS, UPDATE VECTOR ACCUMULATOR
   224   0D48    B9  0078                       LDA Y,X0L               ;POSITIVE RESULTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 45+
UTILITY-DRAW OBJECT BETWEEN POINTS

   225   0D4B    85    61                       STA SXL
   226   0D4D    B9  0080                       LDA Y,X0H
   227   0D50    B8    50    00                 ELSE
         0D47    0B
   228   0D53    B9  0078                       LDA Y,X0L               ;NEGATIVE RESULTS
   229   0D56    49    FF                       EOR I,0FF
   230   0D58    18                             CLC
   231   0D59    69    01                       ADC I,1
   232   0D5B    85    61                       STA SXL
   233   0D5D    B9  0080                       LDA Y,X0H
   234   0D60    49    FF                       EOR I,0FF
   235   0D62    69    00                       ADC I,0
   236   0D52    11                             ENDIF
   237   0D64    85    62                       STA SXH
   238   0D66    A5    2D                       LDA TEMP4
   239   0D68    45    9D                       EOR UNITZH
   240   0D6A    10    00                       IFMI                    ;ACC. TO SIGNS UPDATE VECTOR ACCUMULATOR
   241   0D6C    B5    88                       LDA X,Z0L               ;POSITIVE RESULTS
   242   0D6E    18                             CLC
   243   0D6F    65    61                       ADC SXL
   244   0D71    85    61                       STA SXL
   245   0D73    B5    90                       LDA X,Z0H
   246   0D75    65    62                       ADC SXH
   247   0D77    B8    50    00                 ELSE
         0D6B    0E
   248   0D7A    A5    61                       LDA SXL                 ;NEGATIVE RESULTS
   249   0D7C    38                             SEC
   250   0D7D    F5    88                       SBC X,Z0L
   251   0D7F    85    61                       STA SXL
   252   0D81    A5    62                       LDA SXH
   253   0D83    F5    90                       SBC X,Z0H
   254   0D79    0B                             ENDIF
   255   0D85    85    62                       STA SXH
   256                                                                  ;
   257                                                                  ;NOW CALCULATE Z VECTOR
   258                                                                  ;
   259   0D87    A5    2B                       LDA TEMP2
   260   0D89    45    9D                       EOR UNITZH
   261   0D8B    30    00                       IFPL
   262   0D8D    B9  0088                       LDA Y,Z0L
   263   0D90    85    63                       STA SZL
   264   0D92    B9  0090                       LDA Y,Z0H
   265   0D95    B8    50    00                 ELSE
         0D8C    0B
   266   0D98    B9  0088                       LDA Y,Z0L
   267   0D9B    49    FF                       EOR I,0FF
   268   0D9D    18                             CLC
   269   0D9E    69    01                       ADC I,1
   270   0DA0    85    63                       STA SZL
   271   0DA2    B9  0090                       LDA Y,Z0H
   272   0DA5    49    FF                       EOR I,0FF
   273   0DA7    69    00                       ADC I,0
   274   0D97    11                             ENDIF
   275   0DA9    85    64                       STA SZH
   276   0DAB    A5    2D                       LDA TEMP4
   277   0DAD    45    9B                       EOR UNITXH
   278   0DAF    10    00                       IFMI
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 45+
UTILITY-DRAW OBJECT BETWEEN POINTS

   279   0DB1    A5    63                       LDA SZL
   280   0DB3    38                             SEC
   281   0DB4    F5    78                       SBC X,X0L
   282   0DB6    85    63                       STA SZL
   283   0DB8    A5    64                       LDA SZH
   284   0DBA    F5    80                       SBC X,X0H
   285   0DBC    B8    50    00                 ELSE
         0DB0    0E
   286   0DBF    A5    63                       LDA SZL
   287   0DC1    18                             CLC
   288   0DC2    75    78                       ADC X,X0L
   289   0DC4    85    63                       STA SZL
   290   0DC6    A5    64                       LDA SZH
   291   0DC8    75    80                       ADC X,X0H
   292   0DBE    0B                             ENDIF
   293   0DCA    85    64                       STA SZH
   294   0DCC    A4    A9                       LDY VGY                 ;ADD VECTOR TO DISPLAY LIST
   295   0DCE    A5    63                       LDA SZL
   296   0DD0    91    74                       STA NY,VGLIST           ;Z LSB
   297   0DD2    C8                             INY
   298   0DD3    A5    64                       LDA SZH
   299   0DD5    29    1F                       AND I,1F
   300   0DD7    91    74                       STA NY,VGLIST           ;Z MSB
   301   0DD9    C8                             INY
   302   0DDA    A5    61                       LDA SXL
   303   0DDC    91    74                       STA NY,VGLIST           ;X LSB
   304   0DDE    C8                             INY
   305   0DDF    A5    62                       LDA SXH
   306   0DE1    29    1F                       AND I,1F
   307   0DE3    05    73                       ORA VGBRIT
   308   0DE5    91    74                       STA NY,VGLIST           ;X MSB AND INTENSITY
   309   0DE7    C8                             INY
   310   0DE8    84    A9                       STY VGY
   311   0DEA    C6    99                       DEC SUBCOU
   312   0DEC    F0    03    4C  0D1D'          EQEND
   313   0DF1    A4    A9                       LDY VGY
   314   0DF3    88                             DEY
   315   0DF4    4C  0000G                      JMP VGADD               ;UPDATE VGLIST PC
   316   0DF7    08                     C8:     .BYTE 8
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 46
PICTURES

     1                                          .SBTTL PICTURES
     2         0000                     CINVA1  =0
     3         0001                     CNCURS  =CINVA1+1
     4         0009                     CPULS4  =CNCURS+8
     5         000A                     CPULS3  =CPULS4+1
     6         000B                     CPULS2  =CPULS3+1
     7         000C                     CPULS1  =CPULS2+1
     8         000D                     CPULS0  =CPULS1+1
     9   0DF8                           PCOUNT:
    10   0DF8    08                             .BYTE <INVA1E-INVA1S>/2 ;INVADER 1
    11   0DF9    08                             .BYTE <NCRS1E-NCRS1S>/2
    12   0DFA    08                             .BYTE <NCRS2E-NCRS2S>/2
    13   0DFB    08                             .BYTE <NCRS3E-NCRS3S>/2
    14   0DFC    08                             .BYTE <NCRS4E-NCRS4S>/2
    15   0DFD    08                             .BYTE <NCRS5E-NCRS5S>/2
    16   0DFE    08                             .BYTE <NCRS6E-NCRS6S>/2
    17   0DFF    08                             .BYTE <NCRS7E-NCRS7S>/2
    18   0E00    09                             .BYTE <NCRS8E-NCRS8S>/2
    19   0E01    06                             .BYTE <PULS4E-PULS4S>/2
    20   0E02    07                             .BYTE <PULS3E-PULS3S>/2
    21   0E03    07                             .BYTE <PULS2E-PULS2S>/2
    22   0E04    04                             .BYTE <PULS1E-PULS1S>/2
    23   0E05    02                             .BYTE <PULS0E-PULS0S>/2
    24                                          .MACRO MINDX ARG
    25                                          .BYTE ARG-VBASE
    26                                          .ENDM
    27   0E06                           PINDEX:
    28   0E06    00                             MINDX INVA1S    ;INVADER 1
    29   0E07    10                             MINDX NCRS1S
    30   0E08    20                             MINDX NCRS2S
    31   0E09    30                             MINDX NCRS3S
    32   0E0A    40                             MINDX NCRS4S
    33   0E0B    50                             MINDX NCRS5S
    34   0E0C    60                             MINDX NCRS6S
    35   0E0D    70                             MINDX NCRS7S
    36   0E0E    80                             MINDX NCRS8S
    37
    38   0E0F    92                             MINDX PULS4S
    39   0E10    9E                             MINDX PULS3S
    40   0E11    AC                             MINDX PULS2S
    41   0E12    BA                             MINDX PULS1S
    42   0E13    C2                             MINDX PULS0S
    43                                  ;BYTE 0: D7=SIGN FOR PERP. UNIT VECTOR MULTIPLIER
    44                                  ;	   D6=SIGN FOR UNIT VECTOR MULTIPLIER
    45                                  ;	   D5-D3=      PERP UNIT VECTOR MULTIPLIER ABS. VALUE
    46                                  ;	   D2-D0=	    UNIT VECTOR MULTIPLIER ABS. VALUE
    47                                  ;BYTE 1: 1:USE DEPTH CUE INTENSITY
    48                                  ;	0: BEAM OFF
    49                                  ;	10:DRAW A DOT
    50                                  ;	>10:USE VALUE FOR INTENSITY
    51                                          .MACRO VEC UX,UZ,UI
    52                                          .NARG NUM
    53                                          ...ONF=0
    54                                          .IIF EQ,NUM-3,...ONF=UI
    55                                          .IIF EQ,NUM-2,...ONF=1
    56                                          ...PUV=UZ
    57                                          ...UV=UX
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 46+
PICTURES

    58                                          ...SPU=0
    59                                          ...SUV=0
    60                                          .IF LT,...PUV
    61                                          ...PUV=-<...PUV>
    62                                          ...SPU=80
    63                                          .ENDC
    64                                          .IF LT,...UV
    65                                          ...UV=-<...UV>
    66                                          ...SUV=40
    67                                          .ENDC
    68                                          .BYTE <...SPU>!<...SUV>!<...PUV*8>!<...UV>,...ONF
    69                                          .ENDM
    70                                          .MACRO DOT,...DX,...DY
    71                                          VEC ...DX,...DY,10
    72                                          .ENDM
    73   0E14                           VBASE:
    74   0E14                           CURS4E:
    75   0E14                           INVA1S:
    76   0E14    0C    01                       VEC 4,1,1
    77   0E16    8C    01                       VEC 4,-1,1
    78   0E18    4A    01                       VEC -2,1
    79   0E1A    09    01                       VEC 1,1
    80   0E1C    CB    01                       VEC -3,-1
    81   0E1E    4B    01                       VEC -3,1
    82   0E20    89    01                       VEC 1,-1
    83   0E22    CA    01                       VEC -2,-1
    84   0E24                           INVA1E:
    85   0E24                           NCRS1S:
    86   0E24    90    01                       VEC 0,-2
    87   0E26    8A    01                       VEC 2,-1
    88   0E28    23    01                       VEC 3,4
    89   0E2A    DB    01                       VEC -3,-3
    90   0E2C    41    01                       VEC -1,0
    91   0E2E    10    01                       VEC 0,2
    92   0E30    0A    01                       VEC 2,1
    93   0E32    CB    01                       VEC -3,-1
    94   0E34                           NCRS1E:
    95   0E34                           NCRS2S:
    96   0E34    91    01                       VEC 1,-2
    97   0E36    17    01                       VEC 7,2
    98   0E38    4B    01                       VEC -3,1
    99   0E3A    8A    01                       VEC 2,-1
   100   0E3C    CE    01                       VEC -6,-1
   101   0E3E    08    01                       VEC 0,1
   102   0E40    0A    01                       VEC 2,1
   103   0E42    CB    01                       VEC -3,-1
   104   0E44                           NCRS2E:
   105   0E44                           NCRS3S:
   106   0E44    92    01                       VEC 2,-2
   107   0E46    16    01                       VEC 6,2
   108   0E48    4B    01                       VEC -3,1
   109   0E4A    8A    01                       VEC 2,-1
   110   0E4C    CD    01                       VEC -5,-1
   111   0E4E    49    01                       VEC -1,1
   112   0E50    0A    01                       VEC 2,1
   113   0E52    CB    01                       VEC -3,-1
   114   0E54                           NCRS3E:
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 46+
PICTURES

   115   0E54                           NCRS4S:
   116   0E54    93    01                       VEC 3,-2
   117   0E56    15    01                       VEC 5,2
   118   0E58    4B    01                       VEC -3,1
   119   0E5A    8A    01                       VEC 2,-1
   120   0E5C    CC    01                       VEC -4,-1
   121   0E5E    4A    01                       VEC -2,1
   122   0E60    0A    01                       VEC 2,1
   123   0E62    CB    01                       VEC -3,-1
   124   0E64                           NCRS4E:
   125   0E64                           NCRS5S:
   126   0E64    95    01                       VEC 5,-2
   127   0E66    13    01                       VEC 3,2
   128   0E68    4B    01                       VEC -3,1
   129   0E6A    8A    01                       VEC 2,-1
   130   0E6C    CA    01                       VEC -2,-1
   131   0E6E    4C    01                       VEC -4,1
   132   0E70    0A    01                       VEC 2,1
   133   0E72    CB    01                       VEC -3,-1
   134   0E74                           NCRS5E:
   135   0E74                           NCRS6S:
   136   0E74    96    01                       VEC 6,-2
   137   0E76    12    01                       VEC 2,2
   138   0E78    4B    01                       VEC -3,1
   139   0E7A    8A    01                       VEC 2,-1
   140   0E7C    C9    01                       VEC -1,-1
   141   0E7E    4D    01                       VEC -5,1
   142   0E80    0A    01                       VEC 2,1
   143   0E82    CB    01                       VEC -3,-1
   144   0E84                           NCRS6E:
   145   0E84                           NCRS7S:
   146   0E84    97    01                       VEC 7,-2
   147   0E86    11    01                       VEC 1,2
   148   0E88    4B    01                       VEC -3,1
   149   0E8A    8A    01                       VEC 2,-1
   150   0E8C    88    01                       VEC 0,-1
   151   0E8E    4E    01                       VEC -6,1
   152   0E90    0A    01                       VEC 2,1
   153   0E92    CB    01                       VEC -3,-1
   154   0E94                           NCRS7E:
   155   0E94                           NCRS8S:
   156   0E94    0B    00                       VEC 3,1,0
   157   0E96    A3    01                       VEC 3,-4
   158   0E98    0A    01                       VEC 2,1
   159   0E9A    10    01                       VEC 0,2
   160   0E9C    4B    01                       VEC -3,1
   161   0E9E    8A    01                       VEC 2,-1
   162   0EA0    90    01                       VEC 0,-2
   163   0EA2    41    01                       VEC -1,0
   164   0EA4    5B    01                       VEC -3,3
   165   0EA6                           NCRS8E:
   166                                          .MACRO BVEC UUX,UUY
   167                                          VEC UUX,UUY,0E0
   168                                          .ENDM
   169   0EA6                           PULS4S:
   170   0EA6    9A    01                       VEC 2,-3
   171   0EA8    31    01                       VEC 1,6
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 46+
PICTURES

   172   0EAA    B1    01                       VEC 1,-6
   173   0EAC    31    01                       VEC 1,6
   174   0EAE    B1    01                       VEC 1,-6
   175   0EB0    1A    01                       VEC 2,3
   176   0EB2                           PULS4E:
   177   0EB2                           PULS3S:
   178   0EB2    01    00                       VEC 1,0,0
   179   0EB4    91    01                       VEC 1,-2
   180   0EB6    21    01                       VEC 1,4
   181   0EB8    A1    01                       VEC 1,-4
   182   0EBA    21    01                       VEC 1,4
   183   0EBC    A1    01                       VEC 1,-4
   184   0EBE    11    01                       VEC 1,2
   185   0EC0                           PULS3E:
   186   0EC0                           PULS2S:
   187   0EC0    01    00                       VEC 1,0,0
   188   0EC2    89    01                       VEC 1,-1
   189   0EC4    11    01                       VEC 1,2
   190   0EC6    91    01                       VEC 1,-2
   191   0EC8    11    01                       VEC 1,2
   192   0ECA    91    01                       VEC 1,-2
   193   0ECC    09    01                       VEC 1,1
   194   0ECE                           PULS2E:
   195   0ECE                           PULS1S:
   196   0ECE    01    00                       VEC 1,0,0
   197   0ED0    8A    01                       VEC 2,-1
   198   0ED2    12    01                       VEC 2,2
   199   0ED4    8A    01                       VEC 2,-1
   200   0ED6                           PULS1E:
   201   0ED6    01    00               PULS0S: VEC 1,0,0
   202   0ED8    06    01                       VEC 6,0
   203   0EDA                           PULS0E:
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 47
PICTURES

     1
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 48
UTILITY: PROJECT POINT ONTO SCREEN

                                                .SBTTL UTILITY: PROJECT POINT ONTO SCREEN
     2
     3                                  ;INPUT:
     4                                  ;	PXL,PYL,PZL = WORLD COORDINATES OF POINT TO PROJECT
     5                                  ;	EXL,EYL= WORLD COORDINATES OF EYE (EYL HAS AN
     6                                  ;		 IMPLIED NEGATIVE SIGN)
     7
     8                                  ;OUTPUT:SXH,SZH= SCREEN COORDINATES OF PROJECTED POINT
     9                                  ;	MTEMPS DESTROYED
    10
    11                                  ;FORMULAE:	SCREEN X = [FACTOR/(PY-EY)]*(PX-EX)+SXCENT
    12                                  ;
    13                                  ;		SCREEN Z = [FACTOR/(PY-EY)]*(PZ-EZ)+SZCENT
    14
    15                                  ;
    16                                  ;CALCULATE COMMON FACTOR: [FACTOR/(PY-EY)]
    17                                  ;
    18
   180   0EDA                           WORSCR:
   181   0EDA    A5    57                       LDA PYL
   182   0EDC    38                             SEC
   183   0EDD    E5    5F                       SBC EYL
   184   0EDF    8D  6095                       STA MXPL
   185   0EE2    A9    00                       LDA I,0
   186   0EE4    E5    5B                       SBC EYH
   187   0EE6    8D  6096                       STA MXPH
   188   0EE9    10    00                       IFMI                    ;IS POINT BEHIND EYE?
   189   0EEB    A9    00                       LDA I,0                 ;YES. PUT IT AT EYE
   190   0EED    8D  6096                       STA MXPH
   191   0EF0    A9    01                       LDA I,1
   192   0EF2    8D  6095                       STA MXPL
   193   0EEA    0A                             ENDIF
   194   0EF5    A5    58                       LDA PZL
   195   0EF7    C5    60                       CMP EZL
   196   0EF9    90    00                       IFCS
   197   0EFB    E5    60                       SBC EZL
   198   0EFD    A2    00                       LDX I,0
   199   0EFF    B8    50    00                 ELSE
         0EFA    07
   200   0F02    A5    60                       LDA EZL
   201   0F04    38                             SEC
   202   0F05    E5    58                       SBC PZL
   203   0F07    A2    FF                       LDX I,-1
   204   0F01    07                             ENDIF
   205   0F09    8D  608E                       STA MZLH
   206   0F0C    8D  6094                       STA MSZXD
   207   0F0F    86    33                       STX MTEMP+2
   208   0F11    A5    56                       LDA PXL
   209   0F13    C5    5E                       CMP EXL
   210   0F15    90    00                       IFCS
   211   0F17    E5    5E                       SBC EXL
   212   0F19    A2    00                       LDX I,0
   213   0F1B    B8    50    00                 ELSE
         0F16    07
   214   0F1E    A5    5E                       LDA EXL
   215   0F20    38                             SEC
   216   0F21    E5    56                       SBC PXL
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 48+
UTILITY: PROJECT POINT ONTO SCREEN

   217   0F23    A2    FF                       LDX I,-1
   218   0F1D    07                             ENDIF
   219   0F25    85    32                       STA MTEMP+1
   220   0F27    86    34                       STX MTEMP+3
   221                                          BEGIN
   222   0F29    2C  6040                       BIT MSTAT
   223   0F2C    30    FB                       PLEND
   224   0F2E    AD  6060                       LDA MYLOW
   225   0F31    85    63                       STA SZL
   226   0F33    AD  6070                       LDA MYHIGH
   227   0F36    85    64                       STA SZH
   228
   229   0F38    A5    32                       LDA MTEMP+1
   230   0F3A    8D  608E                       STA MZLH
   231   0F3D    8D  6094                       STA MSZXD
   232   0F40    A5    33                       LDA MTEMP+2
   233   0F42    30    00                       IFPL
   234   0F44    A5    63                       LDA SZL
   235   0F46    18                             CLC
   236   0F47    65    68                       ADC ZADJL
   237   0F49    85    63                       STA SZL
   238   0F4B    A5    64                       LDA SZL+1
   239   0F4D    65    69                       ADC ZADJL+1
   240   0F4F    50    00                       IFVS
   241   0F51    A9    FF                       LDA I,0FF
   242   0F53    85    63                       STA SZL
   243   0F55    A9    7F                       LDA I,7F
   244   0F50    06                             ENDIF
   245   0F57    85    64                       STA SZL+1
   246   0F59    B8    50    00                 ELSE
         0F43    18
   247   0F5C    A5    68                       LDA ZADJL
   248   0F5E    38                             SEC
   249   0F5F    E5    63                       SBC SZL
   250   0F61    85    63                       STA SZL
   251   0F63    A5    69                       LDA ZADJL+1
   252   0F65    E5    64                       SBC SZL+1
   253   0F67    50    00                       IFVS
   254   0F69    A9    00                       LDA I,0
   255   0F6B    85    63                       STA SZL
   256   0F6D    A9    80                       LDA I,80
   257   0F68    06                             ENDIF
   258   0F6F    85    64                       STA SZL+1
   259   0F5B    15                             ENDIF
   260                                          BEGIN
   261   0F71    2C  6040                       BIT MSTAT
   262   0F74    30    FB                       PLEND
   263   0F76    AD  6060                       LDA MYLOW
   264   0F79    85    61                       STA SXL
   265   0F7B    AD  6070                       LDA MYHIGH
   266   0F7E    85    62                       STA SXH
   267   0F80    A6    34                       LDX MTEMP+3
   268   0F82    30    00                       IFPL
   269   0F84    A5    61                       LDA SXL
   270   0F86    18                             CLC
   271   0F87    65    66                       ADC XADJL
   272   0F89    85    61                       STA SXL
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 48+
UTILITY: PROJECT POINT ONTO SCREEN

   273   0F8B    A5    62                       LDA SXL+1
   274   0F8D    65    67                       ADC XADJL+1
   275   0F8F    50    00                       IFVS
   276   0F91    A9    FF                       LDA I,0FF
   277   0F93    85    61                       STA SXL
   278   0F95    A9    7F                       LDA I,7F
   279   0F90    06                             ENDIF
   280   0F97    85    62                       STA SXL+1
   281   0F99    60                             RTS
   282   0F83    16                             ENDIF
   283   0F9A    A5    66                       LDA XADJL
   284   0F9C    38                             SEC
   285   0F9D    E5    61                       SBC SXL
   286   0F9F    85    61                       STA SXL
   287   0FA1    A5    67                       LDA XADJL+1
   288   0FA3    E5    62                       SBC SXL+1
   289   0FA5    50    00                       IFVS
   290   0FA7    A9    00                       LDA I,0
   291   0FA9    85    61                       STA SXL
   292   0FAB    A9    80                       LDA I,80
   293   0FA6    06                             ENDIF
   294   0FAD    85    62                       STA SXL+1
   295   0FAF    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 49
INITIALIZE DISPLAY

     1                                          .SBTTL INITIALIZE DISPLAY
     2
     3   0FB0    20  0000G              INIDSP: JSR INITEM              ;COPY SCORE TEMPLATE TO VECTOR RAM
     4   0FB3    A9    80                       LDA I,80                ;EYE CENTERED X WISE
     5   0FB5    85    5E                       STA EXL
     6   0FB7    A9    FF                       LDA I,0FF               ;REG-WELL UPDATE FROM MAINLINE
     7   0FB9    8D  0114                       STA ROTDIS
     8   0FBC    20  1075'                      JSR INIWLS              ;INIT. WELL
     9   0FBF    AD  0133                       LDA SPARE3
    10   0FC2    D0    00                       IFEQ                    ;VG HALT AS REQUESTED?
    11   0FC4    8D  5800                       STA VGSTOP              ;NO. STOP IT
    12   0FC3    03                             ENDIF
    13   0FC7    A9    00                       LDA I,0
    14   0FC9    8D  0133                       STA SPARE3
    15   0FCC    A5    04G                      LDA JMPMAL+4            ;REQUEST HALT
    16   0FCE    8D  2000                       STA VECRAM
    17   0FD1    A5    04G                      LDA JMPMAH+4
    18   0FD3    8D  2001                       STA VECRAM+1
    19   0FD6    A5    9F               INICOL: LDA CURWAV
    20   0FD8    29    70                       AND I,70
    21   0FDA    C9    5F                       CMP I,5F
    22   0FDC    90    00                       IFCS
    23   0FDE    A9    5F                       LDA I,5F
    24   0FDD    02                             ENDIF
    25   0FE0    4A                             LSR
    26   0FE1    09    07                       ORA I,07                ;COLOR TABLE INDEX
    27   0FE3    AA                             TAX
    28   0FE4    A0    07                       LDY I,07
    29                                          BEGIN                   ;SET UP COLOR RAM
    30   0FE6    BD  103D'                      LDA X,COLTAB
    31   0FE9    29    0F                       AND I,0F
    32   0FEB    99  0019                       STA Y,COLRAM
    33   0FEE    99  0800                       STA Y,COLPORT
    34   0FF1    BD  103D'                      LDA X,COLTAB
    35   0FF4    4A                             LSR
    36   0FF5    4A                             LSR
    37   0FF6    4A                             LSR
    38   0FF7    4A                             LSR
    39   0FF8    99  0021                       STA Y,COLRAM+8
    40   0FFB    99  0808                       STA Y,COLPORT+8
    41   0FFE    CA                             DEX
    42   0FFF    88                             DEY
    43   1000    10    E4                       MIEND
    44   1002    60                             RTS
    45   1003                           INIMAT:
    46   1003    A9    00                       LDA I,0                 ;INITIALIZE FOR ONELIN
    47   1005    85    81                       STA X1H
    48   1007    85    91                       STA Z1H
    49   1009    85    80                       STA X0H
    50   100B    85    78                       STA X0L
    51   100D    85    90                       STA Z0H
    52   100F    85    88                       STA Z0L
    53   1011    A9    00                       LDA I,0                 ;ZERO UNUSED MATH BOX REGISTERS
    54   1013    8D  6080                       STA MAL
    55   1016    8D  6081                       STA MAH
    56   1019    8D  6084                       STA MEL
    57   101C    8D  6085                       STA MEH
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 49+
INITIALIZE DISPLAY

    58   101F    8D  6086                       STA MFL
    59   1022    8D  6087                       STA MFH
    60   1025    8D  6089                       STA MXH
    61   1028    8D  6083                       STA MBH
    62   102B    8D  608D                       STA MZLL
    63   102E    8D  608E                       STA MZLH
    64   1031    8D  608F                       STA MZHL
    65   1034    8D  6090                       STA MZHH
    66   1037    A9    0F                       LDA I,0F
    67   1039    8D  608C                       STA MNL
    68   103C    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 50
COLORS

     1                                          .SBTTL  COLORS
     2   103D                           COLTAB:
     3   103D    00                             .BYTE ZWHITE            ;1 EXPLOSIONS (0);PLAYER SHOT CENTER(8)
     4   103E    04                             .BYTE ZYELLO            ;CURSOR, FLASHLIGHT(1);SPLAT (A)
     5   103F    08                             .BYTE ZPURPL            ;TANKERS(2);SPLAT (B)
     6   1040    0C                             .BYTE ZRED              ;FLIPPERS(3);SPLAT (C)
     7   1041    C3                             .BYTE ZTURQOI!<ZRED*10> ;PULSARS(4);NYMPHS(0D)
     8   1042    07                             .BYTE ZGREEN            ;LETTERS(S)
     9   1043    0B                             .BYTE ZBLUE             ;WELL(6)
    10   1044    0B                             .BYTE ZBLUE             ;LETTERS(7);FLASH (0F)
    11   1045    00                             .BYTE ZWHITE            ;2
    12   1046    07                             .BYTE ZGREEN
    13   1047    0B                             .BYTE ZBLUE
    14   1048    08                             .BYTE ZPURPL
    15   1049    44                             .BYTE ZYELLOW!<ZYELLOW*10>
    16   104A    03                             .BYTE ZTURQOI
    17   104B    0C                             .BYTE ZRED
    18   104C    0C                             .BYTE ZRED
    19   104D    00                             .BYTE ZWHITE            ;3
    20   104E    0B                             .BYTE ZBLUE
    21   104F    03                             .BYTE ZTURQOI
    22   1050    07                             .BYTE ZGREEN
    23   1051    C8                             .BYTE ZPURPL!<ZRED*10>
    24   1052    0C                             .BYTE ZRED
    25   1053    04                             .BYTE ZYELLO
    26   1054    04                             .BYTE ZYELLOW
    27   1055    00                             .BYTE ZWHITE            ;4
    28   1056    0B                             .BYTE ZBLUE
    29   1057    08                             .BYTE ZPURPL
    30   1058    07                             .BYTE ZGREEN
    31   1059    C4                             .BYTE ZYELLO!<ZRED*10>
    32   105A    0C                             .BYTE ZRED
    33   105B    03                             .BYTE ZTURQOI
    34   105C    03                             .BYTE ZTURQOI
    35                                                                  ;
    36                                                                  ;
    37                                                                  ;
    38   105D    00                             .BYTE ZWHITE            ;5
    39   105E    04                             .BYTE ZYELLO
    40   105F    08                             .BYTE ZPURPL
    41   1060    0C                             .BYTE ZRED
    42   1061    C3                             .BYTE ZTURQOI!<ZRED*10>
    43   1062    07                             .BYTE ZGREEN
    44   1063    0F                             .BYTE ZBLACK
    45   1064    0B                             .BYTE ZBLUE
    46   1065    00                             .BYTE ZWHITE            ;6
    47   1066    0C                             .BYTE ZRED
    48   1067    08                             .BYTE ZPURPL
    49   1068    04                             .BYTE ZYELLOW
    50   1069    C3                             .BYTE ZTURQOI!<ZRED*10>
    51   106A    0B                             .BYTE ZBLUE
    52   106B    07                             .BYTE ZGREEN
    53   106C    07                             .BYTE ZGREEN
    54   106D    06    03    01    04   SPWECO: .BYTE BLUE,RED,YELLOW,TURQOI,WHITE,GREEN,GREEN,GREEN            ;SPECIAL WELL COLOR INDEX FOR RATE REQUEST
         1071    00    05    05    05
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 51
INITIALIZE-GRID LINES

     1                                          .SBTTL  INITIALIZE-GRID LINES
     2                                  ;INPUT:	Y=INDEX INTO NEW LIX,Z OF LAST GRID LINE'S COORDINATES
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 52
INITIALIZE WELL

     1                                          .SBTTL  INITIALIZE WELL
     2
     3   1075                           INIWLS:
     4   1075    A6    3D                       LDX PLAYUP
     5   1077    B5    46                       LDA X,WAVEN1
     6   1079    20  1128'                      JSR LVLWEL
     7   107C    48                             PHA                     ;CONVERT CODE TO INDEX
     8   107D    AC  0112                       LDY WELLID
     9   1080    B9  0ACE'                      LDA Y,HOLEYL            ;EYE POSITION (Y)
    10   1083    49    FF                       EOR I,0FF               ;CONVERT+TABLE VALUE TO NEG.
    11   1085    18                             CLC
    12   1086    69    01                       ADC I,1
    13   1088    85    5F                       STA EYL
    14   108A    85    5D                       STA EYLDES
    15   108C    A9    10                       LDA I,10
    16   108E    38                             SEC
    17   108F    E5    5F                       SBC EYL                 ;DELTA FOR UNIT SCALE
    18   1091    85    A0                       STA YDEUNI
    19   1093    A9    FF                       LDA I,-1
    20   1095    85    5B                       STA EYH
    21   1097    B9  0ADE'                      LDA Y,HOLEZL            ;EYE POSITION (Z)
    22   109A    85    60                       STA EZL
    23   109C    B9  0B0E'                      LDA Y,HOLRAP            ;WELL TYPE (OPEN I CLOSED)
    24   109F    8D  0111                       STA WELTYP
    25   10A2    A5    02                       LDA QNXTST
    26   10A4    C9    1E                       CMP I,CNWLF2
    27   10A6    D0    00                       IFEQ                    ;
    28   10A8    B9  0AEE'                      LDA Y,HOLZAD            ;AT CENTER IMMEDIATELY (NEW LIFE)
    29   10AB    85    68                       STA ZADJL
    30   10AD    B9  0AFE'                      LDA Y,HOLZDH
    31   10B0    85    69                       STA ZADJL+1
    32   10B2    B8    50    00                 ELSE
         10A7    0D
    33   10B5    B9  0AEE'                      LDA Y,HOLZAD            ;MOVE UP SLOWLY (NEW WAVE)
    34   10B8    38                             SEC
    35   10B9    E5    68                       SBC ZADJL
    36   10BB    8D  0121                       STA ZADEST
    37   10BE    B9  0AFE'                      LDA Y,HOLZDH
    38   10C1    ED  0069                       SBC A,ZADJL+1
    39   10C4    A2    03                       LDX I,3
    40                                          BEGIN
    41   10C6    4A                             LSR
    42   10C7    6E  0121                       ROR ZADEST
    43   10CA    CA                             DEX
    44   10CB    10    F9                       MIEND
    45   10B4    18                             ENDIF
    46   10CD    A9    00                       LDA I,0                 ;X SCREEN CENTER
    47   10CF    85    66                       STA XADJL
    48   10D1    85    67                       STA XADJL+1
    49   10D3    A9    00                       LDA I,0                 ;SAY TOP & BOTTOM ON SCREEN
    50   10D5    8D  010F                       STA LEVELY
    51   10D8    8D  0110                       STA LEVELY+1
    52   10DB    A9    2C                       LDA I,<VECRAM+0C00>/100 ;SET UP SUBR BUFR PC
    53   10DD    8D  0113                       STA ROTFLG
    54   10E0    68                             PLA
    55   10E1    A8                             TAY
    56   10E2    A2    0F                       LDX I,NLINES-1
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 52+
INITIALIZE WELL

    57                                          BEGIN                   ;LOOP FOR EACH GRID LINES
    58   10E4    B9  07BE'                      LDA Y,NEWLIX
    59   10E7    9D  03CE                       STA X,LINEX             ;SET UP X AND Z INTEGER PORTIONS
    60   10EA    B9  08BE'                      LDA Y,NEWLIZ
    61   10ED    9D  03DE                       STA X,LINEZ
    62   10F0    A9    00                       LDA I,0                 ;ZERO FRACTIONAL PORTION
    63   10F2    9D  031A                       STA X,LINSXH
    64   10F5    9D  033A                       STA X,LINSZH
    65   10F8    9D  039A                       STA X,LINSTA
    66   10FB    B9  09BE'                      LDA Y,ILINANG   ;LINE ANGLE
    67   10FE    9D  03EE                       STA X,LINANG
    68   1101    88                             DEY
    69   1102    CA                             DEX
    70   1103    10    DF                       MIEND
    71                                                                  ;
    72                                                                  ;
    73   1105    A0    00                       LDY I,0                 ;CALCULATE MIDPTS
    74   1107    A2    0F                       LDX I,0F
    75                                          BEGIN                   ;LOOP FOR EACH LINE
    76   1109    B9  03CE                       LDA Y,LINEX
    77   110C    38                             SEC
    78   110D    7D  03CE                       ADC X,LINEX
    79   1110    6A                             ROR
    80   1111    9D  0435                       STA X,LINEXM
    81   1114    B9  03DE                       LDA Y,LINEZ
    82   1117    38                             SEC
    83   1118    7D  03DE                       ADC X,LINEZ
    84   111B    6A                             ROR
    85   111C    9D  0445                       STA X,LINEZM
    86   111F    88                             DEY
    87   1120    10    00                       IFMI
    88   1122    A0    0F                       LDY I,0F
    89   1121    02                             ENDIF
    90   1124    CA                             DEX
    91   1125    10    E2                       MIEND
    92   1127    60                             RTS
    93                                  ;
    94                                  ;DETERMINE WELL SEQUENCE INDES
    95                                  ;INPUT:ACC=LEVEL #-1
    96                                  ;OUTPUT:ACC=INDEX INTO WELL SEQUENCE TABLES
    97                                  ;	WELLID=WELL ID
    98   1128    A2    00               LVLWEL: LDX I,0
    99   112A    C9    62                       CMP I,98.
   100   112C    90    00                       IFCS
   101   112E    AD  60CA                       LDA RANDOM
   102   1131    29    5F                       AND I,5F
   103   112D    05                             ENDIF
   104   1133    C9    10                       CMP I,WELSEN-WELSEQ
   105                                          BEGIN                   ;WAVE # MOD # OF WELLS
   106   1135    90    00                       IFCS
   107   1137    E8                             INX
   108   1138    38                             SEC
   109   1139    E9    10                       SBC I,WELSEN-WELSEQ
   110   1136    04                             ENDIF
   111   113B    C9    10                       CMP I,WELSEN-WELSEQ
   112   113D    B0    F6                       CCEND
   113   113F    A8                             TAY
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 52+
INITIALIZE WELL

   114   1140    B9  0ABE'                      LDA Y,WELSEQ            ;GET WELL CODE FOR THIS WAVE
   115   1143    8D  0112                       STA WELLID
   116   1146    0A                             ASL
   117   1147    0A                             ASL
   118   1148    0A                             ASL
   119   1149    0A                             ASL
   120   114A    09    0F                       ORA I,0F
   121   114C    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 53
INITIALIZE WELL

     1
     2                                          .SBTTL  UTILITY-BUILD WELL DISPLAY BUFFER
     3   114D                           BLDWEL:
     4   114D    AD  0110                       LDA LEVELY+1
     5   1150    D0    00                       IFEQ                    ;BOTTOM OF WELL ON SCREEN LAST TIME?
     6   1152    A9    F0                       LDA I,ILINDDY           ;YES
     7   1154    85    57                       STA PYL                 ;BOTTOM OF WELL Y
     8   1156    A2    4F                       LDX I,4F                ;INDEX FOR SCREEN COORDS
     9   1158    20  12B3'                      JSR CALOUT              ;CALCULATE SCREEN COORDS FOR BOTTOM OF WELL
    10   115B    8D  0110                       STA LEVELY+1            ;OFF SCREEN FLAG
    11   115E    F0    00                       IFNE                    ;BOTTOM OFF SCREEN?
    12   1160    8D  010F                       STA LEVELY              ;YES. THEN SO IS TOP
    13   115F    03                             ENDIF
    14   1163    AD  010F                       LDA LEVELY
    15   1166    D0    00                       IFEQ                    ;TOP OF WELL ON SCREEN LAST TIME?
    16   1168    A9    10                       LDA I,ILINLIY           ;YES.
    17   116A    85    57                       STA PYL                 ;TOP OF WELL Y
    18   116C    20  1293'                      JSR CHKDEP
    19   116F    A5    57                       LDA PYL
    20   1171    A2    0F                       LDX I,0F                ;INDEX FOR SCREEN COORDS
    21   1173    20  12B3'                      JSR CALOUT              ;CALCULATE SCREEN COORDS FOR TOP OF WELL
    22   1176    8D  010F                       STA LEVELY              ;OFF SCREEN FLAG
    23   1167    11                             ENDIF
    24   1151    27                             ENDIF
    25                                          .SBTTL  UTILITY-BUILD WELL PIAC
    26   1179                           WELPIC:                         ;
    27   1179    A9    01                       LDA I,1                 ;
    28   117B    20  0000G                      JSR VGSCA1              ;NORMAL SCAL
    29   117E    A0    06                       LDY I,WELCOL
    30   1180    84    9E                       STY COLOR
    31   1182    AE  0110                       LDX LEVELY+1
    32   1185    F0    00                       IFNE                    ;OFF SCREEN?
    33   1187    60                             RTS                     ;YES. ABORT
    34   1186    01                             ENDIF
    35   1188    AE  0113                       LDX ROTFLG              ;WELL ON?
    36   118B    D0    00                       IFEQ
    37   118D    60                             RTS                     ;NO. NO SPOKES
    38   118C    01                             ENDIF
    39                                                                  ;ABORT IF ANY OF FAR PTS ARE OFF SCREEN LDX I,NL	S-1
    40   118E    A2    0F                       LDX I,NLINES-1
    41                                          BEGIN                   ;LOOP FOR ACH SPOKE
    42   1190    A9    C0                       LDA I,RATS              ;SPOKE INTENSITY
    43   1192    20  122E'                      JSR SPOKE               ;DRAW SPOKE
    44   1195    CA                             DEX
    45   1196    10    F8                       MIEND
    46                                          .SBTTL  DISPLAY-WELL RIM
    47   1198    A0    06                       LDY I,WELCOL
    48   119A    84    9E                       STY COLOR
    49   119C    A9    08                       LDA I,MZCOLO
    50   119E    20  0000G                      JSR VGSTAT
    51   11A1    A0    4F                       LDY I,4F
    52   11A3    AD  0110                       LDA LEVELY+1
    53   11A6    20  11AE'                      JSR OUTLIN
    54   11A9    A0    0F                       LDY I,0F
    55   11AB    AD  010F                       LDA LEVELY
    56   11AE                           OUTLIN:                         ;DRAW TOP (Y=0) OR BOTTOM (Y=40) OF WELL
    57   11AE    D0    00                       IFEQ                    ;ON SCREEN?
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 53+
DISPLAY-WELL RIM

    58   11B0    84    37                       STY INDEX1              ;YES
    59   11B2    B9  032A                       LDA Y,LINSXL
    60   11B5    85    61                       STA SXL
    61   11B7    B9  031A                       LDA Y,LINSXH
    62   11BA    85    62                       STA SXH
    63   11BC    B9  034A                       LDA Y,LINSZL
    64   11BF    85    63                       STA SZL
    65   11C1    B9  033A                       LDA Y,LINSZH
    66   11C4    85    64                       STA SZH
    67   11C6    A2    61                       LDX I,SXL
    68   11C8    20  15B1'                      JSR VGYABS              ;UPDATE CURNTX,Y
    69   11CB    A5    74                       LDA VGLIST              ;SAVE FOR RUNG CHANGES
    70   11CD    85    B0                       STA RUNGVG
    71   11CF    A5    75                       LDA VGLIST+1
    72   11D1    85    B1                       STA RUNGVG+1
    73   11D3    A2    0F                       LDX I,NLINES-1
    74   11D5    AD  0111                       LDA WELTYP
    75   11D8    F0    00                       IFNE                    ;PLANAR
    76   11DA    CA                             DEX                     ;YES. BEAM OFF FOR 1ST LINE
    77   11D9    01                             ENDIF
    78   11DB    A9    C0                       LDA I,RATS
    79   11DD    85    73                       STA VGBRIT              ;TURN ON BEAM
    80   11DF    86    38                       STX INDEX2
    81                                          BEGIN                   ;LOOP FOR EACH LINE ON LEVEL
    82   11E1    C6    37                       DEC INDEX1
    83   11E3    A5    37                       LDA INDEX1
    84   11E5    29    0F                       AND I,0F
    85   11E7    C9    0F                       CMP I,0F
    86   11E9    D0    00                       IFEQ                    ;INDEX WRAPPING?
    87   11EB    A5    37                       LDA INDEX1
    88   11ED    18                             CLC                     ;YES
    89   11EE    69    10                       ADC I,10
    90   11F0    85    37                       STA INDEX1
    91   11EA    07                             ENDIF
    92   11F2    20  1263'                      JSR LINTOS              ;MOVE LINS TO SXL...SZH
    93   11F5    C6    38                       DEC INDEX2
    94   11F7    10    E8                       MIEND
    95   11AF    49                             ENDIF
    96   11F9    60                             RTS
    97                                          .SBTTL  UTILITY-CONNECT CURRENT PT. WITH NEXT POINT
    98
    99   11FA                           CONNEC:                         ;DRAW A LINE TO NEXT POINT (SX)
   100   11FA    A5    61                       LDA SXL                 ;CURRENT POINT(CURNTX)AND
   101   11FC    38                             SEC                     ;SET CURRENT POINT=NEXT POIN
   102   11FD    E5    6A                       SBC CURNTX
   103   11FF    85    6E                       STA XCOMP
   104   1201    A5    62                       LDA SXH
   105   1203    E5    6B                       SBC CURNTX+1
   106   1205    85    6F                       STA XCOMP+1             ;X PORTION OF VECTOR
   107   1207    A5    63                       LDA SZL
   108   1209    38                             SEC
   109   120A    E5    6C                       SBC CURNTY
   110   120C    85    70                       STA YCOMP
   111   120E    A5    64                       LDA SZH
   112   1210    E5    6D                       SBC CURNTY+1
   113   1212    85    71                       STA YCOMP+1             ;Z PORTION OF VECTOR
   114   1214    A2    6E                       LDX I,XCOMP
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 53+
UTILITY-CONNECT CURRENT PT. WITH NEXT POINT

   115   1216    20  0000G              UPCURN: JSR VGVCTR              ;DRAW VECTOR
   116   1219    A5    61                       LDA SXL                 ;SET CURRENT PT=NEXT PT
   117   121B    85    6A                       STA CURNTX
   118   121D    A5    62                       LDA SXH
   119   121F    85    6B                       STA CURNTX+1
   120   1221    A5    63                       LDA SZL
   121   1223    85    6C                       STA CURNTY
   122   1225    A5    64                       LDA SZH
   123   1227    85    6D                       STA CURNTY+1
   124                                                                  ;MAKE SURE BEAM IS ON
   125   1229    A9    C0                       LDA I,RATS
   126   122B    85    73                       STA VGBRIT
   127   122D    60                             RTS
   128                                          .SBTTL  DISPLAY-DRAW 2 SPOKES
   129                                  ;INPUT:	X=LINE # TO ILLUMINATE
   130                                  ;	ACC=INTENSITY
   131                                  ;OUTPUT:X PRESERVED
   132   122E    86    37               SPOKE:  STX INDEX1
   133   1230    48                             PHA
   134   1231    A4    9E                       LDY COLOR
   135   1233    A9    08                       LDA I,MZCOLO
   136   1235    20  0000G                      JSR VGSTAT
   137                                                                  ;CENTER BEAM
   138   1238    20  127C'                      JSR LIFTOS              ;FAR PT SCREEN COORD
   139   123B    A2    61                       LDX I,SXL               ;DRAW BLANK VEC TO FAR PT.
   140   123D    20  15B1'                      JSR VGYABS              ;CURRENT PT.=FAR PT.
   141   1240    68                             PLA
   142   1241    85    73                       STA VGBRIT
   143   1243    48                             PHA
   144                                                                  ;NEAR PT COORD
   145   1244    20  1263'                      JSR LINTOS              ;DRAW FROM FAR PT TO NEAR PT.
   146   1247    C6    37                       DEC INDEX1
   147   1249    A4    9E                       LDY COLOR
   148   124B    A9    00                       LDA I,0
   149   124D    85    73                       STA VGBRIT
   150   124F    A9    08                       LDA I,MZCOLO
   151   1251    20  0000G                      JSR VGSTAT
   152   1254    20  1263'                      JSR LINTOS              ;DRAW FROM NEAR PT. TO ADJ NEAR PT.
   153   1257    68                             PLA
   154   1258    85    73                       STA VGBRIT
   155   125A    20  127C'                      JSR LIFTOS
   156   125D    20  11FA'                      JSR CONNEC              ;DRAW TO FAR PT.
   157   1260    A6    37                       LDX INDEX1
   158   1262    60                             RTS
   159   1263    A6    37               LINTOS: LDX INDEX1
   160   1265    BD  032A                       LDA X,LINSXL
   161   1268    85    61                       STA SXL
   162   126A    BD  031A                       LDA X,LINSXH
   163   126D    85    62                       STA SXH
   164   126F    BD  034A                       LDA X,LINSZL
   165   1272    85    63                       STA SZL
   166   1274    BD  033A                       LDA X,LINSZH
   167   1277    85    64                       STA SZH
   168   1279    4C  11FA'                      JMP CONNEC              ;DRAW LINE
   169   127C                           LIFTOS:
   170   127C    A6    37                       LDX INDEX1
   171   127E    BD  036A                       LDA X,LIFSXL
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 53+
DISPLAY-DRAW 2 SPOKES

   172   1281    85    61                       STA SXL
   173   1283    BD  035A                       LDA X,LIFSXH
   174   1286    85    62                       STA SXH
   175   1288    BD  038A                       LDA X,LIFSZL
   176   128B    85    63                       STA SZL
   177   128D    BD  037A                       LDA X,LIFSZH
   178   1290    85    64                       STA SZH
   179   1292    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 54
DISPLAY-DRAW 2 SPOKES

     1
     2                                          .SBTTL  CHECK FOR EYE PAST OBJECT ON WELL
     3   1293                           CHKDEP:
     4   1293    A5    5B                       LDA EYH
     5   1295    D0    00                       IFEQ                    ;EYE + ?
     6   1297    A5    57                       LDA PYL                 ;YES.
     7   1299    38                             SEC
     8   129A    E5    5F                       SBC EYL
     9   129C    90    00                       IFCS
    10   129E    C9    0C                       CMP I,0C
    11   129D    02                             ENDIF
    12   12A0    B0    00                       IFCC                    ;EYE TO CLOSE?
    13   12A2    A5    5F                       LDA EYL                 ;YES. NUDGE PT. AWAY
    14   12A4    18                             CLC
    15   12A5    69    0F                       ADC I,0F
    16   12A7    B0    00                       IFCC
    17   12A9    C9    F0                       CMP I,0F0
    18   12A8    02                             ENDIF
    19   12AB    90    00                       IFCS                    ;
    20   12AD    A9    F0                       LDA I,0F0               ;BUT NOT PAST END OF WELL
    21   12AC    02                             ENDIF
    22   12AF    85    57                       STA PYL
    23   12A1    0F                             ENDIF
    24   1296    1A                             ENDIF
    25   12B1    60                             RTS
    26   12B2    00G                    CHKSM8::        .BYTE QCHKS8
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 55
UTILITY-PROJECT OUTLINE

     1                                          .SBTTL  UTILITY-PROJECT OUTLINE
     2                                  ;INPUT:ACC=Y COORDINATE FOR OUTLINE
     3                                  ;	 X=0F OR 4F FOR NEAR OR FAR ARRAY
     4                                  ;        LINEX,Z(10)=OUTLINE'S X AND Z COORDINATES
     5                                  ;
     6                                  ;OUTPUT:ACC:0 IF OUTLINE IS ONSCREEN
     7                                  ;	   :NOT 0 IF ANY PT. IS OFF SCREEN
     8
     9   12B3                           CALOUT:
    10   12B3    85    57                       STA PYL                 ;SAVE Y FOR OUTLINE
    11   12B5    86    38                       STX INDEX2              ;SAVE INDEX OF DEST IN ARRAY
    12   12B7    A9    00                       LDA I,0
    13   12B9    85    59                       STA LINSCA              ;START OFF SCREEN FLAG AT ON SCREEN
    14   12BB    A2    0F                       LDX I,0F
    15   12BD    86    37                       STX INDEX1
    16                                          BEGIN                   ;LOOP FOR EACH PT. ON OUTLINE
    17   12BF    A6    37                       LDX INDEX1
    18   12C1    BD  03CE                       LDA X,LINEX
    19   12C4    85    56                       STA PXL
    20   12C6    BD  03DE                       LDA X,LINEZ
    21   12C9    85    58                       STA PZL
    22   12CB    20  0EDA'                      JSR WORSCR              ;PROJECT PT.
    23   12CE    A6    38                       LDX INDEX2
    24   12D0    A4    61                       LDY SXL
    25   12D2    A5    62                       LDA SXH
    26   12D4    30    00                       IFPL                    ;X OFF SCREEN?
    27   12D6    C9    04                       CMP I,4
    28   12D8    90    00                       IFCS
    29   12DA    A0    FF                       LDY I,0FF
    30   12DC    A9    03                       LDA I,3
    31   12DE    E6    59                       INC LINSCA              ;YES
    32   12D9    06                             ENDIF
    33   12E0    B8    50    00                 ELSE
         12D5    0D
    34   12E3    C9    FC                       CMP I,-4
    35   12E5    B0    00                       IFCC
    36   12E7    A0    01                       LDY I,1
    37   12E9    A9    FC                       LDA I,-4
    38   12EB    E6    59                       INC LINSCA              ;YES. SET OFF SCREEN FLAG
    39   12E6    06                             ENDIF
    40   12E2    0A                             ENDIF
    41   12ED    9D  031A                       STA X,LINSXH
    42   12F0    98                             TYA
    43   12F1    9D  032A                       STA X,LINSXL
    44   12F4    A4    63                       LDY SZL
    45   12F6    A5    64                       LDA SZH
    46   12F8    30    00                       IFPL                    ;Z OFF SCREEN?
    47   12FA    C9    04                       CMP I,4
    48   12FC    90    00                       IFCS
    49   12FE    A0    FF                       LDY I,0FF
    50   1300    A9    03                       LDA I,3
    51   1302    E6    59                       INC LINSCA              ;YES.
    52   12FD    06                             ENDIF
    53   1304    B8    50    00                 ELSE
         12F9    0D
    54   1307    C9    FC                       CMP I,-4
    55   1309    B0    00                       IFCC
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 55+
UTILITY-PROJECT OUTLINE

    56   130B    A9    FC                       LDA I,-4
    57   130D    A0    01                       LDY I,1
    58   130F    E6    59                       INC LINSCA              ;YES
    59   130A    06                             ENDIF
    60   1306    0A                             ENDIF
    61   1311    9D  033A                       STA X,LINSZH
    62   1314    98                             TYA
    63   1315    9D  034A                       STA X,LINSZL
    64   1318    C6    38                       DEC INDEX2
    65   131A    C6    37                       DEC INDEX1
    66   131C    10    A1                       MIEND
    67   131E    A5    59                       LDA LINSCA
    68   1320    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 56
UTILITY-DRAW WELL SHAPE

     1                                          .SBTTL  UTILITY-DRAW WELL SHAPE
     2                                  ;INPUT:ACC=LEVEL #-1
     3
     4   1321                           DSPHOL:
     5   1321    20  1128'                      JSR LVLWEL              ;SET UP WELL INDEX & ID
     6   1324    85    36                       STA SAVEY               ;WELL INDEX
     7   1326    86    35                       STX SAVEX               ;CYCLE
     8   1328    A9    00                       LDA I,0
     9   132A    85    73                       STA VGBRIT
    10   132C    A9    05                       LDA I,5                 ;MAKE WELL REALLY SMALL
    11   132E    20  0000G                      JSR VGSCA1
    12   1331    A5    35                       LDA SAVEX               ;GET CYCLE (TIMES THRU ALL WELLS
    13   1333    29    07                       AND I,7
    14   1335    AA                             TAX
    15   1336    BC  106D'                      LDY X,SPWECO            ;GET SPECIAL WELL COLOR FOR CYCLE
    16   1339    84    9E                       STY COLOR
    17   133B    A9    08                       LDA I,MZCOLO
    18   133D    20  0000G                      JSR VGSTAT              ;SET WELL COLOR
    19   1340    AE  0112                       LDX WELLID
    20   1343    A5    36                       LDA SAVEY
    21   1345    BC  0B0E'                      LDY X,HOLRAP
    22   1348    D0    00                       IFEQ                    ;PLANAR?
    23   134A    38                             SEC                     ;NO. START BEAM AT FIRST POINT
    24   134B    E9    0F                       SBC I,0F                ;IN TABLE (FOR CLOSED WELLS)
    25   1349    03                             ENDIF
    26   134D    A8                             TAY
    27   134E    B9  08BE'                      LDA Y,NEWLIZ
    28   1351    85    57                       STA PYL
    29   1353    49    80                       EOR I,80                ;ADJUST Z SIGN
    30   1355    AA                             TAX
    31   1356    B9  07BE'                      LDA Y,NEWLIX            ;SAVE COORDS OF 1ST PT
    32   1359    85    56                       STA PXL
    33   135B    49    80                       EOR I,80                ;ADJUST X SIGN
    34   135D    20  0000G                      JSR VGVTR1              ;POSITION BEAM AT 1ST PT ON WELL
    35   1360    A9    C0                       LDA I,0C0               ;TURN BEAM ON
    36   1362    85    73                       STA VGBRIT
    37   1364    A2    0F                       LDX I,NLINES-1
    38   1366    86    38                       STX INDEX2
    39                                          BEGIN                   ;LOOP FOR EACH PT ON EDGE
    40   1368    A4    36                       LDY SAVEY
    41   136A    B9  07BE'                      LDA Y,NEWLIX            ;
    42   136D    AA                             TAX
    43   136E    38                             SEC
    44   136F    E5    56                       SBC PXL                 ;DELTA X
    45   1371    48                             PHA                     ;
    46   1372    86    56                       STX PXL                 ;CURRENT X OLD X
    47   1374    B9  08BE'                      LDA Y,NEWLIZ
    48   1377    A8                             TAY
    49   1378    38                             SEC
    50   1379    E5    57                       SBC PYL                 ;DELTA Z
    51   137B    AA                             TAX
    52   137C    84    57                       STY PYL                 ;CURRENT Z>OLD Z
    53   137E    68                             PLA
    54   137F    20  0000G                      JSR VGVTR1              ;DRAW VECTOR TO NEXT PT.
    55   1382    C6    36                       DEC SAVEY
    56   1384    C6    38                       DEC INDEX2
    57   1386    10    E0                       MIEND
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 56+
UTILITY-DRAW WELL SHAPE

    58   1388    A9    01                       LDA I,1                 ;NORMAL SIZE AGAIN
    59   138A    4C  0000G                      JMP VGSCA1
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 57
DISPLAY STAR FIELD

     1                                  .SBTTL  DISPLAY STAR FIELD
     2
     3   138D                           DSTARF:
     4   138D    AD  0115                       LDA PLAGRO
     5   1390    F0    00                       IFNE
     6   1392    A5    5F                       LDA EYL                 ;SAVE EYE POSITION
     7   1394    48                             PHA
     8   1395    A5    5B                       LDA EYH
     9   1397    48                             PHA
    10   1398    A5    A0                       LDA YDEUNI
    11   139A    48                             PHA
    12   139B    A9    E8                       LDA I,0E8
    13   139D    85    5F                       STA EYL
    14   139F    A9    FF                       LDA I,0FF
    15   13A1    85    5B                       STA EYH
    16   13A3    A9    28                       LDA I,28
    17   13A5    85    A0                       STA YDEUNI
    18                                          .SBTTL  DISPLAY-PLANES OF STARS
    19   13A7    A2    07                       LDX I,NPLANE-1
    20   13A9    86    37                       STX INDEX1
    21                                          BEGIN                   ;LOOP FOR EACH PLANE OF STARS
    22   13AB    A6    37                       LDX INDEX1
    23   13AD    BD  03FE                       LDA X,PLANEY
    24   13B0    F0    00                       IFNE                    ;ACTIVE PLANE?
    25   13B2    85    57                       STA PYL                 ;YES
    26   13B4    A9    80                       LDA I,80                ;CENTER OF WORLD
    27   13B6    85    56                       STA PXL
    28   13B8    A9    80                       LDA I,80
    29   13BA    85    58                       STA PZL
    30   13BC    A5    9F                       LDA CURWAV
    31   13BE    C9    05                       CMP I,5
    32   13C0    B0    00                       IFCC
    33   13C2    A9    06                       LDA I,BLUE              ;BLUE STARS IN WAVES 1-4
    34   13C4    B8    50    00                 ELSE
         13C1    05
    35   13C7    8A                             TXA
    36   13C8    29    07                       AND I,7
    37   13CA    C9    07                       CMP I,7
    38   13CC    D0    00                       IFEQ
    39   13CE    A9    04                       LDA I,4
    40   13CD    02                             ENDIF
    41   13C6    09                             ENDIF
    42   13D0    85    9E                       STA COLOR
    43   13D2    A8                             TAY
    44   13D3    A9    08                       LDA I,MZCOLO
    45   13D5    20  0000G                      JSR VGSTAT
    46   13D8    A5    37                       LDA INDEX1
    47   13DA    29    03                       AND I,3                 ;DETERMINE PICTURE SUBROUTINE CODE
    48   13DC    0A                             ASL
    49   13DD    69    00G                      ADC I,PTSTR1
    50   13DF    85    55                       STA OBJIND
    51   13E1    20  0B4B'                      JSR SCAPI2              ;DRAW PLANE OF STARS ACC TO SCALE
    52   13B1    32                             ENDIF
    53   13E4    C6    37                       DEC INDEX1
    54   13E6    10    C3                       MIEND
    55   13E8    68                             PLA
    56   13E9    85    A0                       STA YDEUNI
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 57+
DISPLAY-PLANES OF STARS

    57   13EB    68                             PLA                     ;RESTORE EYE POSITION
    58   13EC    85    5B                       STA EYH
    59   13EE    68                             PLA
    60   13EF    85    5F                       STA EYL
    61   1391    5F                             ENDIF
    62   13F1    AD  011F               ZQPONS::        LDA QT5
    63   13F4    F0    00                       IFNE
    64   13F6    A6    42                       LDX LSCORH
    65   13F8    E0    15                       CPX I,15
    66   13FA    90    00                       IFCS
    67   13FC    A6    40                       LDX LSCORL
    68   13FE    FE  0200                       INC X,200
    69   13FB    05                             ENDIF
    70   13F5    0B                             ENDIF
    71   1401    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 58
DISPLAY-PLANES OF STARS

     1
     2                                          .SBTTL  DISPLAY - ENEMY LINES
     3
     4   1402                           DSPENL:
     5   1402    AD  0110                       LDA LEVELY+1            ;BOTTOM OF WELL
     6   1405    F0    00                       IFNE                    ;WELL ON?
     7   1407    60                             RTS                     ;NO. NO ENEMY LINES THEN
     8   1406    01                             ENDIF
     9   1408    A5    5B                       LDA EYH
    10   140A    D0    00                       IFEQ                    ;EYE ON WELL?
    11   140C    A5    5F                       LDA EYL                 ;YES.
    12   140E    C9    F0                       CMP I,0F0
    13   1410    90    00                       IFCS                    ;PAST END?
    14   1412    60                             RTS                     ;YES. ABORT
    15   1411    01                             ENDIF
    16   140B    07                             ENDIF
    17   1413    A9    01                       LDA I,1
    18   1415    20  0000G                      JSR VGSCA1
    19   1418    A5    74                       LDA VGLIST              ;SAVE FOR NEXT TIME
    20   141A    48                             PHA
    21   141B    A5    75                       LDA VGLIST+1
    22   141D    48                             PHA
    23   141E    A9    00                       LDA I,0                 ;LINE LOOP INDEX
    24   1420    85    38                       STA INDEX2
    25   1422    85    A9                       STA VGY
    26   1424    A2    0F                       LDX I,NLINES-1
    27   1426    AD  0111                       LDA WELTYP
    28   1429    F0    00                       IFNE                    ;PLANAR?
    29   142B    CA                             DEX                     ;YES. 1 LESS LINE
    30   142A    01                             ENDIF
    31   142C    86    37                       STX INDEX1
    32                                          BEGIN                   ;LOOP FOR EACH LINE FROM 0 TO TOP
    33   142E    A2    03                       LDX I,3
    34   1430    A4    A9                       LDY VGY
    35                                          BEGIN                   ;SET FIXED CODES
    36   1432    BD  14A9'                      LDA X,ENLFIX            ;(CSTATGREEN,CNTR)
    37   1435    91    74                       STA NY,VGLIST
    38   1437    C8                             INY
    39   1438    CA                             DEX
    40   1439    10    F7                       MIEND
    41   143B    84    A9                       STY VGY
    42   143D    AD  0114                       LDA ROTDIS
    43   1440    D0    00                       IFEQ                    ;REDO WELL?
    44   1442    A6    38                       LDX INDEX2              ;NO
    45   1444    BD  039A                       LDA X,LINSTA
    46   1447    30    00                       IFPL                    ;ACTION AT NEAR PT?
    47   1449    A2    0B                       LDX I,0B
    48   144B    A4    A9                       LDY VGY
    49                                          BEGIN                   ;NO. COPY VARIABLE STUFF
    50   144D    B1    AA                       LDA NY,OLDLLO           ;COPY VECTOR TO FAR POINT AND
    51   144F    91    74                       STA NY,VGLIST           ;VECTOR TO NEAR POINT
    52   1451    C8                             INY
    53   1452    CA                             DEX
    54   1453    10    F8                       MIEND
    55   1455    84    A9                       STY VGY
    56   1457    B8    50    00                 ELSE
         1448    11
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 58+
DISPLAY - ENEMY LINES

    57   145A    A4    A9                       LDY VGY                 ;NO. SINCE FAR PT. NEED NOT BE
    58   145C    B1    AA                       LDA NY,OLDLLO           ;RECALCULATED, COPY IT TO NEW BUFFER.
    59   145E    91    74                       STA NY,VGLIST           ;
    60   1460    85    6C                       STA CURNTY                      ;Z VECTOR (LSB)
    61   1462    C8                             INY
    62   1463    B1    AA                       LDA NY,OLDLLO
    63   1465    91    74                       STA NY,VGLIST
    64   1467    C9    10                       CMP I,10
    65   1469    90    00                       IFCS
    66   146B    09    E0                       ORA I,0E0               ;SIGN EXTEND
    67   146A    02                             ENDIF
    68   146D    85    6D                       STA CURNTY+1                    ;Z VECTOR (MSB)
    69   146F    C8                             INY
    70   1470    B1    AA                       LDA NY,OLDLLO
    71   1472    91    74                       STA NY,VGLIST           ;X VECTOR (LSB)
    72   1474    85    6A                       STA CURNTX
    73   1476    C8                             INY
    74   1477    B1    AA                       LDA NY,OLDLLO
    75   1479    91    74                       STA NY,VGLIST           ;
    76   147B    C9    10                       CMP I,10
    77   147D    90    00                       IFCS
    78   147F    09    E0                       ORA I,0E0               ;SIGN EXTEND
    79   147E    02                             ENDIF
    80   1481    85    6B                       STA CURNTX+1                    ;X VECTOR (MSB)
    81   1483    C8                             INY
    82   1484    84    A9                       STY VGY
    83   1486    20  1507'                      JSR TIPACT              ;YES. GENERATE TIP STUFF
    84   1459    2F                             ENDIF
    85   1489    B8    50    00                 ELSE
         1441    4A
    86                                                                  ;YES (REDO WELL)
    87   148C    20  14AD'                      JSR FIXSTU              ;GENERATE FIXED STUFF
    88   148F    20  1507'                      JSR TIPACT              ;GENERATE TIP STUFF
    89   148B    06                             ENDIF
    90   1492    A6    38                       LDX INDEX2
    91   1494    1E  039A                       ASL X,LINSTA            ;CLEAR LINE STATUS
    92   1497    E6    38                       INC INDEX2
    93   1499    C6    37                       DEC INDEX1
    94   149B    10    91                       MIEND
    95   149D    68                             PLA                     ;SAVE LOC OF NEW BUFFER
    96   149E    85    AB                       STA OLDLHI
    97   14A0    68                             PLA
    98   14A1    85    AA                       STA OLDLLO
    99   14A3    A4    A9                       LDY VGY
   100   14A5    88                             DEY
   101   14A6    4C  0000G                      JMP VGADD               ;UPDATE VGLIST
   102                                          .SBTTL  DISPLAY - ENEMY LINES (INITIAL FIXED VG CODES)
   103                                                                  ;
   104                                                                  ;PLACES COLOR STAT
   105                                                                  ;	      CNTR
   106                                                                  ;	      VCTR TO FAR PT.
   107                                                                  ;INTO VGLIST(VGY)
   108   14A9    80    40    68    05   ENLFIX: .BYTE 80,40,68,05
   109   14AD                           FIXSTU:
   110                                                                  ;CALCULATE SCREEN LOCATION OF
   111                                                                  ;FAR POINT
   112   14AD    A5    38                       LDA INDEX2
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 58+
DISPLAY - ENEMY LINES (INITIAL FIXED VG CODES)

   113   14AF    AA                             TAX
   114   14B0    18                             CLC                     ;AVERAGING SCREEN COORDNATE
   115   14B1    69    01                       ADC I,1                 ;OF ADJACENT LINES
   116   14B3    29    0F                       AND I,0F
   117   14B5    A8                             TAY
   118   14B6    BD  036A                       LDA X,LIFSXL
   119   14B9    38                             SEC                     ;ROUND
   120   14BA    79  036A                       ADC Y,LIFSXL
   121   14BD    85    61                       STA SXL
   122   14BF    BD  035A                       LDA X,LIFSXH
   123   14C2    79  035A                       ADC Y,LIFSXH
   124   14C5    85    62                       STA SXH
   125   14C7    0A                             ASL
   126   14C8    66    62                       ROR SXH
   127   14CA    66    61                       ROR SXL
   128   14CC    BD  038A                       LDA X,LIFSZL
   129   14CF    38                             SEC                     ;ROUND
   130   14D0    79  038A                       ADC Y,LIFSZL
   131   14D3    85    63                       STA SZL
   132   14D5    BD  037A                       LDA X,LIFSZH
   133   14D8    79  037A                       ADC Y,LIFSZH
   134   14DB    85    64                       STA SZH
   135   14DD    0A                             ASL
   136   14DE    66    64                       ROR SZH
   137   14E0    66    63                       ROR SZL
   138                                                                  ;FALL INTO YVGVCT
   139                                          .SBTTL  UTILITY - QUICK BLANK VECTOR FROM SX,SZ
   140                                  ;UPDATES CURNTX(2) AND CURNTY(2) WITH SXL(2) AND SZL(2).
   141                                  ;UPDATES VGY
   142   14E2    A4    A9               YVGVCT: LDY VGY
   143   14E4    A5    63                       LDA SZL
   144   14E6    91    74                       STA NY,VGLIST
   145   14E8    C8                             INY
   146   14E9    85    6C                       STA CURNTY
   147   14EB    A5    64                       LDA SZH
   148   14ED    85    6D                       STA CURNTY+1
   149   14EF    29    1F                       AND I,1F
   150   14F1    91    74                       STA NY,VGLIST
   151   14F3    C8                             INY
   152   14F4    A5    61                       LDA SXL
   153   14F6    91    74                       STA NY,VGLIST
   154   14F8    C8                             INY
   155   14F9    85    6A                       STA CURNTX
   156   14FB    A5    62                       LDA SXH
   157   14FD    85    6B                       STA CURNTX+1
   158   14FF    29    1F                       AND I,1F
   159   1501    91    74                       STA NY,VGLIST
   160   1503    C8                             INY
   161   1504    84    A9                       STY VGY
   162   1506    60                             RTS
   163                                          .SBTTL  DISPLAY - ENEMY LINES (TIP STUFF)
   164                                                                  ;
   165                                                                  ;PLACES VECTOR TO NEAR PT AND
   166                                                                  ;(DOT STAT COLOR, JSRL DOT) OR
   167                                                                  ;(SHATTER SCAL, SHATTER JSRL PIC)
   168                                                                  ;INTO VGLIST (VGY)
   169   1507                           TIPACT:                         ;OR IF INACTIVE, 4 SCAL 1,05
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 58+
DISPLAY - ENEMY LINES (TIP STUFF)

   170   1507    A6    38                       LDX INDEX2
   171   1509    BD  03AC                       LDA X,LINEY
   172   150C    D0    00                       IFEQ                    ;LINE ACTIVE?
   173   150E    A4    A9                       LDY VGY                 ;NO. FILL WITH SCAL 1,0
   174   1510    A2    03                       LDX I,03
   175                                          BEGIN                   ;LOOP TO FILL 8 BYTES
   176   1512    A9    00                       LDA I,0                 ;SCAL 1,0 LSB (NOOP)
   177   1514    91    74                       STA NY,VGLIST
   178   1516    C8                             INY
   179   1517    A9    71                       LDA I,71                ;SCAL 1,0 MSB (NOOP)
   180   1519    91    74                       STA NY,VGLIST
   181   151B    C8                             INY
   182   151C    CA                             DEX
   183   151D    10    F3                       MIEND
   184   151F    84    A9                       STY VGY
   185   1521    B8    50    00                 ELSE
         150D    16
   186   1524    85    57                       STA PYL                 ;LINE IS ACTIVE
   187                                                                  ;CALCULATE NEAR PT.
   188   1526    20  1293'                      JSR CHKDEP              ;YES, CHECK EYE
   189   1529    BD  0435                       LDA X,LINEXM            ;X COORD OF MIDWAY PT.
   190   152C    85    56                       STA PXL
   191   152E    BD  0445                       LDA X,LINEZM            ;Z COORD OF MIDWAY PT.
   192   1531    85    58                       STA PZL
   193   1533    20  0EDA'                      JSR WORSCR              ;PROJECT ENEMY LIVE NEAR PT.
   194                                                                  ;SAVE NEW COORDINATES
   195   1536    20  157B'                      JSR FCONNEC             ;DRAW VECTOR TO NEAR PT.
   196   1539    A6    38                       LDX INDEX2
   197   153B    BD  039A                       LDA X,LINSTA
   198   153E    29    40                       AND I,40
   199   1540    F0    00                       IFNE                    ;WHAT'S HAPPENING AT TIP?
   200   1542    20  0B80'                      JSR CASCAL              ;SHATTERED
   201                                                                  ;SET PROJECTION SCALE
   202   1545    AD  60CA                       LDA RANDOM
   203   1548    29    02                       AND I,2
   204   154A    18                             CLC
   205   154B    69    00G                      ADC I,PTSPAR
   206   154D    AA                             TAX                     ;DETERMINE SHATTER PIC
   207   154E    BD  0000G                      LDA X,PICHI
   208   1551    C8                             INY                     ;INSERT JSRL TO SHATTER PIC
   209   1552    91    74                       STA NY,VGLIST
   210   1554    88                             DEY
   211   1555    BD  0000G                      LDA X,PICLO
   212   1558    91    74                       STA NY,VGLIST
   213   155A    C8                             INY
   214   155B    C8                             INY
   215   155C    84    A9                       STY VGY
   216   155E    B8    50    00                 ELSE
         1541    1F
   217   1561    A4    A9               WHITIP: LDY VGY                 ;JUST A DOT AT TIP
   218   1563    A9    00                       LDA I,WHITE             ;COLOR (SET STAT WHITE)
   219   1565    91    74                       STA NY,VGLIST
   220   1567    C8                             INY
   221   1568    A9    68                       LDA I,68
   222   156A    91    74                       STA NY,VGLIST
   223   156C    C8                             INY
   224   156D    AD  0000G                      LDA JSRDOT              ;INSERT JSRL TO DOT
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 58+
DISPLAY - ENEMY LINES (TIP STUFF)

   225   1570    91    74                       STA NY,VGLIST
   226   1572    C8                             INY
   227   1573    A5    01G                      LDA JSRDOT+1
   228   1575    91    74                       STA NY,VGLIST
   229   1577    C8                             INY
   230   1578    84    A9                       STY VGY
   231   1560    19                             ENDIF
   232   1523    56                             ENDIF
   233   157A    60                             RTS
   234                                          .SBTTL  DISPLAY UTILITY - FAST CONNECT
   235                                                                  ;DRAW VECTOR OF INTENSITY 0A0
   236                                                                  ;FROM CURNTX, Y, TO SX, SZ
   237   157B    A4    A9               FCONNEC:        LDY VGY
   238   157D    A5    63                       LDA SZL
   239   157F    38                             SEC
   240   1580    E5    6C                       SBC CURNTY
   241   1582    91    74                       STA NY,VGLIST
   242   1584    C8                             INY
   243   1585    A5    64                       LDA SZH
   244   1587    E5    6D                       SBC CURNTY+1
   245   1589    29    1F                       AND I,1F
   246   158B    91    74                       STA NY,VGLIST
   247   158D    C8                             INY
   248   158E    A5    61                       LDA SXL
   249   1590    38                             SEC
   250   1591    E5    6A                       SBC CURNTX
   251   1593    91    74                       STA NY,VGLIST
   252   1595    C8                             INY
   253   1596    A5    62                       LDA SXH
   254   1598    E5    6B                       SBC CURNTX+1
   255   159A    29    1F                       AND I,1F
   256   159C    09    A0                       ORA I,0A0
   257   159E    91    74                       STA NY,VGLIST
   258   15A0    C8                             INY
   259   15A1    84    A9                       STY VGY
   260   15A3    60                             RTS
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 59
UTILITY - VG ABS POS

     1                                          .SBTTL  UTILITY - VG ABS POS
     2   15A4                           VGYAB1:
     3   15A4    A0    00                       LDY I,0
     4   15A6    98                             TYA
     5   15A7    91    74                       STA NY,VGLIST
     6   15A9    A9    71                       LDA I,71
     7   15AB    C8                             INY
     8   15AC    91    74                       STA NY,VGLIST           ;SCALE BINARY=1, LINEAR=0
     9   15AE    C8                             INY
    10   15AF    D0    02                       BNE NOLABS
    11   15B1    A0    00               VGYABS: LDY I,0
    12   15B3    A9    40               NOLABS: LDA I,40                ;INPUT: X=BASE PAGE LOC OF SCREEN COORDINATE PAIR
    13   15B5    91    74                       STA NY,VGLIST           ;VG CENTER
    14   15B7    A9    80                       LDA I,80
    15   15B9    C8                             INY
    16   15BA    91    74                       STA NY,VGLIST
    17   15BC    C8                             INY
    18   15BD    B5    02                       LDA ZX,2
    19   15BF    85    6C                       STA CURNTY
    20   15C1    91    74                       STA NY,VGLIST           ;VCTR DELTA Z
    21   15C3    C8                             INY
    22   15C4    B5    03                       LDA ZX,3
    23   15C6    85    6D                       STA CURNTY+1
    24   15C8    29    1F                       AND I,1F
    25   15CA    91    74                       STA NY,VGLIST
    26   15CC    B5    00                       LDA ZX,0
    27   15CE    85    6A                       STA CURNTX
    28   15D0    C8                             INY
    29   15D1    91    74                       STA NY,VGLIST           ;DELTA X
    30   15D3    B5    01                       LDA ZX,1
    31   15D5    85    6B                       STA CURNTX+1
    32   15D7    29    1F                       AND I,1F
    33   15D9    C8                             INY
    34   15DA    91    74                       STA NY,VGLIST
    35   15DC    4C  0000G                      JMP VGADD               ;OUTPUT: BEAM AT ABS. POS.
    36                                                                  ;CURNTX,Y=BEAM COORDS.
    37                                                                  ;VGLIST UPDATED
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 60
UTILITY - VG ABS POS

     1                                          HLL65
     2
     3
     4
     5
     6
     7         0001'                            .END
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 60+
SYMBOL TABLE

ACTIP   03AA   		ALLPOT= 60C8   		ALLPO2= 60D8   		ALTCOL  06A5 R 		AUDCTL= 60C8
AUDC1 = 60C1   		AUDC2 = 60D1   		AUDF1 = 60C0   		AUDF2 = 60D0   		AUD2CT= 60D8
BCCURS= ****  G		BCENEL= ****  G		BCEXPL= ****  G		BCINFO= ****  G		BCINVA= ****  G
BCNYMP= ****  G		BCSHOT= ****  G		BCSTAR= ****  G		BCWELL= ****  G		BFACTR  0078
BFASTA= ****  G		BFBSTA= ****  G		BIGTEX  0179 R 		BINSCA  005A   		BLDWEL  114D R
BLIFIN  0156   		BLUE  = 0006   		BLULET= 0007   		BOFLAS  0124   		BONUS   0102
BOOKKE  0412   		BOOKKS  0406   		BOOMFL  010D   		BOOMTI  010E   		BOXPRO= ****  G
BUFACT  0415   		BUFASH= ****  G		BUFASL= ****  G		BUFBSH= ****  G		BUFBSL= ****  G
BUFRDY  0054   		BUFSWH= ****  G		BUFSWL= ****  G		CALMAG  0799 R 		CALOUT  12B3 R
CAMPC   010B   		CAMSTA  010C   		CASCAL  0B80 R 		CBOOM = 0024   		CBUF1 = 0078
CDBOOM= 0004   		CDBOXP= 0012   		CDGETI= 0006   		CDGOVR= 000C   		CDHITB= 000A
CDLADR= 0014   		CDLOGP= 0014   		CDPLAY= 0000   		CDPLPL= 000E   		CDPRST= 0010
CDREQR= 0008   		CDROP = 0020   		CDSYST= 0002   		CD2GAM= 0016   		CENDGA= 0008
CENDLI= 0006   		CENDWA= 000E   		CGETIN= 0012   		CHACHA  00A7   		CHACOU  0135
CHAINV  00A8   		CHARCO  02F2   		CHARL1  02AD   		CHARL2  02C0   		CHARY   02D3
CHARYL  02E6   		CHISCH= 0010   		CHKDEP  1293 R 		CHKSM6  02DD RG		CHKSM7  0B3E RG
CHKSM8  12B2 RG		CHPLKI  0631 R 		CINIRA= 001C   		CINVA1= 0000   		CLOGO = 001A
CNCURS= 0001   		CNEWAV= 000C   		CNEWGA= 0000   		CNEWLI= 0002   		CNEWV2= 0018
CNOTFO= 0014   		CNWLF2= 001E   		COCKTA= 0010   		COCTAL  0117   		COLOR   009E
COLPOR= 0800   		COLRAM  0019   		COLTAB  103D R 		CONNEC  11FA R 		CPAUSE= 000A
CPLAY = 0004   		CPSPXI= FFFF  G		CPULS0= 000D   		CPULS1= 000C   		CPULS2= 000B
CPULS3= 000A   		CPULS4= 0009   		CREQRA= 0016   		CR0   = 00F0   		CR1   = 00F0
CR2   = 00B8   		CR3   = 00B8   		CR4   = 0080   		CSUINT= 0001   		CSUSTA= 0003
CSYSTM= 0022   		CURCOL= 0001   		CURMOD  0106   		CURNTX  006A   		CURNTY  006C
CURSL1  0200   		CURSL2  0201   		CURSPO  0051   		CURSVH  0105   		CURSVL  0104
CURSY   0202   		CURSYL  0107   		CURS4E  0E14 R 		CURWAV  009F   		C8      0DF7 R
DBSW    004C   		DELTA8  0540 R 		DENORM  0077 R 		DEPCOL= 0006   		DGOVER= ****  G
DG0   = 00F0   		DG000 = 002C   		DG225 = 00E7   		DG450 = 00CF   		DG675 = 00AA
DG900 = 0080   		DISPLA  0000 RG		DI0   = 00F0   		DI1   = 00B8   		DI2   = 0080
DI3   = 0048   		DI4   = 0010   		DPLPLA= ****  G		DPRSTA= ****  G		DROUTA  005F R
DROUTE  0077 R 		DSBOOM  06FE R 		DSPCHG  05A1 R 		DSPCUR  03CC R 		DSPENL  1402 R
DSPEXP  05E0 R 		DSPHOL  1321 RG		DSPINV  03F3 R 		DSPNYM  02DE R 		DSPSYS= ****  G
DSPWEL  01AD R 		DSTARF  138D R 		DSTATE  0054 R 		D07MSK= ****  G		D2GAME= ****  G
D70MSK= ****  G		EACTL = 6040   		EADAL = 6000   		EAIN  = 6050   		ELICNT  0123
EMCTRS= 0003   		ENLFIX  14A9 R 		ENSIZE  0151   		ESHCOU  00A6   		EXCESS  0396 R
EXICAM  010A   		EXL     005E   		EXPCOL= 0000   		EXPCOU  0116   		EXPLOL  02FA
EXPLOS  0312   		EXPLOT  0302   		EXPLOY  030A   		EYEFAC  0065   		EYH     005B
EYL     005F   		EYLDES  005D   		EYLL    005C   		EZL     0060   		FARY    014E
FBLUE = 000B   		FCONNE  157B R 		FGREEN= 0007   		FIXSTU  14AD R 		FLASH = 000F
FLGNHI  0603   		FLICOL= 0003   		FLIPCO  0142   		FLIPIC  0431 R 		FLITAB  0451 R
FPSPXI= 0009  G		FPSTAR  067A R 		FRED  = 000C   		FRTIMR  0053   		FUSECO  0146
FUSPIC  04E1 R 		GAMOP1  071E   		GAMOP3  071F   		GETDSP= ****  G		GREEN = 0005
HARDWA= 6000   		HIRATE  0127   		HIWAVE  0126   		HOLEYL  0ACE R 		HOLEZL  0ADE R
HOLRAP  0B0E R 		HOLZAD  0AEE R 		HOLZDH  0AFE R 		HRANKH= 0620   		HRANKL  061E
HRANKM= 061F   		HRED  = 000D   		HSCORH= 0708   		HSCORL= 0706   		HSCORM= 0707
ICHCOL= 0000   		IEYL  = 0004   		IJMPDS  047A R 		ILINAN  09BE R 		ILINDD= 00F0
ILINLI= 0010   		INCCOU  0109   		INDEX1  0037   		INDEX2  0038   		INDEX3  0039
INDEX4  003A   		INDYHI  003C   		INDYLO  003B   		INFO  = ****  G		INICOL  0FD6 RG
INIDSP  0FB0 RG		INIMAT  1003 R 		ININDX  0604   		INITAL  0606   		INITEM= ****  G
INIWLS  1075 R 		INMCOU  0108   		INOP0 = 0D00   		INOP1 = 0E00   		INPUT   004A
INTACK= 5000   		INTENS  0098   		INTIME  0128   		INVABI= 0007   		INVACT  02A6
INVAC1  0283   		INVAC2  028A   		INVAL1  02B9   		INVAL2  02CC   		INVAY   02DF
INVAYL  029F   		INVA1E  0E24 R 		INVA1S  0E14 R 		INVCAM  0291   		INVCAR= 0003
INVCOL= 0003   		INVDIR= 0080   		INVERS= ****  G		INVEXP= ****  G		INVFIR= 0040
INVLOO  0298   		INVMOT= 0080   		INVPIC  041D R 		INVPIE  0431 R 		INVPIT  0427 R
INVROT= 0040   		INVSEQ= 0018   		IN1   = 0C00   		JMPAHI= ****  G		JMPALO= ****  G
JMPBHI= ****  G		JMPBLO= ****  G		JMPMAH= ****  G		JMPMAL= ****  G		JSRDOT= ****  G
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 60+
SYMBOL TABLE

JUMPX   04D1 R 		JUMPZ   04CD R 		KILLER= ****  G		LCIRCL  07CD R 		LCROSS  07ED R
LDIAMO  07DD R 		LDRDSP= ****  G		LEDOFF= 0003   		LEFSID  007B   		LETCOL= 0005
LEVELY  010F   		LIFSXH  035A   		LIFSXL  036A   		LIFSZH  037A   		LIFSZL  038A
LIFTOS  127C R 		LINANG  03EE   		LINEX   03CE   		LINEXM  0435   		LINEY   03AC
LINEZ   03DE   		LINEZM  0445   		LINSCA  0059   		LINSTA  039A   		LINSXH  031A
LINSXL  032A   		LINSZH  033A   		LINSZL  034A   		LINTOS  1263 R 		LITRAL  00AC
LIVES1  0048   		LIVES2  0049   		LOGPRO= ****  G		LPEANU  07FD R 		LSCORH  0042
LSCORL  0040   		LSCORM  0041   		LVLWEL  1128 R 		LVSGAM  0158   		MAH   = 6081
MAL   = 6080   		MATRAC= 0080   		MBH   = 6083   		MBL   = 6082   		MBSTAR= 6080
MCOINC= 0002   		MCOINL= 0004   		MCOINR= 0001   		MDITES= 0020   		MDYPL = 6098
MECHS = 0003   		MEH   = 6085   		MEL   = 6084   		MFAKE = 0080   		MFH   = 6087
MFIRE = 0010   		MFL   = 6086   		MFLIP = 0004   		MGTMOD= 0040   		MHALT = 0040
MLCCNT= 0004   		MLED1 = 0002   		MLED2 = 0001   		MMCCNT= 0002   		MNL   = 608C
MOPTI4= 0020   		MOPT13= 0007   		MRCCNT= 0001   		MSTAT = 6040   		MSTRT1= 0020
MSTRT2= 0040   		MSUZA = 0008   		MSZXD = 6094   		MTEMP   0031   		MTEST = 0010
MVINVX= 0008   		MVINVY= 0010   		MXH   = 6089   		MXL   = 6088   		MXPH  = 6096
MXPL  = 6095   		MYHIGH= 6070   		MYLOW = 6060   		MZBRIT= 0000   		MZCOLO= 0008
MZHH  = 6090   		MZHL  = 608F   		MZLH  = 608E   		MZLL  = 608D   		M10     04F6 R
M3KHTI= 0080   		NCHARG= 000C   		NCRS1E  0E34 R 		NCRS1S  0E24 R 		NCRS2E  0E44 R
NCRS2S  0E34 R 		NCRS3E  0E54 R 		NCRS3S  0E44 R 		NCRS4E  0E64 R 		NCRS4S  0E54 R
NCRS5E  0E74 R 		NCRS5S  0E64 R 		NCRS6E  0E84 R 		NCRS6S  0E74 R 		NCRS7E  0E94 R
NCRS7S  0E84 R 		NCRS8E  0EA6 R 		NCRS8S  0E94 R 		NEARY   014D   		NEOFLI  014F
NEWAIT  00A3   		NEWLIX  07BE R 		NEWLIZ  08BE R 		NEWPLA  003F   		NEXPLO= 0008
NGAMES  0100   		NGAME0  040E   		NGAMIH  040D   		NGAMIL  040C   		NGAM2H  0410
NGAM2L  040F   		NGAM20  0411   		NGAVGH  0413   		NGAVGL  0412   		NGAVGZ  0414
NHISCO= 0008   		NICHAR= 0004   		NINVAD= 0007   		NLINES= 0010   		NNYMPH= 0040
NOLABS  15B3 R 		NONYM   038F R 		NOOPR   005E R 		NPARTI= 0010   		NPCHAR= 0008
NPLANE= 0008   		NPLAYR  0101   		NRANKS= 0063   		NROMS = 000C   		NUM   = 0002
NUMPLA  003E   		NWNYMC  015B   		NWTELI  015A   		NYMCOL= 000C   		NYMCOU  03AB
NYMPL   0203   		NYMPY   0243   		OBJIND  0055   		OCURSL  00A5   		OFRTIM  00A4
OLDLHI  00AB   		OLDLLO  00AA   		OLOFLI  0150   		OM2GAM= 0001   		ONELIN  0BE2 R
ONELN2  0C0D R 		OPFLIP  013D   		OPFUSE  0141   		OPPULS  013E   		OPSPIN  0140
OPTANK  013F   		OPTIN1  0009   		OPTIN2  000A   		OPTIN3  016A   		OTB     0052
OUTANK= 60E0   		OUTLIN  11AE R 		OUT0  = 4000   		PARLIX  0203   		PARLIY  0223
PARLIZ  0243   		PARLXA= 0020   		PARLXV  02C3   		PARLYA= 0020   		PARLYV  02E3
PARLZA= 0020   		PARLZV  0303   		PARTIX  0263   		PARTIY  0283   		PARTIZ  02A3
PARTXA= 0000   		PARTXV  0323   		PARTYA= 0000   		PARTYV  0343   		PARTZA= 0000
PARTZV  0363   		PCHCOL= 0001   		PCOUNT  0DF8 R 		PCVELO= 0009   		PDIRED= 000B
PDIWHI= 0009   		PDIYEL= 000A   		PICHI = ****  G		PICLO = ****  G		PINDEX  0E06 R
PLAGRO  0115   		PLANEY  03FE   		PLAYUP  003D   		POKEY = 60C0   		POKEY2= 60D0
POTGO = 60CB   		POTGO2= 60DB   		PPSPXI= 0007  G		PPSTAR  0678 R 		PROG  = 9000
PSCALE  016B   		PSHCTR= 0008   		PTCURS= ****  G		PTESHO= ****  G		PTEXP1= ****  G
PTFUSE= ****  G		PTFUSX= ****  G		PTSPAR= ****  G		PTSPI1= ****  G		PTSPLA= ****  G
PTSPLF= ****  G		PTSTR1= ****  G		PTTANF= ****  G		PTTANK= ****  G		PTTANP= ****  G
PUCHDE  00B2   		PULPIC  0561 R 		PULPOT  0157   		PULSCO  0143   		PULSON  0148
PULS0E  0EDA R 		PULS0S  0ED6 R 		PULS1E  0ED6 R 		PULS1S  0ECE R 		PULS2E  0ECE R
PULS2S  0EC0 R 		PULS3E  0EC0 R 		PULS3S  0EB2 R 		PULS4E  0EB2 R 		PULS4S  0EA6 R
PULTAB  059B R 		PULTIM  0147   		PULVEL= FEA0   		PURPLE= 0002   		PXL     0056
PX0   = 00EC   		PX1   = 00D5   		PX2   = 00B1   		PX3   = 0090   		PYL     0057
PZL     0058   		PZ0   = 0094   		PZ1   = 00B0   		PZ2   = 00B8   		PZ3   = 00A7
QCHKS6= ****  G		QCHKS7= ****  G		QCHKS8= ****  G		QDSTAT  0001   		QFRAME  0003
QNXTST  0002   		QSTATE  0000   		QSTATU  0005   		QTMPAU  0004   		QT1     00B5
QT2     016C   		QT3     0455   		QT4     0720   		QT5     011F   		QT6     011B
QUASEC= 0005   		RANDOM= 60CA   		RANDO2= 60DA   		RANKS   0600   		RATS  = 00C0
RED   = 0003   		RITSID  007C   		ROMSTA= 3000   		ROTCOL  06BB R 		ROTDIS  0114
ROTFLG  0113   		RQRDSP= ****  G		RSCORH  0045   		RSCORL  0043   		RSCORM  0044
RUNGVG  00B0   		RUNLOC  02CD R 		SAVEND  03CE   		SAVEP   03BC   		SAVEX   0035
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 60+
SYMBOL TABLE

SAVEY   0036   		SBCACT  0125 R 		SBCLOG  0105 R 		SBCSWI  0145 R 		SCALE = ****  G
SCAPIC  0B3F R 		SCAPI2  0B4B R 		SCFL    0079   		SECOND= 0014   		SECOPH  040B
SECOPL  0409   		SECOPM  040A   		SECOUH  0408   		SECOUL  0406   		SECOUM  0407
SECUVG  00B6   		SECUVY  016E   		SETSHR  06CE R 		SHRSCA  06DC R 		SKCTL = 60CF
SKCTL2= 60DF   		SPACG = 0000   		SPARE3  0133   		SPBINA  013A   		SPECIA  0694 R
SPFTIM  013C   		SPINCO  0145   		SPLINE  0139   		SPOKE   122E R 		SPOKST  0425
SPWECO  106D R 		SPXIND  013B   		STALOC  02BC R 		SUBCOU  0099   		SUZCNT  03AA
SUZTIM  0125   		SVGLIS  0076   		SWAPVG  0788 RG		SWFINA  004E   		SWRELE  004F
SWSTAT  004D   		SWSTRT  004D   		SXH     0062   		SXL     0061   		SYM   = 6092
SZH     0064   		SZL     0063   		S1    = 1522 R 		S2    = 155F R 		S3    = 1540 R
S4    = 147D R 		S5    = 13CC R 		S6    = 01F3 R 		S7    = 01FB R 		TANCOL= 0002
TANKCO  0144   		TANPIC  0455 R 		TANTAB  0464 R 		TBHD    0050   		TBLIND  0602
TCMFLG  00A2   		TEMPL   002A   		TEMPX   002E   		TEMPY   002F   		TEMPZ   0030
TEMP0   0029   		TEMP1   002A   		TEMP2   002B   		TEMP3   002C   		TEMP4   002D
TEXTYP  062B R 		TIMHIS  0605   		TIPACT  1507 R 		TNKOUT  00A1   		TOUT0   00B4
TRACOL= 0005   		TRAPIC  0468 R 		TRATAB  0476 R 		TSLAMR  000B   		TSPCOD  0683 R
TSPTIM  0670 R 		TURQOI= 0004   		TYPCOD  015E   		UNITXH  009B   		UNITXL  009A
UNITZH  009D   		UNITZL  009C   		UPCURN  1216 R 		VBASE   0E14 R 		VECRAM= 2000
VGADD = ****  G		VGADD2= ****  G		VGADD3= ****  G		VGBRIT  0073  G		VGCNTR= ****  G
VGDOT   03B0 RG		VGHALT= ****  G		VGHEXZ= ****  G		VGJSRL= ****  G		VGLIST  0074  G
VGRTSL= ****  G		VGSCAL= ****  G		VGSCA1= ****  G		VGSIZE  0072  G		VGSTAR= 4800
VGSTAT= ****  G		VGSTA1= ****  G		VGSTOP= 5800   		VGVCTR= ****  G		VGVTR1= ****  G
VGVTR2= ****  G		VGY     00A9   		VGYABS  15B1 RG		VGYAB1  15A4 RG		WAVEN1  0046
WAVEN2  0047   		WCHAMX  011A   		WCHARF  0119   		WCHARI  0118   		WCHARL  0120
WELBIN  0B2E R 		WELCOL= 0006   		WELLID  0112   		WELLIS  0B1E R 		WELPIC  1179 R
WELSEN  0ACE R 		WELSEQ  0ABE R 		WELTYP  0111   		WFLICA  015D   		WFLMAX  012E
WFLMIN  0129   		WFUFRQ  015F   		WFUMAX  0132   		WFUMIN  012D   		WFUSCH  0159
WFUSIH= 0169   		WFUSIL= 0164   		WHICHB  07AB R 		WHITE = 0000   		WHITIP  1561 R
WINVIL  0160   		WINVIN  0165   		WINVJM  011D   		WINVMX  011C   		WNYMMX  011E
WORSCR  0EDA R 		WPULCA  015C   		WPULFI  016D   		WPUMAX  012F   		WPUMIN  012A
WSPMAX  0131   		WSPMIN  012C   		WTACAR  0149   		WTAMAX  0130   		WTAMIN  012B
WTCHDG= 5000   		WTFMAX  0136   		WTTFRA  00B3   		XADJL   0066   		XCOMP   006E  G
XSUBR   069D R 		X0H     0080   		X0L     0078   		X1H     0081   		X1L     0079
X2H     0082   		X2L     007A   		X3H     0083   		X3L     007B   		X4H     0084
X4L     007C   		X5H     0085   		X5L     007D   		X6H     0086   		X6L     007E
X7H     0087   		X7L     007F   		YCOMP = 0070   		YDEUNI  00A0   		YELLOW= 0001
YVGVCT  14E2 R 		ZABFLI= 0000   		ZABFUS= 0004   		ZABPUL= 0001   		ZABTAN= 0002
ZABTRA= 0003   		ZADEST  0121   		ZADJL   0068   		ZAPCOL= 0000   		ZATVG1  00C0 RG
ZATVG2  0023 RG		ZBLACK= 000F   		ZBLUE = 000B   		ZCARFL= 0001   		ZCARFU= 0003
ZCARNO= 0000   		ZCARPU= 0002   		ZDIRDO= 0080   		ZDIRUP= 0000   		ZFIRNO= 0000
ZFIRYE= 0040   		ZGREEN= 0007   		ZMOTJM= 0080   		ZMOTMO= 0000   		ZPNLOC  00AE
ZPOFFS  00AF   		ZPURPL= 0008   		ZQATLI  039D RG		ZQPOKS  061C RG		ZQPONS  13F1 RG
ZRED  = 000C   		ZROCCW= 0040   		ZROTCW= 0000   		ZTURQO= 0003   		ZWHITE= 0000
ZYELLO= 0004   		Z0H     0090   		Z0L     0088   		Z1H     0091   		Z1L     0089
Z2H     0092   		Z2L     008A   		Z3H     0093   		Z3L     008B   		Z4H     0094
Z4L     008C   		Z5H     0095   		Z5L     008D   		Z6H     0096   		Z6L     008E
Z7H     0097   		Z7L     008F   		$BC     0018   		$BCCNT  0016   		$CCTIM  0013
$CMODE  0009   		$CNCT   0017   		$CNSTT  000D   		$COINA  0008   		$INTCT  0007
$LAM    0008   		$LMBIT= 0008   		$LMTIM  000C   		$PSTSL  0010   		$TEST   0008
$$CRDT  0006   		.Z.   = 0002   		...ONF= 0001   		...PUV= 0000   		...RD = 0010
...SPU= 0000   		...SUV= 0000   		...T  = 157A R 		...UV = 0006   		...X  = 0000

. ABS.	0721	  00
      	15DF	  01
ERRORS DETECTED: 0
FREE CORE: 11634. WORDS

OBJ:ALDISP,OBJ:ALDISP.LST=ALDISP

(OBJ:ALDISP.OBJ,OBJ:ALDISP.LST=DK1:ALDISP)
ALDISP - ALIENS DISPLAY FUNCTIO	ATARI MAC65 VM03.09  00:01:15 PAGE 60+
SYMBOL TABLE


A TOTAL OF 11,176 STATEMENTS WERE PROCESSED.

CPU TIME -  00:00:00.4     I/O TIME -  00:00:00.0

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           